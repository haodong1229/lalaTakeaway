{"version":3,"sources":["webpack:///src/pages/shop/update.vue","webpack:///./src/pages/shop/update.vue?21bd","webpack:///./src/pages/shop/update.vue"],"names":["update","data","timePickerShow","type","store","title","logo","content","business_hours","telephone","address","thumbs","category_arr","notice","tips","categorys","businessHoursSelected","index","islegal","showPreLoading","components","publicHeader","header","uploader","methods","onToggleTimePicker","this","onConfirmTime","value","onAddTime","length","util","$toast","push","s","e","onRemoveTime","splice","onToggleCategory","id","$refs","checkboxes","toggle","onChangeLogo","filename","onChangeThumbs","x","image","url","onLoad","that","Object","funcCommon","vue","autoAssign","variable","success","res","onSubmit","redirect","stringify_default","getUrl","path","fail","created","$route","query","mounted","shop_update","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","label","placeholder","input-align","model","callback","$$v","$set","expression","rows","autosize","_l","item","key","slot","on","click","$event","_s","class","margin-10-t","position","confirm","cancel","max","onGetUrl","delete","_e","size","disabled","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.83339e73c5f9b58ea8b1.js","sourcesContent":["<template>\r\n\t<div id=\"store-update\">\r\n\t\t<public-header title=\"基本信息设置\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-cell-group v-if=\"type == 'title'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"门店名称\"\r\n\t\t\t\t\tplaceholder=\"请输入门店名称\"\r\n\t\t\t\t\tv-model=\"store.title\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t>\r\n\t\t\t\t</van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<van-cell-group v-else-if=\"type == 'telephone'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"联系电话\"\r\n\t\t\t\t\tplaceholder=\"请输入门店联系电话\"\r\n\t\t\t\t\tv-model=\"store.telephone\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t>\r\n\t\t\t\t</van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<van-cell-group v-else-if=\"type == 'address'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"门店地址\"\r\n\t\t\t\t\tplaceholder=\"请输入门店地址\"\r\n\t\t\t\t\tv-model=\"store.address\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t>\r\n\t\t\t\t</van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<template v-else-if=\"type == 'content'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店描述</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.content\" type=\"textarea\" rows=\"3\" autosize placeholder=\"请输入门店描述\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'notice'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">商户公告</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.notice\" type=\"textarea\" rows=\"3\" autosize placeholder=\"请输入商户公告\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'tips'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">商品列表页提示</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.tips\" type=\"textarea\" rows=\"3\" autosize placeholder=\"用户进入页面后, 将弹框提示设置的内容\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'business_hours'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">营业时间</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-cell v-for=\"(item, index) in store.business_hours\" :key=\"index\">\r\n\t\t\t\t\t\t<div slot=\"title\">\r\n\t\t\t\t\t\t\t<span @click=\"onToggleTimePicker(index, 's')\">{{item.s}}</span>\r\n\t\t\t\t\t\t\t<span class=\"padding-10-lr\">至</span>\r\n\t\t\t\t\t\t\t<span @click=\"onToggleTimePicker(index, 'e')\">{{item.e}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div slot=\"right-icon\" class=\"c-info\" @click=\"onRemoveTime(index)\">移除</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t<van-cell-group :class=\"{'margin-10-t': store.business_hours.length > 0}\">\r\n\t\t\t\t\t<van-cell >\r\n\t\t\t\t\t\t<div class=\"c-info\" slot=\"title\" @click=\"onAddTime\">\r\n\t\t\t\t\t\t\t<i class=\"icon icon-roundadd font-16\"></i>添加时间段\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t<!--时间picker-->\r\n\t\t\t\t<van-popup v-model=\"timePickerShow\" position=\"bottom\">\r\n\t\t\t\t\t<van-datetime-picker\r\n\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t@confirm=\"onConfirmTime\"\r\n\t\t\t\t\t\t@cancel=\"onToggleTimePicker\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-popup>\r\n\t\t\t</template>\r\n\r\n\t\t\t<!--门店Logo-->\r\n\t\t\t<template v-else-if=\"type == 'logo'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店Logo</div>\r\n\t\t\t\t<uploader max=\"1\" :value=\"logo\" @onGetUrl=\"onChangeLogo\" @delete=\"onChangeLogo\"></uploader>\r\n\t\t\t</template>\r\n\r\n\t\t\t<!--门店实景-->\r\n\t\t\t<template v-else-if=\"type == 'thumbs'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店实景</div>\r\n\t\t\t\t<uploader max=\"7\" :value=\"thumbs\" @onGetUrl=\"onChangeThumbs\" @delete=\"onChangeThumbs\"></uploader>\r\n\t\t\t</template>\r\n\r\n\t\t\t<div class=\"padding-15\">\r\n\t\t\t\t<van-button size=\"normal\" class=\"bg-info\" :disabled=\"!islegal\" block @click=\"onSubmit\">保存修改</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport uploader from \"@/components/uploader\"\r\n\timport {getData, setData} from \"@/controller/funcCommon.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimePickerShow: false,\r\n\t\t\t\ttype: 'title',\r\n\t\t\t\tstore: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tlogo: '',\r\n\t\t\t\t\tcontent: '', //描述\r\n\t\t\t\t\tbusiness_hours: [],\r\n\t\t\t\t\ttelephone: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tthumbs: [],\r\n\t\t\t\t\tcategory_arr: [],\r\n\t\t\t\t\tnotice: '',\r\n\t\t\t\t\ttips: '',\r\n\t\t\t\t},\r\n\t\t\t\tcategorys: [],\r\n\t\t\t\tbusinessHoursSelected: {\r\n\t\t\t\t\tindex: 0,\r\n\t\t\t\t\ttype: 's'\r\n\t\t\t\t},\r\n\t\t\t\tlogo: [],\r\n\t\t\t\tthumbs: [],\r\n\t\t\t\tislegal: false,\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t\tuploader\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonToggleTimePicker(index, type) {\r\n\t\t\t\tthis.timePickerShow = !this.timePickerShow;\r\n\t\t\t\tif(index > -1 && (type == 's' || type == 'e')) {\r\n\t\t\t\t\tthis.businessHoursSelected.index = index;\r\n\t\t\t\t\tthis.businessHoursSelected.type = type;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonConfirmTime(value) {\r\n\t\t\t\tif(value) {\r\n\t\t\t\t\tlet index = this.businessHoursSelected.index;\r\n\t\t\t\t\tlet type = this.businessHoursSelected.type;\r\n\t\t\t\t\tthis.store.business_hours[index][type] = value;\r\n\t\t\t\t\tthis.onToggleTimePicker();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonAddTime() {\r\n\t\t\t\tif(this.type != 'business_hours') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.store.business_hours.length >=3 ) {\r\n\t\t\t\t\tthis.util.$toast('最多可添加三个营业时间段')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.business_hours.push({\r\n\t\t\t\t\ts: '08:00',\r\n\t\t\t\t\te: '21:00'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonRemoveTime(index) {\r\n\t\t\t\tif(this.type != 'business_hours') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.business_hours.splice(index, 1);\r\n\t\t\t},\r\n\t\t\tonToggleCategory(id, index) {\r\n\t\t\t\tthis.$refs.checkboxes[index].toggle();\r\n\t\t\t},\r\n\t\t\tonChangeLogo(data) {\r\n\t\t\t\tlet logo = ''\r\n\t\t\t\tif(data && data.length == 1 && data[0].filename) {\r\n\t\t\t\t\tlogo = data[0].filename;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.logo = logo;\r\n\t\t\t},\r\n\t\t\tonChangeThumbs(data) {\r\n\t\t\t\tlet thumbs = [];\r\n\t\t\t\tif(data && data.length > 0) {\r\n\t\t\t\t\tfor(var x in data) {\r\n\t\t\t\t\t\tthumbs.push({\r\n\t\t\t\t\t\t\timage: data[x].url,\r\n\t\t\t\t\t\t\turl: ''\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.thumbs = thumbs;\r\n\t\t\t},\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\turl: 'manage/shop/index/info',\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tautoAssign: true,\r\n\t\t\t\t\tvariable: 'store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: that.id,\r\n\t\t\t\t\t\ttype: that.type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t\tif(that.type == 'logo') {\r\n\t\t\t\t\t\t\tif(that.store.logo) {\r\n\t\t\t\t\t\t\t\tthat.logo.push({\r\n\t\t\t\t\t\t\t\t\turl: that.store.logo\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.type == 'thumbs') {\r\n\t\t\t\t\t\t\tif(that.store.thumbs && that.store.thumbs.length > 0) {\r\n\t\t\t\t\t\t\t\tfor(var x in that.store.thumbs) {\r\n\t\t\t\t\t\t\t\t\tthat.thumbs.push({\r\n\t\t\t\t\t\t\t\t\t\turl: that.store.thumbs[x].image\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.islegal) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.islegal = false;\r\n\t\t\t\tlet value = that.store[that.type];\r\n\t\t\t\tlet redirect = 'pages/shop/basic';\r\n\t\t\t\tif(that.type == 'notice' || that.type == 'tips') {\r\n\t\t\t\t\tredirect = 'pages/shop/index';\r\n\t\t\t\t}\r\n\t\t\t\tsetData({\r\n\t\t\t\t\turl: 'manage/shop/index/setting',\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: that.type,\r\n\t\t\t\t\t\tvalue: JSON.stringify(value),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tredirect: that.util.getUrl({path: redirect}),\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tthat.util.$toast(res);\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query) {\r\n\t\t\t\tif(this.$route.query.type) {\r\n\t\t\t\t\tthis.type = this.$route.query.type;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/shop/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"store-update\"}},[_c('public-header',{attrs:{\"title\":\"基本信息设置\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[(_vm.type == 'title')?_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"门店名称\",\"placeholder\":\"请输入门店名称\",\"input-align\":\"right\"},model:{value:(_vm.store.title),callback:function ($$v) {_vm.$set(_vm.store, \"title\", $$v)},expression:\"store.title\"}})],1):(_vm.type == 'telephone')?_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"联系电话\",\"placeholder\":\"请输入门店联系电话\",\"input-align\":\"right\"},model:{value:(_vm.store.telephone),callback:function ($$v) {_vm.$set(_vm.store, \"telephone\", $$v)},expression:\"store.telephone\"}})],1):(_vm.type == 'address')?_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"门店地址\",\"placeholder\":\"请输入门店地址\",\"input-align\":\"right\"},model:{value:(_vm.store.address),callback:function ($$v) {_vm.$set(_vm.store, \"address\", $$v)},expression:\"store.address\"}})],1):(_vm.type == 'content')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店描述\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"请输入门店描述\"},model:{value:(_vm.store.content),callback:function ($$v) {_vm.$set(_vm.store, \"content\", $$v)},expression:\"store.content\"}})],1)]:(_vm.type == 'notice')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"商户公告\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"请输入商户公告\"},model:{value:(_vm.store.notice),callback:function ($$v) {_vm.$set(_vm.store, \"notice\", $$v)},expression:\"store.notice\"}})],1)]:(_vm.type == 'tips')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"商品列表页提示\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"用户进入页面后, 将弹框提示设置的内容\"},model:{value:(_vm.store.tips),callback:function ($$v) {_vm.$set(_vm.store, \"tips\", $$v)},expression:\"store.tips\"}})],1)]:(_vm.type == 'business_hours')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"营业时间\")]),_vm._v(\" \"),_c('van-cell-group',_vm._l((_vm.store.business_hours),function(item,index){return _c('van-cell',{key:index},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{on:{\"click\":function($event){_vm.onToggleTimePicker(index, 's')}}},[_vm._v(_vm._s(item.s))]),_vm._v(\" \"),_c('span',{staticClass:\"padding-10-lr\"},[_vm._v(\"至\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.onToggleTimePicker(index, 'e')}}},[_vm._v(_vm._s(item.e))])]),_vm._v(\" \"),_c('div',{staticClass:\"c-info\",attrs:{\"slot\":\"right-icon\"},on:{\"click\":function($event){_vm.onRemoveTime(index)}},slot:\"right-icon\"},[_vm._v(\"移除\")])])})),_vm._v(\" \"),_c('van-cell-group',{class:{'margin-10-t': _vm.store.business_hours.length > 0}},[_c('van-cell',[_c('div',{staticClass:\"c-info\",attrs:{\"slot\":\"title\"},on:{\"click\":_vm.onAddTime},slot:\"title\"},[_c('i',{staticClass:\"icon icon-roundadd font-16\"}),_vm._v(\"添加时间段\\n\\t\\t\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.timePickerShow),callback:function ($$v) {_vm.timePickerShow=$$v},expression:\"timePickerShow\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"time\"},on:{\"confirm\":_vm.onConfirmTime,\"cancel\":_vm.onToggleTimePicker}})],1)]:(_vm.type == 'logo')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店Logo\")]),_vm._v(\" \"),_c('uploader',{attrs:{\"max\":\"1\",\"value\":_vm.logo},on:{\"onGetUrl\":_vm.onChangeLogo,\"delete\":_vm.onChangeLogo}})]:(_vm.type == 'thumbs')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店实景\")]),_vm._v(\" \"),_c('uploader',{attrs:{\"max\":\"7\",\"value\":_vm.thumbs},on:{\"onGetUrl\":_vm.onChangeThumbs,\"delete\":_vm.onChangeThumbs}})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"padding-15\"},[_c('van-button',{staticClass:\"bg-info\",attrs:{\"size\":\"normal\",\"disabled\":!_vm.islegal,\"block\":\"\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存修改\")])],1)],2),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be8552ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/shop/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be8552ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be8552ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be8552ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shop/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}