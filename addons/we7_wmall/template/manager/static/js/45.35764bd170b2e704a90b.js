webpackJsonp([45],{"1Ss/":function(t,e){},"C1J/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Cz8s"),i=a("deIj"),o={components:{publicHeader:s.a},data:function(){return{config:{logo:""},mobile:"",password:"",showPreLoading:!0,islegal:!1}},methods:{onLoad:function(){var t=this,e=t.util.getStorage("clerkInfo");e&&e.token?t.$router.replace(t.util.getUrl({path:"/pages/order/index"})):Object(i.a)({vue:t,url:"manage/auth/login",data:{nosid:1},autoAssign:!0,variable:"config",success:function(){t.islegal=!0}})},onSubmit:function(){var t=this;t.mobile?t.password?Object(i.c)({vue:t,url:"manage/auth/login",data:{mobile:t.mobile,password:t.password,nosid:1},success:function(e){t.util.setStorage("clerkInfo",{token:e.clerk.token});var a=e.sids;if(1==a.length)return t.util.setStorage("__sid",a[0]),void t.util.$toast("登录成功",t.util.getUrl({path:"/pages/order/index"}),1e3,"replace");a.length>1&&t.util.$toast("登录成功",t.util.getUrl({path:"/pages/shop/select"}),1e3,"replace")},fail:function(e){t.util.$toast(e.message),t.islegal=!0}}):t.util.$toast("请输入密码"):t.util.$toast("请输入手机号")}},mounted:function(){this.onLoad()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"auth-loginBak"}},[a("public-header",{attrs:{title:"登录"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"login-group"},[a("div",{staticClass:"logo"},[a("img",{staticClass:"img-100",attrs:{src:t.config.logo,alt:""}})]),t._v(" "),a("div",{staticClass:"login-input"},[a("i",{staticClass:"van-icon van-icon-contact"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.mobile,expression:"mobile",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"login-input"},[a("i",{staticClass:"icon icon-lock"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"pass-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("router-link",{staticClass:"no-pass",attrs:{tag:"div",to:t.util.getUrl({path:"/pages/auth/forget"})}},[t._v("忘记密码？")])],1),t._v(" "),a("div",{staticClass:"login-btn-group"},[a("van-button",{staticClass:"bg-info",attrs:{size:"normal",block:"",disabled:!t.islegal},on:{click:t.onSubmit}},[t._v("登录")])],1)])]),t._v(" "),t.showPreLoading?a("iloading"):t._e()],1)},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("1Ss/")},null,null);e.default=l.exports}});
//# sourceMappingURL=45.35764bd170b2e704a90b.js.map