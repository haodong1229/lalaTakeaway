{"version":3,"sources":["webpack:///src/pages/service/comment.vue","webpack:///./src/pages/service/comment.vue?dd41","webpack:///./src/pages/service/comment.vue"],"names":["comment","data","comments","page","psize","loading","finished","empty","showPreLoading","isRefresh","filter","items","type","replyPopup","reply","replyId","replyIndex","components","publicHeader","header","methods","onLoad","value","_this","this","util","request","url","then","res","result","message","errno","options","vue","$toast","concat","toConsumableArray_default","length","onPullDownRefresh","onChangeStatus","item","status","index","that","jspost","id","confirm","success","onToggleStatus","parseInt","onToogleReplyPopup","onConfirmReply","Object","funcCommon","assign_default","mounted","service_comment","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","class","active","on","click","$event","refresh","model","callback","$$v","expression","src","alt","offset","immediate-check","load","$set","_l","key","span","avatar","_s","mobile","score","addtime","size","count","color","disabled","disabled-color","note","thumbs","jsPreviewImage","_e","formatDate","replytime","self_audit_comment","tag","to","getUrl","path","query","oid","position","placeholder","rows","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.6f0887b5ffe0c3891722.js","sourcesContent":["<template>\r\n\t<div id=\"service-comment\">\r\n\t\t<public-header title=\"用户评价\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"wrap-search\">\r\n\t\t\t\t<div class=\"tab-group flex-lr border-1px-b\">\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.type == -1}\" @click=\"onToggleStatus(-1)\">全部评价</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.type == 1}\" @click=\"onToggleStatus(1)\">好评</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.type == 2}\" @click=\"onToggleStatus(2)\">中评</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.type == 3}\" @click=\"onToggleStatus(3)\">差评</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh()\">\r\n\t\t\t\t<van-list\r\n\t\t\t\t\t\tv-model=\"comments.loading\"\r\n\t\t\t\t\t\t:finished=\"comments.finished\"\r\n\t\t\t\t\t\t@load=\"onLoad\"\r\n\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\tv-if=\"!comments.empty\"\r\n\t\t\t\t\t\tclass=\"comment-list\"\r\n\t\t\t\t>\r\n\t\t\t\t<div class=\"comment-item\" v-for=\"(item, index) in comments.data\" :key=\"item.id\">\r\n\t\t\t\t\t<van-row>\r\n\t\t\t\t\t\t<van-col span=\"4\">\r\n\t\t\t\t\t\t\t<div class=\"comment-img\">\r\n\t\t\t\t\t\t\t\t<img class=\"img-100\" :src=\"item.avatar\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"20\">\r\n\t\t\t\t\t\t\t<div class=\"comment-right\">\r\n\t\t\t\t\t\t\t\t<div class=\"comment-title flex-lr\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"comment-number\">{{item.mobile}}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"c-danger font-bold\">{{item.score}}星</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-13 c-gray\">{{item.addtime}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"padding-10-b flex-lr\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-12 c-gray\">商品质量</div>\r\n\t\t\t\t\t\t\t\t\t\t<van-rate\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"item.goods_quality\"\r\n\t\t\t\t\t\t\t\t\t\t:size=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t:count=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"#ffd21e\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled-color=\"#ffd21e\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-12 c-gray\">配送服务</div>\r\n\t\t\t\t\t\t\t\t\t\t<van-rate\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"item.delivery_service\"\r\n\t\t\t\t\t\t\t\t\t\t:size=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t:count=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"#ffd21e\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled-color=\"#ffd21e\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"flex font-14 c-default padding-10-b\">{{item.note}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"goods-img\" v-if=\"item.thumbs\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"goods-img-detail\" v-for=\"(thumbs, index) in item.thumbs\" @click=\"util.jsPreviewImage(item.thumbs)\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"img-100\" :src=\"thumbs\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"replay margin-10-b\" v-if=\"item.reply\">\r\n\t\t\t\t\t\t\t\t\t 商家回复({{util.formatDate(item.replytime, 'datetime')}}): {{item.reply}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-check\">\r\n\t\t\t\t\t\t\t\t\t<img v-if=\"item.status == 1\" class=\"img-100\" src=\"static/img/pass-check.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t<img v-else-if=\"item.status == 2\" class=\"img-100\" src=\"static/img/no-pass-check.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t<img v-else-if=\"item.status == 0\" class=\"img-100\" src=\"static/img/wait-check.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t</van-row>\r\n\t\t\t\t\t<div class=\"border-1px-t btn-group\">\r\n\t\t\t\t\t\t<template v-if=\"item.self_audit_comment == 1\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeStatus(item, 2, index)\" v-if=\"item.status != 2\">审核未通过</div>\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-info\" @click=\"onChangeStatus(item, 1, index)\" v-if=\"item.status != 1\">审核通过</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<div class=\"btn-item bg-info\" @click=\"onToogleReplyPopup(item.id, index)\">回复</div>\r\n\t\t\t\t\t\t<router-link tag=\"div\" class=\"btn-item bg-info\" :to=\"util.getUrl({path: '/pages/order/detail', query:{id: item.oid}})\">查看订单</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"loaded\" v-if=\"comments.finished\">\r\n\t\t\t\t\t<div class=\"loaded-tips\">没有更多了</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</van-list>\r\n\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t<img src=\"static/img/order_no_con.png\" alt=\"\">\r\n\t\t\t\t<p>没有符合条件的数据!</p>\r\n\t\t\t</div>\r\n\t\t\t</van-pull-refresh>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t\t<!--回复弹出层-->\r\n\t\t<van-popup v-model=\"replyPopup\" position=\"bottom\">\r\n\t\t\t<div class=\"popup-title\">\r\n\t\t\t\t<span class=\"c-gray\" @click=\"onToogleReplyPopup\">取消</span>\r\n\t\t\t\t<span>评论回复</span>\r\n\t\t\t\t<span class=\"c-info\" @click=\"onConfirmReply\">确定</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"popup-content\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tv-model=\"reply\"\r\n\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\tplaceholder=\"限300字符，请勿恶意回复，一经查实将严肃处理，回复后不可修改\"\r\n\t\t\t\t\trows=\"8\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport {setData} from \"@/controller/funcCommon\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcomments:{\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t},\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\ttype: '-1'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\treplyPopup: false,\r\n\t\t\t\treply: '',\r\n\t\t\t\treplyId: 0,\r\n\t\t\t\treplyIndex: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad(value){\r\n\t\t\t\tif(value){\r\n\t\t\t\t\tthis.comments = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif(this.comments.finished) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'manage/service/comment',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: this.comments.page,\r\n\t\t\t\t\t\tpsize: this.comments.psize,\r\n\t\t\t\t\t\ttype: this.filter.items.type\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t\t\tvar result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\toptions.vue.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar comments = result.message.comments;\r\n\t\t\t\t\tthis.comments.data = [...this.comments.data, ...comments];\r\n\t\t\t\t\tif(!this.comments.data.length) {\r\n\t\t\t\t\t\tthis.comments.empty = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(comments && comments.length < this.comments.psize ) {\r\n\t\t\t\t\t\tthis.comments.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.comments.page++;\r\n\t\t\t\t\tthis.comments.loading = false;\r\n\t\t\t\t\tthis.isRefresh = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonPullDownRefresh(){\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t\tonChangeStatus(item, status, index){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.util.jspost({\r\n\t\t\t\t\turl: 'manage/service/comment/comment_status',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: item.id,\r\n                        status: status\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfirm: '确定修改审核状态吗？',\r\n\t\t\t\t\tsuccess: function(){\r\n\t\t\t\t\t\tthat.comments.data[index].status = status;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonToggleStatus(value){\r\n\t\t\t\tvalue = parseInt(value);\r\n\t\t\t\tif(this.filter.items.type == value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.filter.items.type = value;\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t\tonToogleReplyPopup(replyId, replyIndex) {\r\n\t\t\t\tthis.replyPopup = !this.replyPopup;\r\n\t\t\t\tif(replyId > 0 && replyIndex > -1) {\r\n\t\t\t\t\tthis.replyId = replyId;\r\n\t\t\t\t\tthis.replyIndex = replyIndex;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonConfirmReply() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.reply) {\r\n\t\t\t\t\tthis.util.$toast('回复内容不能为空');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.replyId > 0 && that.replyIndex > -1) {\r\n\t\t\t\t\tsetData({\r\n\t\t\t\t\t\tvue: that,\r\n\t\t\t\t\t\turl: 'manage/service/comment/reply',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: that.replyId,\r\n\t\t\t\t\t\t\treply: that.reply,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tthat.comments.data[that.replyIndex] = Object.assign(that.comments.data[that.replyIndex], res);\r\n\t\t\t\t\t\t\tthat.reply = '';\r\n\t\t\t\t\t\t\tthat.util.$toast('回复成功');\r\n\t\t\t\t\t\t\tthat.onToogleReplyPopup();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.onLoad();\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#service-comment .content .comment-item{\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-img{\r\n\t\twidth: 45px;\r\n\t\theight: 45px;\r\n\t\tpadding-top: 10px;\r\n\t\tpadding-left: 10px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-img img{\r\n\t\tborder-radius: 100%;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right{\r\n\t\tposition: relative;\r\n\t\tpadding-top: 10px;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .comment-title{\r\n\t\theight: 35px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .comment-title .comment-number{\r\n\t\tfont-size: 17px;\r\n\t\tfont-weight: bold;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .goods-img{\r\n\t\tdisplay:flex;\r\n\t\tflex-flow:row wrap;\r\n\t\talign-items:center;\r\n\t\tpadding-bottom: 10px;\r\n\t\tmargin-left: -5px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .goods-img .goods-img-detail{\r\n\t\twidth: 25%;\r\n\t\tpadding: 5px;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .comment-address{\r\n\t\tmax-width: 65%;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #333;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .replay{\r\n\t\tfont-size:14px;\r\n\t\tcolor:#898989;\r\n\t\tpadding:10px;\r\n\t\tbackground:#F4F4F4;\r\n\t}\r\n\t#service-comment .content .comment-item .comment-right .comment-check{\r\n\t\tposition: absolute;\r\n\t\ttop: 5px;\r\n\t\tright: 30px;\r\n\t\twidth: 123px;\r\n\t\theight: 100px;\r\n\t}\r\n\t#service-comment .content .comment-item .btn-group{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px;\r\n\t}\r\n\t#service-comment .content .comment-item .btn-group .btn-item{\r\n\t\tmin-width: 60px;\r\n\t\tmargin-left: 10px;\r\n\t\ttext-align: center;\r\n\t\tpadding: 10px 8px;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tborder-radius: 3px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/service/comment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"service-comment\"}},[_c('public-header',{attrs:{\"title\":\"用户评价\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"wrap-search\"},[_c('div',{staticClass:\"tab-group flex-lr border-1px-b\"},[_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.type == -1},on:{\"click\":function($event){_vm.onToggleStatus(-1)}}},[_vm._v(\"全部评价\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.type == 1},on:{\"click\":function($event){_vm.onToggleStatus(1)}}},[_vm._v(\"好评\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.type == 2},on:{\"click\":function($event){_vm.onToggleStatus(2)}}},[_vm._v(\"中评\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.type == 3},on:{\"click\":function($event){_vm.onToggleStatus(3)}}},[_vm._v(\"差评\")])])]),_vm._v(\" \"),_c('van-pull-refresh',{on:{\"refresh\":function($event){_vm.onPullDownRefresh()}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[(!_vm.comments.empty)?_c('van-list',{staticClass:\"comment-list\",attrs:{\"finished\":_vm.comments.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.comments.loading),callback:function ($$v) {_vm.$set(_vm.comments, \"loading\", $$v)},expression:\"comments.loading\"}},[_vm._l((_vm.comments.data),function(item,index){return _c('div',{key:item.id,staticClass:\"comment-item\"},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"4\"}},[_c('div',{staticClass:\"comment-img\"},[_c('img',{staticClass:\"img-100\",attrs:{\"src\":item.avatar,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('div',{staticClass:\"comment-right\"},[_c('div',{staticClass:\"comment-title flex-lr\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"comment-number\"},[_vm._v(_vm._s(item.mobile))]),_vm._v(\" \"),_c('div',{staticClass:\"c-danger font-bold\"},[_vm._v(_vm._s(item.score)+\"星\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-13 c-gray\"},[_vm._v(_vm._s(item.addtime))])]),_vm._v(\" \"),_c('div',{staticClass:\"padding-10-b flex-lr\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"font-12 c-gray\"},[_vm._v(\"商品质量\")]),_vm._v(\" \"),_c('van-rate',{attrs:{\"size\":12,\"count\":5,\"color\":\"#ffd21e\",\"disabled\":\"true\",\"disabled-color\":\"#ffd21e\"},model:{value:(item.goods_quality),callback:function ($$v) {_vm.$set(item, \"goods_quality\", $$v)},expression:\"item.goods_quality\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"font-12 c-gray\"},[_vm._v(\"配送服务\")]),_vm._v(\" \"),_c('van-rate',{attrs:{\"size\":12,\"count\":5,\"color\":\"#ffd21e\",\"disabled\":\"true\",\"disabled-color\":\"#ffd21e\"},model:{value:(item.delivery_service),callback:function ($$v) {_vm.$set(item, \"delivery_service\", $$v)},expression:\"item.delivery_service\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex font-14 c-default padding-10-b\"},[_vm._v(_vm._s(item.note))]),_vm._v(\" \"),(item.thumbs)?_c('div',{staticClass:\"goods-img\"},_vm._l((item.thumbs),function(thumbs,index){return _c('div',{staticClass:\"goods-img-detail\",on:{\"click\":function($event){_vm.util.jsPreviewImage(item.thumbs)}}},[_c('img',{staticClass:\"img-100\",attrs:{\"src\":thumbs,\"alt\":\"\"}})])})):_vm._e(),_vm._v(\" \"),(item.reply)?_c('div',{staticClass:\"replay margin-10-b\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t 商家回复(\"+_vm._s(_vm.util.formatDate(item.replytime, 'datetime'))+\"): \"+_vm._s(item.reply)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"comment-check\"},[(item.status == 1)?_c('img',{staticClass:\"img-100\",attrs:{\"src\":\"static/img/pass-check.png\",\"alt\":\"\"}}):(item.status == 2)?_c('img',{staticClass:\"img-100\",attrs:{\"src\":\"static/img/no-pass-check.png\",\"alt\":\"\"}}):(item.status == 0)?_c('img',{staticClass:\"img-100\",attrs:{\"src\":\"static/img/wait-check.png\",\"alt\":\"\"}}):_vm._e()])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"border-1px-t btn-group\"},[(item.self_audit_comment == 1)?[(item.status != 2)?_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeStatus(item, 2, index)}}},[_vm._v(\"审核未通过\")]):_vm._e(),_vm._v(\" \"),(item.status != 1)?_c('div',{staticClass:\"btn-item bg-info\",on:{\"click\":function($event){_vm.onChangeStatus(item, 1, index)}}},[_vm._v(\"审核通过\")]):_vm._e()]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn-item bg-info\",on:{\"click\":function($event){_vm.onToogleReplyPopup(item.id, index)}}},[_vm._v(\"回复\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"btn-item bg-info\",attrs:{\"tag\":\"div\",\"to\":_vm.util.getUrl({path: '/pages/order/detail', query:{id: item.oid}})}},[_vm._v(\"查看订单\")])],2)],1)}),_vm._v(\" \"),(_vm.comments.finished)?_c('div',{staticClass:\"loaded\"},[_c('div',{staticClass:\"loaded-tips\"},[_vm._v(\"没有更多了\")])]):_vm._e()],2):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"没有符合条件的数据!\")])])],1)],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e(),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.replyPopup),callback:function ($$v) {_vm.replyPopup=$$v},expression:\"replyPopup\"}},[_c('div',{staticClass:\"popup-title\"},[_c('span',{staticClass:\"c-gray\",on:{\"click\":_vm.onToogleReplyPopup}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',[_vm._v(\"评论回复\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-info\",on:{\"click\":_vm.onConfirmReply}},[_vm._v(\"确定\")])]),_vm._v(\" \"),_c('div',{staticClass:\"popup-content\"},[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"限300字符，请勿恶意回复，一经查实将严肃处理，回复后不可修改\",\"rows\":\"8\"},model:{value:(_vm.reply),callback:function ($$v) {_vm.reply=$$v},expression:\"reply\"}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6983c221\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/service/comment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6983c221\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./comment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./comment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./comment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6983c221\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./comment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/service/comment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}