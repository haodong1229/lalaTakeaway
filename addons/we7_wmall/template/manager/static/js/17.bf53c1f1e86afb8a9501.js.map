{"version":3,"sources":["webpack:///src/pages/activity/list.vue","webpack:///./src/pages/activity/list.vue?f777","webpack:///./src/pages/activity/list.vue"],"names":["list","components","publicHeader","header","data","showPreLoading","isRefresh","activity","empty","filter","items","status","methods","onLoad","that","this","Object","funcCommon","vue","url","success","res","length","assign_default","onToggleStatus","value","parseInt","onPullDownRefresh","created","query","$route","mounted","activity_list","render","_vm","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","class","active","on","click","$event","refresh","model","callback","$$v","expression","src","alt","_l","item","_s","until","_e","type","coupon_detail","total","amount","dosage_total","dosage","is_use_total","type_cn","coupon","discount","condition","use_days_limit","back","grantData","discountData","starttime_cn","endtime_cn","addtime_cn","util","jspost","confirm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.bf53c1f1e86afb8a9501.js","sourcesContent":["<template>\r\n\t<div id=\"activity-list\">\r\n\t\t<public-header title=\"店铺活动\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"wrap-search\">\r\n\t\t\t\t<!-- <div class=\"tab-group\">\r\n\t\t\t\t\t<router-link tag=\"div\" class=\"tab-item\" :to=\"util.getUrl({path: 'pages/activity/index'})\">新建活动</router-link>\r\n\t\t\t\t\t<div class=\"tab-item active\">已创建活动</div>\r\n\t\t\t\t</div> -->\r\n\t\t\t\t<div class=\"tab-group\">\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 2}\" @click=\"onToggleStatus(2)\">待生效</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 1}\" @click=\"onToggleStatus(1)\">进行中</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 0}\" @click=\"onToggleStatus(0)\">已结束</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh()\">\r\n\t\t\t\t<van-list v-if=\"!empty\">\r\n\t\t\t\t\t<div class=\"list-item\" v-for=\"item in activity\">\r\n\t\t\t\t\t\t<div class=\"padding-15 van-hairline--bottom\">\r\n\t\t\t\t\t\t\t<div class=\"flex margin-15-b\">\r\n\t\t\t\t\t\t\t\t<span class=\"font-15 padding-10-r\">{{item.title}}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"c-gray\" v-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t\t\t剩余<span class=\"c-danger font-14\">{{item.until}}</span>天\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<template v-if=\"item.type == 'couponCollect' || item.type == 'couponGrant'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">券总张数: {{item.type == 'couponCollect' ? item.coupon_detail.total * item.coupon_detail.amount : item.coupon_detail.amount}}张</p>\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">发放数量: {{item.type == 'couponCollect' ? item.coupon_detail.dosage_total : item.coupon_detail.dosage}}张</p>\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">使用数量: {{item.coupon_detail.is_use_total}}张</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<p class=\"desc\">活动类型: {{item.type_cn}}</p>\r\n\t\t\t\t\t\t\t<template v-if=\"item.type == 'couponCollect'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\" v-if=\"item.data\">\r\n\t\t\t\t\t\t\t\t\t券的金额: \r\n\t\t\t\t\t\t\t\t\t<template v-for=\"coupon in item.data\">\r\n\t\t\t\t\t\t\t\t\t\t{{coupon.discount}}元|满{{coupon.condition}}可用\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"desc\" v-if=\"item.data\">\r\n\t\t\t\t\t\t\t\t\t券有效期: \r\n\t\t\t\t\t\t\t\t\t<template v-for=\"coupon in item.data\">\r\n\t\t\t\t\t\t\t\t\t\t领券后{{coupon.use_days_limit}}天内\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else-if=\"item.type == 'couponGrant'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">\r\n\t\t\t\t\t\t\t\t\t返券条件: 订单满{{item.coupon_detail.condition}}元\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"desc\" v-if=\"item.data\">\r\n\t\t\t\t\t\t\t\t\t券的金额: {{item.data.discount}}元|满{{item.data.condition}}可用\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">\r\n\t\t\t\t\t\t\t\t\t券有效期: 领券后{{item.use_days_limit}}天内\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-if=\"item.type == 'newMember'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\" v-if=\"item.data\">活动内容: 门店新客立减{{item.data.back}}元</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else-if=\"item.type == 'grant'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\">\r\n\t\t\t\t\t\t\t\t\t活动内容: \r\n\t\t\t\t\t\t\t\t\t<template v-for=\"grantData in item.data\">\r\n\t\t\t\t\t\t\t\t\t\t满{{grantData.condition}}赠送{{grantData.back}}\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else-if=\"item.type == 'discount' || item.type == 'selfPickup'\">\r\n\t\t\t\t\t\t\t\t<p class=\"desc\" v-if=\"item.data\">\r\n\t\t\t\t\t\t\t\t\t活动内容: \r\n\t\t\t\t\t\t\t\t\t<template v-for=\"discountData in item.data\">\r\n\t\t\t\t\t\t\t\t\t\t满{{discountData.condition}}减{{discountData.back}}元\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<p class=\"desc\">活动时间: {{item.starttime_cn}}~{{item.endtime_cn}}</p>\r\n\t\t\t\t\t\t\t<p class=\"desc\">创建日期: {{item.addtime_cn}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t<span class=\"btn-item bg-danger\" @click=\"util.jspost({url: 'manage/activity/list/del', data: {type: item.type, status: item.status}, confirm: '确定撤销活动吗?'})\">撤销</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"status\">\r\n\t\t\t\t\t\t\t<img class=\"wh-100\" src=\"static/img/activity_not_start.png\" alt=\"\" v-if=\"item.status == 2\">\r\n\t\t\t\t\t\t\t<img class=\"wh-100\" src=\"static/img/activity_ing.png\" alt=\"\" v-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t<img class=\"wh-100\" src=\"static/img/activity_end.png\" alt=\"\" v-if=\"item.status == 0\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-list>\r\n\t\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t\t<img src=\"static/img/order_no_con.png\" alt=\"\">\r\n\t\t\t\t\t<p>没有任何活动哦!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</van-pull-refresh>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport {getData} from \"@/controller/funcCommon\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t\tactivity: {},\r\n\t\t\t\tempty: false,\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems:{\r\n\t\t\t\t\t\tstatus: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.empty = false;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'manage/activity/list/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tfilter: this.filter.items\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif(res.activity.length == 0) {\r\n\t\t\t\t\t\t\tthat.empty = true;\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tthat.activity = Object.assign({}, res.activity);\r\n\t\t\t\t\t\tthat.isRefresh =  false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tonToggleStatus(value){\r\n\t\t\t\tvalue = parseInt(value);\r\n\t\t\t\tif(this.filter.items.status == value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.filter.items.status = value;\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t},\r\n\t\t\tonPullDownRefresh(){\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query && this.query.status) {\r\n\t\t\t\tthis.filter.items.status = this.query.status;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#activity-list .list-item{\r\n\t\tmargin: 15px;\r\n\t\tborder-radius: 5px;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tposition: relative;\r\n\t}\r\n\t#activity-list .list-item .desc{\r\n\t\tcolor: #7a7a7a;\r\n\t\tfont-size: 13px;\r\n\t\tmargin-top: 7px;\r\n\t}\r\n\t#activity-list .list-item .btn-group {\r\n\t\tpadding: 10px 15px;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\t#activity-list .list-item .btn-group .btn-item{\r\n\t\tborder: 1px solid #ccc;\r\n\t\tpadding: 5px 15px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t#activity-list .list-item .status{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/activity/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"activity-list\"}},[_c('public-header',{attrs:{\"title\":\"店铺活动\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"wrap-search\"},[_c('div',{staticClass:\"tab-group\"},[_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 2},on:{\"click\":function($event){_vm.onToggleStatus(2)}}},[_vm._v(\"待生效\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 1},on:{\"click\":function($event){_vm.onToggleStatus(1)}}},[_vm._v(\"进行中\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 0},on:{\"click\":function($event){_vm.onToggleStatus(0)}}},[_vm._v(\"已结束\")])])]),_vm._v(\" \"),_c('van-pull-refresh',{on:{\"refresh\":function($event){_vm.onPullDownRefresh()}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[(!_vm.empty)?_c('van-list',_vm._l((_vm.activity),function(item){return _c('div',{staticClass:\"list-item\"},[_c('div',{staticClass:\"padding-15 van-hairline--bottom\"},[_c('div',{staticClass:\"flex margin-15-b\"},[_c('span',{staticClass:\"font-15 padding-10-r\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),(item.status == 1)?_c('span',{staticClass:\"c-gray\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t剩余\"),_c('span',{staticClass:\"c-danger font-14\"},[_vm._v(_vm._s(item.until))]),_vm._v(\"天\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(item.type == 'couponCollect' || item.type == 'couponGrant')?[_c('p',{staticClass:\"desc\"},[_vm._v(\"券总张数: \"+_vm._s(item.type == 'couponCollect' ? item.coupon_detail.total * item.coupon_detail.amount : item.coupon_detail.amount)+\"张\")]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"发放数量: \"+_vm._s(item.type == 'couponCollect' ? item.coupon_detail.dosage_total : item.coupon_detail.dosage)+\"张\")]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"使用数量: \"+_vm._s(item.coupon_detail.is_use_total)+\"张\")])]:_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"活动类型: \"+_vm._s(item.type_cn))]),_vm._v(\" \"),(item.type == 'couponCollect')?[(item.data)?_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t券的金额: \\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_vm._l((item.data),function(coupon){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(coupon.discount)+\"元|满\"+_vm._s(coupon.condition)+\"可用\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]})],2):_vm._e(),_vm._v(\" \"),(item.data)?_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t券有效期: \\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_vm._l((item.data),function(coupon){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t领券后\"+_vm._s(coupon.use_days_limit)+\"天内\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]})],2):_vm._e()]:(item.type == 'couponGrant')?[_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t返券条件: 订单满\"+_vm._s(item.coupon_detail.condition)+\"元\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(item.data)?_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t券的金额: \"+_vm._s(item.data.discount)+\"元|满\"+_vm._s(item.data.condition)+\"可用\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t券有效期: 领券后\"+_vm._s(item.use_days_limit)+\"天内\\n\\t\\t\\t\\t\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(item.type == 'newMember')?[(item.data)?_c('p',{staticClass:\"desc\"},[_vm._v(\"活动内容: 门店新客立减\"+_vm._s(item.data.back)+\"元\")]):_vm._e()]:(item.type == 'grant')?[_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t活动内容: \\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_vm._l((item.data),function(grantData){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t满\"+_vm._s(grantData.condition)+\"赠送\"+_vm._s(grantData.back)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]})],2)]:(item.type == 'discount' || item.type == 'selfPickup')?[(item.data)?_c('p',{staticClass:\"desc\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t活动内容: \\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_vm._l((item.data),function(discountData){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t满\"+_vm._s(discountData.condition)+\"减\"+_vm._s(discountData.back)+\"元\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]})],2):_vm._e()]:_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"活动时间: \"+_vm._s(item.starttime_cn)+\"~\"+_vm._s(item.endtime_cn))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(\"创建日期: \"+_vm._s(item.addtime_cn))])],2),_vm._v(\" \"),_c('div',{staticClass:\"btn-group\"},[_c('span',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.util.jspost({url: 'manage/activity/list/del', data: {type: item.type, status: item.status}, confirm: '确定撤销活动吗?'})}}},[_vm._v(\"撤销\")])]),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[(item.status == 2)?_c('img',{staticClass:\"wh-100\",attrs:{\"src\":\"static/img/activity_not_start.png\",\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(item.status == 1)?_c('img',{staticClass:\"wh-100\",attrs:{\"src\":\"static/img/activity_ing.png\",\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(item.status == 0)?_c('img',{staticClass:\"wh-100\",attrs:{\"src\":\"static/img/activity_end.png\",\"alt\":\"\"}}):_vm._e()])])})):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"没有任何活动哦!\")])])],1)],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a22daca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/activity/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a22daca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a22daca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/activity/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}