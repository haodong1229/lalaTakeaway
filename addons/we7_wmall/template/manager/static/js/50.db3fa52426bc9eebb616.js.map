{"version":3,"sources":["webpack:///src/pages/order/tangshi/index.vue","webpack:///./src/pages/order/tangshi/index.vue?6614","webpack:///./src/pages/order/tangshi/index.vue"],"names":["components","publicHeader","header","publicFooter","footer","data","isRefresh","filter","items","status","showPreLoading","records","page","psize","loading","finished","empty","store","menufooter","methods","onUpdateOrderStatus","index","type","Object","order","vue","this","onLoad","force","that","funcCommon","url","recordsName","success","result","onPullDownRefresh","onToggleStatus","value","parseInt","onToggleGoodsShow","_this","$nextTick","then","showGoods","assign_default","mounted","util","imap","icloudapi","created","query","$route","order_tangshi","render","_vm","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","class","active","on","click","$event","refresh","model","callback","$$v","expression","src","alt","offset","immediate-check","load","$set","_l","item","key","_s","serial_sn","addtime_cn","order_status_cn","order_type","table_sn","person_num","_e","table_category_title","reserve_type_cn","jsTel","mobile","span","note","goodsItem","goods_id","goods_title","goods_num","goods_price","store_final_fee","final_fee","is_pay","pay_type","tag","to","getUrl","path","staticRenderFns","Component","__webpack_require__","normalizeComponent","tangshi","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.db3fa52426bc9eebb616.js","sourcesContent":["<template>\r\n\t<div id=\"order-tangshi-list\">\r\n\t\t<public-header title=\"店内订单管理\"></public-header>\r\n\t\t<public-footer :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"tabs flex-lr\">\r\n\t\t\t\t<div class=\"tabs-item\" :class=\"{active: filter.items.status == 1}\" @click=\"onToggleStatus(1)\">\r\n\t\t\t\t\t<div class=\"mark\">新</div>\r\n\t\t\t\t\t<div class=\"title\">待确认</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"tabs-item\" :class=\"{active: filter.items.status == 2}\" @click=\"onToggleStatus(2)\">\r\n\t\t\t\t\t<div class=\"mark\">接</div>\r\n\t\t\t\t\t<div class=\"title\">已确认</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"tabs-item\" :class=\"{active: filter.items.status == 5}\" @click=\"onToggleStatus(5)\">\r\n\t\t\t\t\t<div class=\"mark\">完</div>\r\n\t\t\t\t\t<div class=\"title\">已完成</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh()\">\r\n\t\t\t\t<van-list \r\n\t\t\t\t\t\tclass=\"order-list padding-10 \" \r\n\t\t\t\t\t\tv-model=\"records.loading\"\r\n\t\t\t\t\t\t:finished=\"records.finished\"\r\n\t\t\t\t\t\t@load=\"onLoad\"\r\n\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\tv-if=\"!records.empty\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"order-item bg-default font-14 margin-10-t\" v-for=\"(item, index) in records.data\" :key=\"item.id\">\r\n\t\t\t\t\t\t<div class=\"order-nt bg-gray flex-lr padding-10-tb padding-10-r \">\r\n\t\t\t\t\t\t\t<div class=\"number-time flex\">\r\n\t\t\t\t\t\t\t\t<div class=\"number\">{{item.serial_sn}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"c-info\">{{item.addtime_cn}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>{{item.order_status_cn}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 取消原因 -->\r\n\t\t\t\t\t\t<div class=\"padding-10-lr padding-5-b\">\r\n\t\t\t\t\t\t\t<div class=\"flex-lr padding-10-t\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.order_type == 3\">\t\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-bold font-18\">用餐信息：<span class=\"font-16\">{{item.table_sn}}号桌,{{item.person_num}}人就餐</span></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"order-type bg-danger\">扫码点餐</div>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.order_type == 4\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-bold font-18\">用餐信息：<span class=\"font-16\">{{item.table_category_title}} {{item.reserve_type_cn}}</span></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"order-type bg-warning\" v-if=\"item.order_type == 4\">预点餐</div>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<!-- 收藏店铺 -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex c-info margin-5-t\" @click=\"util.jsTel(item.mobile)\" v-if=\"item.mobile\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon icon-telephone\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"margin-5-l\">{{item.mobile}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"goods-info \">\r\n\t\t\t\t\t\t\t<div class=\"flex-lr padding-10-lr padding-5-t padding-10-b\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-18 font-bold\">商品</div>\r\n\t\t\t\t\t\t\t\t<div class=\"c-info flex goods-show\" @click=\"onToggleGoodsShow(index)\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"margin-5-r\">展开</span>\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon icon-arrow-down\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<template v-if=\"item.showGoods\">\r\n\t\t\t\t\t\t\t\t<van-row class=\"padding-10 \">\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"3\" class=\"c-danger\">备注:</van-col>\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"21\" class=\"line-12\">{{item.note ? item.note : '无'}}</van-col>\r\n\t\t\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t\t\t\t<div class=\"goods-list\">\r\n\t\t\t\t\t\t\t\t\t<van-row class=\"goods-item\" v-for=\"goodsItem in item.goods\" :key=\"goodsItem.goods_id\">\r\n\t\t\t\t\t\t\t\t\t\t<van-col span=\"16\">{{goodsItem.goods_title}}</van-col>\r\n\t\t\t\t\t\t\t\t\t\t<van-col span=\"4\" class=\"c-danger\">x{{goodsItem.goods_num}}</van-col>\r\n\t\t\t\t\t\t\t\t\t\t<van-col span=\"4\" class=\"text-right\">¥{{goodsItem.goods_price}}</van-col>\r\n\t\t\t\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<div class=\"padding-10-lr padding-10-t padding-5-b\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-lr \">\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-18 font-bold\">本单预计收入</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-16 c-danger font-bold\">¥{{item.store_final_fee}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"margin-10-t flex\" v-if=\"item.order_type == 3\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-gray\">{{item.table_sn}}号桌,{{item.person_num}}人就餐</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"margin-10-t flex\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-gray margin-10-r\">本单顾客实际支付:</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-danger\">¥{{item.final_fee}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\" action\">\r\n\t\t\t\t\t\t\t<template v-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t\t<div class=\"action-item bg-info\" @click=\"onUpdateOrderStatus(index, 'handle')\">确认</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else-if=\"item.status == 2\">\r\n\t\t\t\t\t\t\t\t<div class=\"action-item bg-info\" @click=\"onUpdateOrderStatus(index, 'end')\">完成</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-if=\"item.is_pay == 1 && item.pay_type != 'delivery'\">\r\n\t\t\t\t\t\t\t\t<div class=\"action-item bg-danger\" @click=\"onUpdateOrderStatus(index, 'cancel_refund')\">取消并退款</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t<div class=\"action-item bg-danger\" @click=\"onUpdateOrderStatus(index, 'cancel')\">取消</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<div class=\"action-item bg-danger\" @click=\"onUpdateOrderStatus(index, 'pay_status')\" v-if=\"item.is_pay == 0\">设为已支付</div>\r\n\t\t\t\t\t\t\t<router-link tag=\"div\" class=\"action-item\" :to=\"util.getUrl({path: 'pages/order/detail', query: {id: item.id}})\">详情</router-link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pay-status have-pay\" v-if=\"item.is_pay == 1 && item.pay_type !='delivery'\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-list>\r\n\t\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t\t<img src=\"static/img/order_no_con.png\" alt=\"\">\r\n\t\t\t\t\t<p>暂无数据</p>\r\n\t\t\t\t</div>\r\n\t\t\t</van-pull-refresh>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport publicFooter from \"@/components/footer\"\r\n\timport {getRecords, setData} from \"../../../controller/funcCommon\"\r\n\timport {changeTangshiOrderStatus} from \"../controller/order.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t\tpublicFooter\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tstatus: '1'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\trecords:{\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t},\r\n\t\t\t\tstore: {},\r\n\t\t\t\tmenufooter: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonUpdateOrderStatus(index, type) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tchangeTangshiOrderStatus({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\torder: that.records.data[index],\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonLoad(force){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetRecords({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tforce: force,\r\n\t\t\t\t\turl: 'manage/order/tangshi/list',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmenufooter: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\trecordsName: 'orders',\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tthat.isRefresh = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tonPullDownRefresh() {\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\r\n\t\t\tonToggleStatus(value){\r\n\t\t\t\tvalue = parseInt(value);\r\n\t\t\t\tif(this.filter.items.status == value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.filter.items.status = value;\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t\tonToggleGoodsShow(index) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.$nextTick().then(() => {\r\n\t\t\t\t\tthis.records.data[index].showGoods = !this.records.data[index].showGoods;\r\n\t\t\t\t\tthis.records = Object.assign({}, this.records);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t\tthis.util.imap();\r\n\t\t\tthis.util.icloudapi();\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query && this.query.status) {\r\n\t\t\t\tthis.filter.items.status = this.query.status;\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#order-tangshi-list .content{\r\n\t\tpadding-top: 77px;\r\n\t\tbackground-color:#F0EFF5;\r\n\t}\r\n\t#order-tangshi-list .tabs{\r\n\t\tbackground-color: #33aafc;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 0 10px;\r\n\t\tposition: fixed;\r\n\t\tz-index: 100;\r\n\t\ttop: 46px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\t#order-tangshi-list .tabs .tabs-item{\r\n\t\twidth: 20%;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t}\r\n\t#order-tangshi-list .tabs .tabs-item .mark{\r\n\t\twidth: 30px;\r\n\t\theight: 30px;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground-color: #0C8DE4;\r\n\t\ttext-align: center;\r\n\t\tline-height: 30px;\r\n\t\tmargin: 10px auto;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#order-tangshi-list .tabs .tabs-item .title{\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\t#order-tangshi-list .tabs .tabs-item.active:after{\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\theight: 4px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#order-tangshi-list .tabs .tabs-item.active .mark{\r\n\t\tbackground-color: #fff;\r\n\t\tcolor: #33aafc;\r\n\t}\r\n\t#order-tangshi-list .order-item{\r\n\t\tposition: relative;\r\n\t}\r\n\t#order-tangshi-list .order-type{\r\n\t\tpadding:5px 8px;\r\n\t\tcolor: #fff;\r\n\t\ttext-align:center;\r\n\t\tborder-radius:4px;\r\n\t}\r\n\t#order-tangshi-list .order-item .number{\r\n\t\tbackground-color: #33aafc;\r\n\t\tcolor: #fff;\r\n\t\tmin-width: 25px;\r\n\t\theight: 25px;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\tline-height: 25px;\r\n\t\tpadding: 0 7px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t#order-tangshi-list .order-item .goods-item{\r\n\t\tbackground-color: #FFFCEB;\r\n\t\tcolor: #3E3D38;\r\n\t\tpadding: 8px 10px;\r\n\t}\r\n\t#order-tangshi-list .order-item .action{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t\tpadding: 5px 10px 10px;\r\n\t}\r\n\t#order-tangshi-list .order-item .action .action-item{\r\n\t\tpadding:5px 8px;\r\n\t\tcolor:#333;\r\n\t\tbackground-color:#fff;\r\n\t\ttext-align:center;\r\n\t\tborder-radius:4px;\r\n\t\tfont-size:13px;\r\n\t\tmargin-left:10px;\r\n\t\tborder:1px solid #E7E7E7;\r\n\t\tline-height: 18px;\r\n\t}\r\n\t#order-tangshi-list .order-item .order-info{\r\n\t\tmargin-top: -6px;\r\n\t\tbackground-color:#f8f8f8;\r\n\t}\r\n\t#order-tangshi-list .order-item .order-nt{\r\n\t\tbackground-color:#f8f8f8;\r\n\t}\r\n\t#order-tangshi-list .order-item .pay-status{\r\n\t\tposition:absolute;\r\n\t\tleft:50%;\r\n\t\tmargin-left:-50px;\r\n\t\tbottom:100px;\r\n\t}\r\n\t#order-tangshi-list .order-item .pay-status.have-pay{\r\n\t\twidth:100px;\r\n\t\theight:50px;\r\n\t\tbackground:url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/have-pay.png\") no-repeat center center;\r\n\t\tbackground-size:100% 100%;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/order/tangshi/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order-tangshi-list\"}},[_c('public-header',{attrs:{\"title\":\"店内订单管理\"}}),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"tabs flex-lr\"},[_c('div',{staticClass:\"tabs-item\",class:{active: _vm.filter.items.status == 1},on:{\"click\":function($event){_vm.onToggleStatus(1)}}},[_c('div',{staticClass:\"mark\"},[_vm._v(\"新\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"待确认\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tabs-item\",class:{active: _vm.filter.items.status == 2},on:{\"click\":function($event){_vm.onToggleStatus(2)}}},[_c('div',{staticClass:\"mark\"},[_vm._v(\"接\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"已确认\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tabs-item\",class:{active: _vm.filter.items.status == 5},on:{\"click\":function($event){_vm.onToggleStatus(5)}}},[_c('div',{staticClass:\"mark\"},[_vm._v(\"完\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"已完成\")])])]),_vm._v(\" \"),_c('van-pull-refresh',{on:{\"refresh\":function($event){_vm.onPullDownRefresh()}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[(!_vm.records.empty)?_c('van-list',{staticClass:\"order-list padding-10 \",attrs:{\"finished\":_vm.records.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.records.loading),callback:function ($$v) {_vm.$set(_vm.records, \"loading\", $$v)},expression:\"records.loading\"}},_vm._l((_vm.records.data),function(item,index){return _c('div',{key:item.id,staticClass:\"order-item bg-default font-14 margin-10-t\"},[_c('div',{staticClass:\"order-nt bg-gray flex-lr padding-10-tb padding-10-r \"},[_c('div',{staticClass:\"number-time flex\"},[_c('div',{staticClass:\"number\"},[_vm._v(_vm._s(item.serial_sn))]),_vm._v(\" \"),_c('div',{staticClass:\"c-info\"},[_vm._v(_vm._s(item.addtime_cn))])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.order_status_cn))])]),_vm._v(\" \"),_c('div',{staticClass:\"padding-10-lr padding-5-b\"},[_c('div',{staticClass:\"flex-lr padding-10-t\"},[(item.order_type == 3)?[_c('div',{staticClass:\"font-bold font-18\"},[_vm._v(\"用餐信息：\"),_c('span',{staticClass:\"font-16\"},[_vm._v(_vm._s(item.table_sn)+\"号桌,\"+_vm._s(item.person_num)+\"人就餐\")])]),_vm._v(\" \"),_c('div',{staticClass:\"order-type bg-danger\"},[_vm._v(\"扫码点餐\")])]:_vm._e(),_vm._v(\" \"),(item.order_type == 4)?[_c('div',{staticClass:\"font-bold font-18\"},[_vm._v(\"用餐信息：\"),_c('span',{staticClass:\"font-16\"},[_vm._v(_vm._s(item.table_category_title)+\" \"+_vm._s(item.reserve_type_cn))])]),_vm._v(\" \"),(item.order_type == 4)?_c('div',{staticClass:\"order-type bg-warning\"},[_vm._v(\"预点餐\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),(item.mobile)?_c('div',{staticClass:\"flex c-info margin-5-t\",on:{\"click\":function($event){_vm.util.jsTel(item.mobile)}}},[_c('div',{staticClass:\"icon icon-telephone\"}),_vm._v(\" \"),_c('div',{staticClass:\"margin-5-l\"},[_vm._v(_vm._s(item.mobile))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})]),_vm._v(\" \"),_c('div',{staticClass:\"goods-info \"},[_c('div',{staticClass:\"flex-lr padding-10-lr padding-5-t padding-10-b\"},[_c('div',{staticClass:\"font-18 font-bold\"},[_vm._v(\"商品\")]),_vm._v(\" \"),_c('div',{staticClass:\"c-info flex goods-show\",on:{\"click\":function($event){_vm.onToggleGoodsShow(index)}}},[_c('span',{staticClass:\"margin-5-r\"},[_vm._v(\"展开\")]),_vm._v(\" \"),_c('i',{staticClass:\"icon icon-arrow-down\"})])]),_vm._v(\" \"),(item.showGoods)?[_c('van-row',{staticClass:\"padding-10 \"},[_c('van-col',{staticClass:\"c-danger\",attrs:{\"span\":\"3\"}},[_vm._v(\"备注:\")]),_vm._v(\" \"),_c('van-col',{staticClass:\"line-12\",attrs:{\"span\":\"21\"}},[_vm._v(_vm._s(item.note ? item.note : '无'))])],1),_vm._v(\" \"),_c('div',{staticClass:\"goods-list\"},_vm._l((item.goods),function(goodsItem){return _c('van-row',{key:goodsItem.goods_id,staticClass:\"goods-item\"},[_c('van-col',{attrs:{\"span\":\"16\"}},[_vm._v(_vm._s(goodsItem.goods_title))]),_vm._v(\" \"),_c('van-col',{staticClass:\"c-danger\",attrs:{\"span\":\"4\"}},[_vm._v(\"x\"+_vm._s(goodsItem.goods_num))]),_vm._v(\" \"),_c('van-col',{staticClass:\"text-right\",attrs:{\"span\":\"4\"}},[_vm._v(\"¥\"+_vm._s(goodsItem.goods_price))])],1)}))]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"padding-10-lr padding-10-t padding-5-b\"},[_c('div',{staticClass:\"flex-lr \"},[_c('div',{staticClass:\"font-18 font-bold\"},[_vm._v(\"本单预计收入\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-16 c-danger font-bold\"},[_vm._v(\"¥\"+_vm._s(item.store_final_fee))])]),_vm._v(\" \"),(item.order_type == 3)?_c('div',{staticClass:\"margin-10-t flex\"},[_c('span',{staticClass:\"c-gray\"},[_vm._v(_vm._s(item.table_sn)+\"号桌,\"+_vm._s(item.person_num)+\"人就餐\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"margin-10-t flex\"},[_c('span',{staticClass:\"c-gray margin-10-r\"},[_vm._v(\"本单顾客实际支付:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger\"},[_vm._v(\"¥\"+_vm._s(item.final_fee))])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})]),_vm._v(\" \"),_c('div',{staticClass:\" action\"},[(item.status == 1)?[_c('div',{staticClass:\"action-item bg-info\",on:{\"click\":function($event){_vm.onUpdateOrderStatus(index, 'handle')}}},[_vm._v(\"确认\")])]:(item.status == 2)?[_c('div',{staticClass:\"action-item bg-info\",on:{\"click\":function($event){_vm.onUpdateOrderStatus(index, 'end')}}},[_vm._v(\"完成\")])]:_vm._e(),_vm._v(\" \"),(item.is_pay == 1 && item.pay_type != 'delivery')?[_c('div',{staticClass:\"action-item bg-danger\",on:{\"click\":function($event){_vm.onUpdateOrderStatus(index, 'cancel_refund')}}},[_vm._v(\"取消并退款\")])]:[_c('div',{staticClass:\"action-item bg-danger\",on:{\"click\":function($event){_vm.onUpdateOrderStatus(index, 'cancel')}}},[_vm._v(\"取消\")])],_vm._v(\" \"),(item.is_pay == 0)?_c('div',{staticClass:\"action-item bg-danger\",on:{\"click\":function($event){_vm.onUpdateOrderStatus(index, 'pay_status')}}},[_vm._v(\"设为已支付\")]):_vm._e(),_vm._v(\" \"),_c('router-link',{staticClass:\"action-item\",attrs:{\"tag\":\"div\",\"to\":_vm.util.getUrl({path: 'pages/order/detail', query: {id: item.id}})}},[_vm._v(\"详情\")])],2),_vm._v(\" \"),(item.is_pay == 1 && item.pay_type !='delivery')?_c('div',{staticClass:\"pay-status have-pay\"}):_vm._e()])})):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无数据\")])])],1)],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4324b5b1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/tangshi/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4324b5b1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4324b5b1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/tangshi/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}