{"version":3,"sources":["webpack:///./src/pages/gohome/controller/order.js","webpack:///src/pages/gohome/order/index.vue","webpack:///./src/pages/gohome/order/index.vue?867c","webpack:///./src/pages/gohome/order/index.vue"],"names":["changeOrderStatus","options","order","type","typeInfo","cancel","tip","success_status","team_success","team_cancel","orderStatusChangeTips","postData","id","url","params","data","confirm","success","message","__WEBPACK_IMPORTED_MODULE_1__config_util_js__","$toast","from","vue","status","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","records","splice","index","jspost","gohome_order","page","psize","loading","finished","empty","filter","items","code","confirmDialog","isRefresh","showPreLoading","components","publicHeader","header","methods","onLoad","force","Object","funcCommon","this","onPullDownRefresh","onToggleStatus","value","parseInt","onChangeStatus","onConfirm","util","mounted","watch","handler","newValue","oldValue","deep","pages_gohome_order","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","class","active","on","click","$event","refresh","model","callback","$$v","expression","src","alt","offset","immediate-check","load","$set","_l","item","key","to","getUrl","path","query","_s","order_type_all","css","text","_e","status_all","goods","thumb","name","num","price","username","mobile","jsUrl","pay_type_all","order_type","is_team","isCloud","isHasModule","scanQRCode","show-cancel-button","placeholder","input-align","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.9c0f47eb4e3171aa8b3e.js","sourcesContent":["import util from '@/config/util.js'\r\nimport router from '@/router'\r\n\r\nfunction orderStatusChangeTips(type) {\r\n\tvar types = {\r\n\t\tcancel: {\r\n\t\t\ttip: '确定取消订单吗',\r\n\t\t\tsuccess_status: 7\r\n\t\t},\r\n\t\tteam_success: {\r\n\t\t\ttip: '确定立即成团吗',\r\n\t\t\tsuccess_status: 3\r\n\t\t},\r\n\t\tteam_cancel: {\r\n\t\t\ttip: '确定取消成团吗',\r\n\t\t\tsuccess_status: 7 \r\n\t\t}\r\n\r\n\t}\r\n\treturn types[type];\r\n};\r\n\r\nfunction changeOrderStatus(options) {\r\n\tvar order = options.order;\r\n\tvar type = options.type;\r\n\tvar typeInfo = orderStatusChangeTips(type);\r\n\tvar success_status = typeInfo.success_status;\r\n\tvar postData = {\r\n\t\tid: order.id\r\n\t};\r\n\tif(type == 'team_success') {\r\n\t\tvar url = 'manage/gohome/order/status';\r\n\t\tpostData.type = 'team_success';\r\n\t} else {\r\n\t\tif(type == 'team_cancel') {\r\n\t\t\tpostData.team_cancel = 1;\r\n\t\t\ttype = 'cancel';\r\n\t\t}\r\n\t\tvar url = 'manage/gohome/order/' + type;\r\n\t}\r\n\tvar params = {\r\n\t\turl: url,\r\n\t\tdata: postData,\r\n\t\tconfirm: typeInfo.tip,\r\n\t\tsuccess: function(message) {\r\n\t\t\tutil.$toast(message);\r\n\t\t\tif(options.from == 'detail') {\r\n\t\t\t\toptions.vue.order.status = success_status;\r\n\t\t\t\toptions.vue.order = Object.assign({}, options.vue.order);\r\n\t\t\t} else {\r\n\t\t\t\toptions.vue.records.data.splice(options.index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tutil.jspost(params);\r\n};\r\n\r\nexport {\r\n\torderStatusChangeTips,\r\n\tchangeOrderStatus,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gohome/controller/order.js","<template>\r\n\t<div id=\"gohome-order-index\">\r\n\t\t<public-header title=\"订单列表\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"wrap-search\">\r\n\t\t\t\t<div class=\"tab-group flex-lr border-1px-b\">\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 1}\" @click=\"onToggleStatus(1)\">待付款</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 2}\" @click=\"onToggleStatus(2)\">待生效</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 3}\" @click=\"onToggleStatus(3)\">待使用</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 5}\" @click=\"onToggleStatus(5)\">待评价</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 6}\" @click=\"onToggleStatus(6)\">已完成</div>\r\n\t\t\t\t\t<div class=\"tab-item\" :class=\"{active: filter.items.status == 7}\" @click=\"onToggleStatus(7)\">已取消</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"refresh-wrap\">\r\n\t\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh()\">\r\n\t\t\t\t\t<van-list\r\n\t\t\t\t\t\t\tv-model=\"records.loading\"\r\n\t\t\t\t\t\t\t:finished=\"records.finished\"\r\n\t\t\t\t\t\t\t@load=\"onLoad\"\r\n\t\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\t\tv-if=\"!records.empty\"\r\n\t\t\t\t\t\t\tclass=\"order-list\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"order-group\">\r\n\t\t\t\t\t\t\t<div class=\"order-item\"  v-for=\"(item, index) in records.data\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<router-link :to=\"util.getUrl({path: '/pages/gohome/order/detail', query:{id: item.id}})\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"order-title flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"number\">#{{item.id}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"itag\" :class=\"item.order_type_all.css\" v-if=\"item.order_type_all\">{{item.order_type_all.text}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-14 c-danger\">{{item.status_all.text}}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"order-goods van-hairline--bottom\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-lr\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex goods-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"img-100\" :src=\"item.goods.thumb\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-name font-14\">{{item.goods.name}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-14 c-gray\">x{{item.num}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"c-danger font-14\">￥{{item.price}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-lr padding-10-t\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-15\">{{item.username}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-14 c-gray padding-10-lr\">{{item.mobile}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"icon icon-phone2 c-info font-16\" @click=\"util.jsUrl('tel:' + item.mobile)\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-14\" :class=\"item.pay_type_all.css\">{{item.pay_type_all.text}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t<div class=\"padding-10 btn-group1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeStatus('cancel', index)\" v-if=\"item.status < 5\">取消</div>\r\n\t\t\t\t\t\t\t\t\t<template v-if=\"item.order_type == 'pintuan' && item.is_team == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-item bg-success\" @click=\"onChangeStatus('team_success', index)\" v-if=\"item.status == 2\">立即成团</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeStatus('team_cancel', index)\" v-if=\"item.status == 2 || item.status == 3\">取消成团</div>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"pay-status have-pay\" v-if=\"item.status == 2\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"loaded\" v-if=\"records.finished\">\r\n\t\t\t\t\t\t\t<div class=\"loaded-tips\">没有更多了</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-list>\r\n\t\t\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t\t\t<img src=\"static/img/order_no_con.png\" alt=\"\">\r\n\t\t\t\t\t\t<p>暂无数据!</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-pull-refresh>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t<div class=\"btn-item bg-info\" @click=\"confirmDialog = true\">核销码核销</div>\r\n\t\t\t\t<template v-if=\"util.isCloud() && util.isHasModule('FNScanner')\">\r\n\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"util.scanQRCode();\">扫码核销</div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-dialog\r\n\t\t\tv-model=\"confirmDialog\"\r\n\t\t\ttitle=\"核销码核销\"\r\n\t\t\tshow-cancel-button\r\n\t\t\t@confirm=\"onConfirm\"\r\n\t\t>\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"code\"\r\n\t\t\t\tplaceholder=\"请输入6位核销码\"\r\n\t\t\t\tinput-align=\"center\"\r\n\t\t\t/>\r\n\t\t</van-dialog>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport {getRecords, setData} from \"@/controller/funcCommon\"\r\n\timport {changeOrderStatus} from \"../controller/order.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trecords:{\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t},\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tstatus: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcode: '',\r\n\t\t\t\tconfirmDialog: false,\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad(force){\r\n\t\t\t\tgetRecords({\r\n\t\t\t\t\tvue: this,\r\n\t\t\t\t\tforce: force,\r\n\t\t\t\t\turl: 'manage/gohome/order/list',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonPullDownRefresh(){\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t\tonToggleStatus: function(value) {\r\n\t\t\t\tvalue = parseInt(value);\r\n\t\t\t\tif(this.filter.items.status == value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.filter.items.status = value;\r\n\t\t\t},\r\n\t\t\tonChangeStatus(type, index) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tchangeOrderStatus({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\torder: that.records.data[index]\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonConfirm() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.code) {\r\n\t\t\t\t\tthat.util.$toast('请输入6位核销码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'manage/gohome/order/confirm',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcode: that.code,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmessage: '核销成功',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.onLoad();\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tfilter: {\r\n\t\t\t\thandler(newValue, oldValue) {\r\n\t\t\t\t\tthis.onLoad(true)\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#gohome-order-index .content .refresh-wrap{\r\n\t\tposition: absolute;\r\n\t\ttop: 45px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 56px;\r\n\t\tz-index: 10;\r\n\t\toverflow-y: scroll;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t#gohome-order-index .content .order-item{\r\n\t\tposition: relative;\r\n\t\tmargin: 10px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title{\r\n\t\tpadding: 10px 0;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .number{\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .itag{\r\n\t\tfont-size: 12px;\r\n\t\tmargin-left: 10px;\r\n\t\tborder-radius: 0px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .label{\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .label.label-danger{\r\n\t\tbackground-color: #FF2C4C;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .label.label-info{\r\n\t\tbackground-color: #33aafc;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-title .label.label-warning{\r\n\t\tbackground-color: #f0ad4e;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .label.label-danger{\r\n\t\tcolor: #FF2C4C;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .label.label-info{\r\n\t\tcolor: #33aafc;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .label.label-warning{\r\n\t\tcolor: #f0ad4e;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods{\r\n\t\tpadding: 10px 0;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .goods-info{\r\n\t\tmax-width: 75%;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .goods-img{\r\n\t\twidth: 35px;\r\n\t\theight: 35px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .order-goods .goods-name{\r\n\t\tmax-width: 70%;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t#gohome-order-index .content .btn-group{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 20;\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px;\r\n\t}\r\n\t#gohome-order-index .content .btn-group .btn-item{\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tpadding: 10px 8px;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tborder-radius: 3px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#gohome-order-index .content .btn-group .btn-item:nth-child(2){\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .btn-group1{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\t#gohome-order-index .content .order-item .btn-group1 .btn-item{\r\n\t\tborder: 1px solid;\r\n\t\tborder-radius: 3px;\r\n\t\tpadding: 5px 8px;\r\n\t\tmargin-left: 10px;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .pay-status{\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -50px;\r\n\t\tbottom: 70px;\r\n\t}\r\n\t#gohome-order-index .content .order-item .pay-status.have-pay{\r\n\t\twidth: 100px;\r\n\t\theight: 50px;\r\n\t\tbackground: url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/have-pay.png\") no-repeat center center;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/gohome/order/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gohome-order-index\"}},[_c('public-header',{attrs:{\"title\":\"订单列表\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"wrap-search\"},[_c('div',{staticClass:\"tab-group flex-lr border-1px-b\"},[_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 1},on:{\"click\":function($event){_vm.onToggleStatus(1)}}},[_vm._v(\"待付款\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 2},on:{\"click\":function($event){_vm.onToggleStatus(2)}}},[_vm._v(\"待生效\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 3},on:{\"click\":function($event){_vm.onToggleStatus(3)}}},[_vm._v(\"待使用\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 5},on:{\"click\":function($event){_vm.onToggleStatus(5)}}},[_vm._v(\"待评价\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 6},on:{\"click\":function($event){_vm.onToggleStatus(6)}}},[_vm._v(\"已完成\")]),_vm._v(\" \"),_c('div',{staticClass:\"tab-item\",class:{active: _vm.filter.items.status == 7},on:{\"click\":function($event){_vm.onToggleStatus(7)}}},[_vm._v(\"已取消\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"refresh-wrap\"},[_c('van-pull-refresh',{on:{\"refresh\":function($event){_vm.onPullDownRefresh()}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[(!_vm.records.empty)?_c('van-list',{staticClass:\"order-list\",attrs:{\"finished\":_vm.records.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.records.loading),callback:function ($$v) {_vm.$set(_vm.records, \"loading\", $$v)},expression:\"records.loading\"}},[_c('div',{staticClass:\"order-group\"},_vm._l((_vm.records.data),function(item,index){return _c('div',{key:item.id,staticClass:\"order-item\"},[_c('router-link',{attrs:{\"to\":_vm.util.getUrl({path: '/pages/gohome/order/detail', query:{id: item.id}})}},[_c('div',{staticClass:\"order-title flex-lr van-hairline--bottom\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"number\"},[_vm._v(\"#\"+_vm._s(item.id))]),_vm._v(\" \"),(item.order_type_all)?_c('div',{staticClass:\"itag\",class:item.order_type_all.css},[_vm._v(_vm._s(item.order_type_all.text))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"font-14 c-danger\"},[_vm._v(_vm._s(item.status_all.text))])]),_vm._v(\" \"),_c('div',{staticClass:\"order-goods van-hairline--bottom\"},[_c('div',{staticClass:\"flex-lr\"},[_c('div',{staticClass:\"flex goods-info\"},[_c('div',{staticClass:\"goods-img\"},[_c('img',{staticClass:\"img-100\",attrs:{\"src\":item.goods.thumb,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"goods-name font-14\"},[_vm._v(_vm._s(item.goods.name))]),_vm._v(\" \"),_c('div',{staticClass:\"font-14 c-gray\"},[_vm._v(\"x\"+_vm._s(item.num))])]),_vm._v(\" \"),_c('div',{staticClass:\"c-danger font-14\"},[_vm._v(\"￥\"+_vm._s(item.price))])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-lr padding-10-t\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"font-15\"},[_vm._v(_vm._s(item.username))]),_vm._v(\" \"),_c('div',{staticClass:\"font-14 c-gray padding-10-lr\"},[_vm._v(_vm._s(item.mobile))]),_vm._v(\" \"),_c('div',{staticClass:\"icon icon-phone2 c-info font-16\",on:{\"click\":function($event){_vm.util.jsUrl('tel:' + item.mobile)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"font-14\",class:item.pay_type_all.css},[_vm._v(_vm._s(item.pay_type_all.text))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"padding-10 btn-group1\"},[(item.status < 5)?_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeStatus('cancel', index)}}},[_vm._v(\"取消\")]):_vm._e(),_vm._v(\" \"),(item.order_type == 'pintuan' && item.is_team == 1)?[(item.status == 2)?_c('div',{staticClass:\"btn-item bg-success\",on:{\"click\":function($event){_vm.onChangeStatus('team_success', index)}}},[_vm._v(\"立即成团\")]):_vm._e(),_vm._v(\" \"),(item.status == 2 || item.status == 3)?_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeStatus('team_cancel', index)}}},[_vm._v(\"取消成团\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),(item.status == 2)?_c('div',{staticClass:\"pay-status have-pay\"}):_vm._e()],1)})),_vm._v(\" \"),(_vm.records.finished)?_c('div',{staticClass:\"loaded\"},[_c('div',{staticClass:\"loaded-tips\"},[_vm._v(\"没有更多了\")])]):_vm._e()]):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无数据!\")])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btn-group\"},[_c('div',{staticClass:\"btn-item bg-info\",on:{\"click\":function($event){_vm.confirmDialog = true}}},[_vm._v(\"核销码核销\")]),_vm._v(\" \"),(_vm.util.isCloud() && _vm.util.isHasModule('FNScanner'))?[_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.util.scanQRCode();}}},[_vm._v(\"扫码核销\")])]:_vm._e()],2)]),_vm._v(\" \"),_c('van-dialog',{attrs:{\"title\":\"核销码核销\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入6位核销码\",\"input-align\":\"center\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72778d4f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gohome/order/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72778d4f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72778d4f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gohome/order/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}