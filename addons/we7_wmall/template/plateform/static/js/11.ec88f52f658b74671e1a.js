webpackJsonp([11],{f2gv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),o=a.n(i),s=a("Cz8s"),l=a("+CBI"),n=a("deIj"),r={data:function(){return{payments:[{title:"微信支付",value:"wechat"},{title:"一码付",value:"yimafu"},{title:"支付宝",value:"alipay"},{title:"余额支付",value:"credit"},{title:"货到付款",value:"delivery"}],id:0,store:{auto_handel_order:0,auto_notice_deliveryer:0,invoice_status:0,token_status:0,payment:[]},showPreLoading:!0,islegal:!1}},components:{publicHeader:s.a,iswitch:l.a},methods:{onTogglePayment:function(t){this.$refs.checkboxes[t].toggle()},onLoad:function(){var t=this;Object(n.a)({url:"plateform/store/shop/pill",vue:t,autoAssign:!0,variable:"store",data:{id:t.id},success:function(e){t.islegal=!0}})},onSubmit:function(){var t=this;if(!t.islegal)return!1;t.islegal=!1,Object(n.c)({url:"plateform/store/shop/pill",vue:t,data:{id:t.id,store:o()(t.store)},redirect:t.util.getUrl({path:"pages/merchant/store/index",query:{id:t.id}}),fail:function(e){t.util.$toast(e),t.islegal=!0}})},jsToggleSwitch:function(t){this.util.jsToggleSwitch({vue:this,key:t.key||t.keys,value:t.value})}},created:function(){this.$route.query&&this.$route.query.id>0&&(this.id=parseInt(this.$route.query.id))},mounted:function(){this.onLoad()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"store-pill"}},[a("public-header",{attrs:{title:"支付方式"}}),t._v(" "),a("div",{staticClass:"content"},[a("van-radio-group",{model:{value:t.store.auto_handel_order,callback:function(e){t.$set(t.store,"auto_handel_order",e)},expression:"store.auto_handel_order"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"自动接单方式"}}),t._v(" "),a("van-cell",{staticClass:"border-0px",attrs:{title:"支付后自动接单",clickable:""},on:{click:function(e){t.store.auto_handel_order="1"}}},[a("van-radio",{attrs:{name:"1"}})],1),t._v(" "),a("van-cell",{staticClass:"border-0px",attrs:{title:"不自动接单",clickable:""},on:{click:function(e){t.store.auto_handel_order="0"}}},[a("van-radio",{attrs:{name:"0"}})],1),t._v(" "),a("van-cell",{staticClass:"no-fix border-0px",attrs:{title:"打印机出单后自动接单(仅飞鹅和喜讯打印机支持)",clickable:""},on:{click:function(e){t.store.auto_handel_order="2"}}},[a("van-radio",{attrs:{name:"2"}})],1)],1)],1),t._v(" "),a("van-cell-group",{staticClass:"margin-10-t"},[a("van-cell",[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("接单后自动通知配送员")]),t._v(" "),a("iswitch",{attrs:{slot:"right-icon",value:t.store.auto_notice_deliveryer,"text-open":"ON","text-close":"OFF",keys:"store.auto_notice_deliveryer"},on:{change:t.jsToggleSwitch},slot:"right-icon"})],1),t._v(" "),a("van-cell",[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("支持开发票")]),t._v(" "),a("iswitch",{attrs:{slot:"right-icon",value:t.store.invoice_status,"text-open":"ON","text-close":"OFF",keys:"store.invoice_status"},on:{change:t.jsToggleSwitch},slot:"right-icon"})],1),t._v(" "),a("van-cell",[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("支持代金券抵付")]),t._v(" "),a("iswitch",{attrs:{slot:"right-icon",value:t.store.token_status,"text-open":"ON","text-close":"OFF",keys:"store.token_status"},on:{change:t.jsToggleSwitch},slot:"right-icon"})],1)],1),t._v(" "),a("van-checkbox-group",{staticClass:"margin-10-t",model:{value:t.store.payment,callback:function(e){t.$set(t.store,"payment",e)},expression:"store.payment"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"支付方式"}}),t._v(" "),t._l(t.payments,function(e,i){return a("van-cell",{key:i,staticClass:"border-0px",attrs:{clickable:"",title:e.title},on:{click:function(e){t.onTogglePayment(i)}}},[a("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:e.value}})],1)})],2)],1),t._v(" "),a("div",{staticClass:"padding-15"},[a("van-button",{staticClass:"font-16",attrs:{size:"normal",type:"primary",disabled:!t.islegal,block:""},on:{click:t.onSubmit}},[t._v("提交")])],1)],1),t._v(" "),t.showPreLoading?a("iloading"):t._e()],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("s8tI")},null,null);e.default=u.exports},s8tI:function(t,e){}});