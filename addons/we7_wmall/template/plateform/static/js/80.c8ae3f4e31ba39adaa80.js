webpackJsonp([80],{M5XU:function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=i("Cz8s"),a=i("mzkE"),o=i("+CBI"),n=i("deIj"),l={data:function(){return{storeTitle:"",status:{is_show:!0,is_recommend:!0,is_stick:!1},records:{page:1,psize:15,loading:!1,finished:!1,empty:!1,data:[]},keywords:"",filter:{items:{is_rest:-1}},showPreLoading:!0,isRefresh:!1,menufooter:{}}},components:{publicHeader:e.a,publicFooter:a.a,iswitch:o.a},methods:{onLoad:function(s){Object(n.b)({vue:this,force:s,url:"plateform/merchant/store/list",data:{menufooter:1}})},onToggleStatus:function(s){s=parseInt(s),this.filter.items.is_rest!=s&&(this.filter.items.is_rest=s)},onPullDownRefresh:function(){this.onLoad(!0)},jsToggleSwitch:function(s){this.util.jsToggleSwitch({vue:this,url:"plateform/merchant/store/change",key:s.key||s.keys,data:{id:s.id,name:s.name,value:s.value}})}},mounted:function(){this.onLoad(),this.util.imap(),this.util.icloudapi()},watch:{filter:{handler:function(s,t){this.onLoad(!0)},deep:!0}}},r={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{attrs:{id:"store"}},[i("public-header",{attrs:{title:"商户列表"}}),s._v(" "),i("public-footer",{attrs:{menufooter:s.menufooter,showPreLoading:s.showPreLoading}}),s._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"wrap-search wrap-search-input"},[i("div",{staticClass:"tab-group flex-lr border-1px-b"},[i("div",{staticClass:"tab-item",class:{active:-1==s.filter.items.is_rest},on:{click:function(t){s.onToggleStatus(-1)}}},[s._v("全部")]),s._v(" "),i("div",{staticClass:"tab-item",class:{active:0==s.filter.items.is_rest},on:{click:function(t){s.onToggleStatus(0)}}},[s._v("营业中")]),s._v(" "),i("div",{staticClass:"tab-item",class:{active:1==s.filter.items.is_rest},on:{click:function(t){s.onToggleStatus(1)}}},[s._v("休息中")])]),s._v(" "),i("van-search",{attrs:{placeholder:"请输入店铺ID或店铺名称"},model:{value:s.filter.items.keywords,callback:function(t){s.$set(s.filter.items,"keywords",t)},expression:"filter.items.keywords"}})],1),s._v(" "),i("van-pull-refresh",{on:{refresh:function(t){s.onPullDownRefresh()}},model:{value:s.isRefresh,callback:function(t){s.isRefresh=t},expression:"isRefresh"}},[s.records.empty?i("div",{staticClass:"no-data"},[i("img",{attrs:{src:"static/img/order_no_con.png",alt:""}}),s._v(" "),i("p",[s._v("没有符合条件的数据!")])]):i("van-list",{staticClass:"store-list",attrs:{finished:s.records.finished,offset:100,"immediate-check":!1},on:{load:s.onLoad},model:{value:s.records.loading,callback:function(t){s.$set(s.records,"loading",t)},expression:"records.loading"}},[s._l(s.records.data,function(t,e){return i("div",{key:t.id,staticClass:"store-item"},[i("router-link",{staticClass:"data flex-lr padding-15-b border-1px-b",attrs:{tag:"div",to:s.util.getUrl({path:"/pages/merchant/store/index",query:{id:t.id}})}},[i("div",{staticClass:"logo"},[t.label>0?i("div",{staticClass:"label"},[s._v(s._s(t.label_cn))]):s._e(),s._v(" "),i("img",{staticClass:"img-100",attrs:{src:t.logo,alt:""}})]),s._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"title-status"},[i("div",{staticClass:"title font-15 "},[s._v(s._s(t.title))]),s._v(" "),i("div",{staticClass:"itag",class:{"itag-danger":1==t.is_in_business,"itag-disabled":0==t.is_in_business}},[s._v(s._s(1==t.is_in_business?"营业中":"休息中"))])]),s._v(" "),i("div",{staticClass:"telephone c-info font-13",on:{click:function(i){i.stopPropagation(),s.util.jsUrl("tel:"+t.telephone)}}},[s._v("电话: "+s._s(t.telephone))]),s._v(" "),i("div",{staticClass:"flex-lr c-gray font-13"},[i("div",{staticClass:"account"},[s._v("账户余额: ¥"+s._s(t.amount))]),s._v(" "),i("div",{staticClass:"deposit"},[s._v("保证金: ¥ "+s._s(t.deposit))])]),s._v(" "),i("ul",{staticClass:"record c-gray font-12"},[i("li",{staticClass:"flex"},[i("i",{staticClass:"icon icon-activity c-primary"}),s._v(" "),i("span",[s._v("销量: "+s._s(t.sailed))])]),s._v(" "),i("li",[i("i",{staticClass:"icon icon-hotfill c-danger"}),s._v(" "),i("span",[s._v("热度: "+s._s(t.click))])]),s._v(" "),i("li",[i("i",{staticClass:"icon icon-order1 c-info"}),s._v(" "),i("span",[s._v("排序: "+s._s(t.displayorder))])])])])]),s._v(" "),i("div",{staticClass:"operate padding-15-t flex-lr"},[i("iswitch",{attrs:{value:t.is_in_business,"text-open":"营业",extra:{key:"records.data."+e+".is_in_business",id:t.id,name:"is_in_business"}},on:{change:s.jsToggleSwitch}}),s._v(" "),i("iswitch",{attrs:{value:t.is_recommend,"text-open":"推荐",extra:{key:"records.data."+e+".is_recommend",id:t.id,name:"is_recommend"}},on:{change:s.jsToggleSwitch}}),s._v(" "),i("iswitch",{attrs:{value:t.is_stick,"text-open":"置顶",extra:{key:"records.data."+e+".is_stick",id:t.id,name:"is_stick"}},on:{change:s.jsToggleSwitch}})],1)],1)}),s._v(" "),s.records.finished?i("div",{staticClass:"loaded"},[i("div",{staticClass:"loaded-tips"},[s._v("没有更多了")])]):s._e()],2)],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(l,r,!1,function(s){i("oywo")},null,null);t.default=c.exports},oywo:function(s,t){}});
//# sourceMappingURL=80.c8ae3f4e31ba39adaa80.js.map