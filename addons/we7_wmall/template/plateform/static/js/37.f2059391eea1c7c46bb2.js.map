{"version":3,"sources":["webpack:///src/pages/common/search.vue","webpack:///./src/pages/common/search.vue?c7db","webpack:///./src/pages/common/search.vue"],"names":["search","data","searchTitle","condition","showPreLoading","datePicker","minDate","Date","maxDate","currentDate","status","time","typeInput","popupStatus","components","publicHeader","methods","extends_default","Object","vuex_esm","onToggleDatePicker","type","this","onConfirmTime","value","util","formatDate","onChooseOption","searchIndex","index","searchItem","selected","onTogglePopup","name","assign_default","onSearchConfirm","onGetFilter","num","$toast","filter","replaceState","key","val","url","getUrl","path","isearch","redirctUrl","$router","push","onSearchCancel","onIint","items","list","item","_key","input","_item","start","end","force","timekey","itemSelected","_key2","onLoad","that","getSearch","title","funcCommon","vue","success","res","computed","mounted","common_search","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","staticClass","_l","label","placeholder","input-align","model","callback","$$v","$set","expression","_e","slot","_s","on","click","$event","span","size","block","position","clickable","min-date","max-date","confirm","cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/37.f2059391eea1c7c46bb2.js","sourcesContent":["<template>\r\n\t<div id=\"isearch\">\r\n\t\t<public-header :title=\"searchTitle\"></public-header>\r\n\t\t<div class=\"content\" v-if=\"condition\">\r\n\t\t\t<van-cell-group>\r\n\t\t\t\t<template v-for=\"(searchItem, searchIndex) in condition.input\" v-if=\"condition.input\">\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\t\tv-model=\"condition.input[searchIndex].value\"\r\n\t\t\t\t\t\t\t:label=\"searchItem.title\"\r\n\t\t\t\t\t\t\t:placeholder=\"searchItem.placeholder ? searchItem.placeholder : '点击输入'\"\r\n\t\t\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</van-field>\r\n\t\t\t\t</template>\r\n\t\t\t\t</van-field>\r\n\t\t\t\t<template v-for=\"(searchItem,searchIndex) in condition.list\">\r\n\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t<div slot=\"title\">{{searchItem.title}}</div>\r\n\t\t\t\t\t\t<div slot=\"right-icon\" class=\"c-gray\" @click=\"onTogglePopup(searchItem.name)\">\r\n\t\t\t\t\t\t\t{{searchItem.selected ? searchItem.selected.title: '点击选择'}}\r\n\t\t\t\t\t\t\t<van-icon name=\"arrow\"></van-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-if=\"condition.time\">\r\n\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t<div slot=\"title\" class=\"\">{{condition.time.start}}</div>\r\n\t\t\t\t\t\t<div slot=\"right-icon\" class=\"c-gray\" @click=\"onToggleDatePicker('start')\">\r\n\t\t\t\t\t\t\t{{this.time.start ? this.time.start: '点击选择'}}\r\n\t\t\t\t\t\t\t<van-icon name=\"arrow\"></van-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t<div slot=\"title\" class=\"\">{{condition.time.end}}</div>\r\n\t\t\t\t\t\t<div slot=\"right-icon\" class=\"c-gray\" @click=\"onToggleDatePicker('end')\">\r\n\t\t\t\t\t\t\t{{this.time.end ? this.time.end: '点击选择'}}\r\n\t\t\t\t\t\t\t<van-icon name=\"arrow\"></van-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</template>\r\n\t\t\t</van-cell-group>\r\n\t\t\t<van-row class=\"padding-10\">\r\n\t\t\t\t<van-col span=\"12\" class=\"padding-10\">\r\n\t\t\t\t\t<van-button size=\"normal\" block @click=\"onSearchCancel\">重置</van-button>\r\n\t\t\t\t</van-col>\r\n\t\t\t\t<van-col span=\"12\" class=\"padding-10\">\r\n\t\t\t\t\t<van-button size=\"normal\" block class=\"bg-primary\" @click=\"onSearchConfirm\">搜索</van-button>\r\n\t\t\t\t</van-col>\r\n\t\t\t</van-row>\r\n\t\t\t<template v-for=\"(searchItem, searchIndex) in condition.list\">\r\n\t\t\t\t<van-popup v-model=\"popupStatus[searchItem.name]\" position=\"bottom\">\r\n\t\t\t\t\t<div class=\"popup-title flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t\t<span class=\"c-gray\" @click=\"onTogglePopup(searchItem.name)\">取消</span>\r\n\t\t\t\t\t\t<span>{{searchItem.title}}</span>\r\n\t\t\t\t\t\t<span class=\"c-primary\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"popup-content\">\r\n\t\t\t\t\t\t<van-radio-group v-model=\"searchItem.selected\">\r\n\t\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t\t\t<van-cell :title=\"item.title\" clickable @click=\"onChooseOption(searchIndex, index)\" v-for=\"(item, index) in searchItem.options\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<van-radio :name=\"item\" />\r\n\t\t\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t\t</van-radio-group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-popup>\r\n\t\t\t</template>\r\n\t\t\t<!--时间弹出层-->\r\n\t\t\t<van-popup class=\"popup-time\" v-model=\"datePicker.status\" position=\"bottom\">\r\n\t\t\t\t<van-datetime-picker\r\n\t\t\t\t\t\tv-model=\"time.currentDate\"\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t:min-date=\"time.minDate\"\r\n\t\t\t\t\t\t:max-date=\"time.maxDate\"\r\n\t\t\t\t\t\t@confirm=\"onConfirmTime\"\r\n\t\t\t\t\t\t@cancel=\"onToggleDatePicker\"\r\n\t\t\t\t/>\r\n\t\t\t</van-popup>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport {getData} from \"../../controller/funcCommon\";\r\n\timport publicHeader from \"@/components/header\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchTitle: '搜索',\r\n\t\t\t\tcondition: {},\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tdatePicker: {\r\n\t\t\t\t\tminDate: new Date(2016, 1),\r\n\t\t\t\t\tmaxDate: new Date(),\r\n\t\t\t\t\tcurrentDate: new Date(),\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t},\r\n\t\t\t\ttime: {\r\n\t\t\t\t\ttypeInput: 'start',\r\n\t\t\t\t\tminDate: new Date(2017, 12, 1),\r\n\t\t\t\t\tmaxDate: new Date(),\r\n\t\t\t\t\tcurrentDate: new Date(),\r\n\t\t\t\t},\r\n\t\t\t\tpopupStatus: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setSearch', 'getSearch', 'replaceState'\r\n\t\t\t]),\r\n\r\n\t\t\tonToggleDatePicker(type) {\r\n\t\t\t\tthis.datePicker.status = !this.datePicker.status;\r\n\t\t\t\tif(type) {\r\n\t\t\t\t\tthis.time.typeInput = type;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonConfirmTime(value) {\r\n\t\t\t\tlet time = this.util.formatDate(value, 'date');\r\n\t\t\t\tthis.time[this.time.typeInput] = time;\r\n\t\t\t\tthis.onToggleDatePicker();\r\n\t\t\t},\r\n\r\n\t\t\tonChooseOption(searchIndex, index) {\r\n\t\t\t\tvar searchItem = this.condition['list'][searchIndex];\r\n\t\t\t\tvar selected = this.condition['list'][searchIndex]['options'][index];\r\n\t\t\t\tthis.condition['list'][searchIndex]['selected'] = selected;\r\n\t\t\t\tthis.onTogglePopup(searchItem.name);\r\n\t\t\t\tthis.condition = Object.assign({}, this.condition);\r\n\t\t\t},\r\n\r\n\t\t\tonSearchConfirm() {\r\n\t\t\t\tvar data = this.onGetFilter();\r\n\t\t\t\tif(data.num == 0) {\r\n\t\t\t\t\tthis.util.$toast('请至少选择一个筛选项目');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.filter = data;\r\n\t\t\t\tthis.replaceState({ key: 'filter', val: this.filter});\r\n\t\t\t\tlet url = this.util.getUrl({path: this.isearch.redirctUrl});\r\n\t\t\t\tthis.$router.push(url);\r\n\t\t\t},\r\n\r\n\t\t\tonSearchCancel() {\r\n\t\t\t\tthis.onIint(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetFilter() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\titems: {},\r\n\t\t\t\t\tnum: 0\r\n\t\t\t\t};\r\n\t\t\t\tfor(let key in this.condition.list) {\r\n\t\t\t\t\tlet item = this.condition.list[key];\r\n\t\t\t\t\tif(this.condition.time && (item.name == this.condition.time.name) && (this.condition.list[this.condition.time.name]['selected']['iscustom'] == 1)) {\r\n\t\t\t\t\t\tdata['items'][this.condition.time.name] = item.selected.value;\r\n\t\t\t\t\t\tdata['items'][this.condition.time.key] = this.time;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(item.name && item.selected) {\r\n\t\t\t\t\t\t\tdata['items'][item.name] = item.selected.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(item['selected']['value'] != item['defaultSelected']['value']) {\r\n\t\t\t\t\t\tdata['num']++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor(let key in this.condition.input) {\r\n\t\t\t\t\tlet item = this.condition.input[key];\r\n\t\t\t\t\tif(item['value'] && item['value'] != \"undefined\" && item['value'] != item['defaultValue']) {\r\n\t\t\t\t\t\tdata['items'][key] = item['value'];\r\n\t\t\t\t\t\tdata['num']++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.condition.time && this.time.start && this.time.end) {\r\n\t\t\t\t\tdata['items'][this.condition.time['name']] = {\r\n\t\t\t\t\t\tstart: this.time.start,\r\n\t\t\t\t\t\tend: this.time.end\r\n\t\t\t\t\t};\r\n\t\t\t\t\tdata['num']++;\r\n\t\t\t\t}\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\r\n\t\t\tonIint(force) {\r\n\t\t\t\tfor(let key in this.condition.list) {\r\n\t\t\t\t\t//页面初始化的时候执行\r\n\t\t\t\t\tif(!force) {\r\n\t\t\t\t\t\tthis.condition.list[key]['defaultSelected'] = this.condition.list[key]['options'][0];\r\n\t\t\t\t\t\tif(!this.condition.list[key]['selected']) {\r\n\t\t\t\t\t\t\tthis.condition.list[key]['selected'] = this.condition.list[key]['options'][0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.condition.list[key].type && this.condition.list[key].type == 'time') {\r\n\t\t\t\t\t\t\tlet timekey =  this.condition.list[key].key || 'addtime';\r\n\t\t\t\t\t\t\tlet itemSelected = this.condition.list[key]['selected'];\r\n\t\t\t\t\t\t\tif(!itemSelected || (itemSelected && !itemSelected[timekey])) {\r\n\t\t\t\t\t\t\t\titemSelected[timekey] = {\r\n\t\t\t\t\t\t\t\t\tstart: this.util.formatDate(new Date()),\r\n\t\t\t\t\t\t\t\t\tend: this.util.formatDate(new Date()),\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.condition.time = {\r\n\t\t\t\t\t\t\t\tname: this.condition.list[key].name,\r\n\t\t\t\t\t\t\t\tkey: timekey\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.time['start'] = itemSelected[timekey]['start'];\r\n\t\t\t\t\t\t\tthis.time['end'] = itemSelected[timekey]['end'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.condition.list[key]['selected'] = this.condition.list[key]['defaultSelected'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(let key in this.condition.input) {\r\n\t\t\t\t\tif(!force) {\r\n\t\t\t\t\t\tthis.condition.input[key]['defaultValue'] = this.condition.input[key]['value'] ? this.condition.input[key]['value'] : '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.condition.input[key]['value'] = this.condition.input[key]['defaultValue'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.condition.time) {\r\n\t\t\t\t\tthis.time.start = '';\r\n\t\t\t\t\tthis.time.end = '';\r\n\t\t\t\t}\r\n\t\t\t\tthis.condition = Object.assign({}, this.condition);\r\n\t\t\t},\r\n\r\n\t\t\tonTogglePopup(type) {\r\n\t\t\t\tthis.popupStatus[type] = !this.popupStatus[type];\r\n\t\t\t\tthis.popupStatus = Object.assign({}, this.popupStatus);\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.getSearch();\r\n\t\t\t\tif(!that.isearch) {\r\n\t\t\t\t\tthis.util.$toast('url错误');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.searchTitle = that.isearch.title;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: that.isearch.url,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.condition = res.filter;\r\n\t\t\t\t\t\tthat.onIint();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'isearch',\r\n\t\t\t]),\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#isearch .van-field .van-cell__title{\r\n\t\tmax-width: 50%;\r\n\t}\r\n\t#isearch .van-icon-arrow{\r\n\t\tcolor: #999;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 24px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\t#isearch .van-popup .popup-title{\r\n\t\theight: 44px;\r\n\t\tpadding: 15px;\r\n\t}\r\n\t#isearch .van-popup .popup-content{\r\n\t\theight: 300px;\r\n\t\toverflow-x: hidden;\r\n\t\toverflow-y: scroll;\r\n\t}\r\n\t#isearch .van-popup.popup-time .van-picker__cancel{\r\n\t\tcolor: #7a7a7a;\r\n\t}\r\n\t#isearch .van-popup.popup-time .van-picker__confirm{\r\n\t\tcolor: #4FAE52;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/common/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"isearch\"}},[_c('public-header',{attrs:{\"title\":_vm.searchTitle}}),_vm._v(\" \"),(_vm.condition)?_c('div',{staticClass:\"content\"},[_c('van-cell-group',[_vm._l((_vm.condition.input),function(searchItem,searchIndex){return (_vm.condition.input)?[_c('van-field',{attrs:{\"label\":searchItem.title,\"placeholder\":searchItem.placeholder ? searchItem.placeholder : '点击输入',\"input-align\":\"right\"},model:{value:(_vm.condition.input[searchIndex].value),callback:function ($$v) {_vm.$set(_vm.condition.input[searchIndex], \"value\", $$v)},expression:\"condition.input[searchIndex].value\"}})]:_vm._e()}),_vm._v(\" \"),_vm._l((_vm.condition.list),function(searchItem,searchIndex){return [_c('van-cell',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(searchItem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"c-gray\",attrs:{\"slot\":\"right-icon\"},on:{\"click\":function($event){_vm.onTogglePopup(searchItem.name)}},slot:\"right-icon\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(searchItem.selected ? searchItem.selected.title: '点击选择')+\"\\n\\t\\t\\t\\t\\t\\t\"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])]}),_vm._v(\" \"),(_vm.condition.time)?[_c('van-cell',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.condition.time.start))]),_vm._v(\" \"),_c('div',{staticClass:\"c-gray\",attrs:{\"slot\":\"right-icon\"},on:{\"click\":function($event){_vm.onToggleDatePicker('start')}},slot:\"right-icon\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(this.time.start ? this.time.start: '点击选择')+\"\\n\\t\\t\\t\\t\\t\\t\"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_vm._v(\" \"),_c('van-cell',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.condition.time.end))]),_vm._v(\" \"),_c('div',{staticClass:\"c-gray\",attrs:{\"slot\":\"right-icon\"},on:{\"click\":function($event){_vm.onToggleDatePicker('end')}},slot:\"right-icon\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(this.time.end ? this.time.end: '点击选择')+\"\\n\\t\\t\\t\\t\\t\\t\"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])]:_vm._e()],2),_vm._v(\" \"),_c('van-row',{staticClass:\"padding-10\"},[_c('van-col',{staticClass:\"padding-10\",attrs:{\"span\":\"12\"}},[_c('van-button',{attrs:{\"size\":\"normal\",\"block\":\"\"},on:{\"click\":_vm.onSearchCancel}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('van-col',{staticClass:\"padding-10\",attrs:{\"span\":\"12\"}},[_c('van-button',{staticClass:\"bg-primary\",attrs:{\"size\":\"normal\",\"block\":\"\"},on:{\"click\":_vm.onSearchConfirm}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.condition.list),function(searchItem,searchIndex){return [_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupStatus[searchItem.name]),callback:function ($$v) {_vm.$set(_vm.popupStatus, searchItem.name, $$v)},expression:\"popupStatus[searchItem.name]\"}},[_c('div',{staticClass:\"popup-title flex-lr van-hairline--bottom\"},[_c('span',{staticClass:\"c-gray\",on:{\"click\":function($event){_vm.onTogglePopup(searchItem.name)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(searchItem.title))]),_vm._v(\" \"),_c('span',{staticClass:\"c-primary\"})]),_vm._v(\" \"),_c('div',{staticClass:\"popup-content\"},[_c('van-radio-group',{model:{value:(searchItem.selected),callback:function ($$v) {_vm.$set(searchItem, \"selected\", $$v)},expression:\"searchItem.selected\"}},[_c('van-cell-group',_vm._l((searchItem.options),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item.title,\"clickable\":\"\"},on:{\"click\":function($event){_vm.onChooseOption(searchIndex, index)}}},[_c('van-radio',{attrs:{\"name\":item}})],1)}))],1)],1)])]}),_vm._v(\" \"),_c('van-popup',{staticClass:\"popup-time\",attrs:{\"position\":\"bottom\"},model:{value:(_vm.datePicker.status),callback:function ($$v) {_vm.$set(_vm.datePicker, \"status\", $$v)},expression:\"datePicker.status\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"min-date\":_vm.time.minDate,\"max-date\":_vm.time.maxDate},on:{\"confirm\":_vm.onConfirmTime,\"cancel\":_vm.onToggleDatePicker},model:{value:(_vm.time.currentDate),callback:function ($$v) {_vm.$set(_vm.time, \"currentDate\", $$v)},expression:\"time.currentDate\"}})],1)],2):_vm._e(),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-719043d8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/common/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-719043d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-719043d8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/common/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}