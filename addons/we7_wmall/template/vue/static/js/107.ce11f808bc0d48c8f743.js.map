{"version":3,"sources":["webpack:///src/pages/mealRedpacket/meal.vue","webpack:///./src/pages/mealRedpacket/meal.vue?0eb5","webpack:///./src/pages/mealRedpacket/meal.vue"],"names":["meal","data","preLoading","canBuy","mealRedpacketId","params","style","redpackets","usefulNum","exchanges","page","psize","loading","finished","islegal","popupShow","selectedRedpacketId","selectedSid","agreementShow","agreementContent","components","PublicHeader","header","agreement","methods","onLoad","_this","this","util","request","url","then","res","result","message","errno","$toast","mealRedpacket","useful_num","concat","toConsumableArray_default","length","rules","id","onGetExchanges","_this2","mealRedpacket_id","onSubmit","_this3","uitl","parseInt","final_fee","parseFloat","price","order_id","$router","replace","getUrl","path","onExchangePopupShow","sid","exchangeStatus","onTogglePopup","onToggleAgreement","onSelectRedpacket","redpacket","status","onExchange","_this4","redpacket_id","window","location","reload","mounted","mealRedpacket_meal","render","_vm","_h","$createElement","_c","_self","attrs","isWeixin","_e","title","_v","staticClass","tag","to","src","alt","background","backgroundImage","color","rulesColor","on","click","titleColor","_s","placeholderColor","placeholder","class","disabled","btnColor","btnBackground","$event","btnText","_l","item","index","key","imgurl","text","_m","gutter","span","used","name","discount","use_days_limit","condition","endtime_cn","offset","immediate-check","load","model","value","callback","$$v","$set","expression","size","disabled-color","score","activity","store_id","query","logo","position","active","show","content","agreementHide","directives","rawName","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/107.ce11f808bc0d48c8f743.js","sourcesContent":["<template>\r\n\t<div id=\"mealRedpacket-plus\">\r\n\t\t<public-header title=\"红包套餐\" v-if=\"!isWeixin\"></public-header>\r\n\t\t<div class=\"content\" v-if=\"mealRedpacketId > 0\">\r\n\t\t\t<div class=\"info\">\r\n\t\t\t\t<div class=\"city-records flex-lr\">\r\n\t\t\t\t\t<div class=\"city flex\">\r\n\t\t\t\t\t\t<template v-if=\"0\">\r\n\t\t\t\t\t\t\t<span>使用城市:</span>\r\n\t\t\t\t\t\t\t<img class=\"img-location\" src=\"static/img/meal/location1.png\" alt=\"\">\r\n\t\t\t\t\t\t\t<span>太原市</span>\r\n\t\t\t\t\t\t\t<img class=\"img-right\" src=\"static/img/meal/right1.png\" alt=\"\">\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<router-link tag=\"div\" :to=\"util.getUrl({path: '/package/pages/mealRedpacket/ordermeal'})\" class=\"records flex\">\r\n\t\t\t\t\t\t<img src=\"static/img/meal/meal_time.png\" alt=\"\">\r\n\t\t\t\t\t\t<span>购买记录</span>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"meal-info\" :style=\"{background: 'url(' + params.backgroundImage + ') no-repeat top left/100% 100%'}\">\r\n\t\t\t\t\t<div class=\"tip flex\" :style=\"{color: style.rulesColor}\">\r\n\t\t\t\t\t\t<span class=\"icon icon-question1\" @click=\"onToggleAgreement\"></span>\r\n\t\t\t\t\t\t<span @click=\"onToggleAgreement\">特权说明</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"title\" :style=\"{color: style.titleColor}\">{{params.title}}</div>\r\n\t\t\t\t\t<div class=\"contain\" :style=\"{color: style.placeholderColor}\">{{params.placeholder}}</div>\r\n\t\t\t\t\t<div class=\"btn-buy\" v-if=\"!canBuy\">本月购买次数已用完</div>\r\n\t\t\t\t\t<div class=\"btn-buy haved \" :class=\"{disabled: !islegal}\" @click=\"onSubmit()\" :style=\"{color: style.btnColor, background: style.btnBackground}\" v-else>\r\n\t\t\t\t\t\t<span class=\"renminbi font-12\">¥</span>\r\n\t\t\t\t\t\t<span class=\"price font-18 padding-10-r\">{{params.price}}</span>\r\n\t\t\t\t\t\t<span>{{params.btnText}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"use-limit flex-lr\" v-if=\"params.tips\">\r\n\t\t\t\t\t<div class=\"limit-item\" v-for=\"(item, index) in params.tips\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"img\">\r\n\t\t\t\t\t\t\t<img :src=\"item.imgurl\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span class=\"text ellipsis\" :style=\"{color: item.color}\">{{item.text}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"detail\">\r\n\t\t\t\t<template v-if=\"redpackets && redpackets.length > 0\">\r\n\t\t\t\t\t<div class=\"title flex-lr padding-10-lr padding-10-t\" v-if=\"!canBuy\">\r\n\t\t\t\t\t\t<div class=\"avail-num\">\r\n\t\t\t\t\t\t\t<span>会员红包</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t<span class=\"margin-5-r\">剩余</span>\r\n\t\t\t\t\t\t\t<span class=\"font-bold font-20 c-default\">{{usefulNum}}</span>\r\n\t\t\t\t\t\t\t<span>/{{redpackets.length}}张</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"redpacket-list\">\r\n\t\t\t\t\t\t<van-row gutter=\"10\">\r\n\t\t\t\t\t\t\t<van-col span=\"12\" class=\"margin-10-b\" v-for=\"(item, index) in redpackets\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<div class=\"redpacket-item\" :class=\"{used: item.status > 1}\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"top\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-lr\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"name\">{{item.name}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"price color-main\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t¥<span class=\"font-20\">{{item.discount}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-lr margin-10-t\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"useday-limit\">有效期: {{item.use_days_limit}}天</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"color-main\" v-if=\"item.condition > 0\">满{{item.condition}}元</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"color-main\" v-else>无门槛</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bottom\" v-if=\"!canBuy\">{{item.endtime_cn}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bottom\" v-else>购买后即可享受优惠</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-if=\"params.exchangeStatus == 1 && exchanges.data.length > 0\">\r\n\t\t\t\t\t<div class=\"title padding-10-lr margin-5-t\">\r\n\t\t\t\t\t\t<span class=\"avail-num\">\r\n\t\t\t\t\t\t\t<span>会员红包金额升级</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span class=\"c-gray font-12 margin-5-l\">以下商家支持红包金额升级</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!--旧版-->\r\n\t\t\t\t\t<div class=\"exchange-list padding-10 hide\">\r\n\t\t\t\t\t\t<van-list v-model=\"exchanges.loading\" :finished=\"exchanges.finished\" @load=\"onGetExchanges\" :offset=\"100\" :immediate-check=\"false\">\r\n\t\t\t\t\t\t\t<div class=\"exchange-item\" v-for=\"(item, index) in exchanges.data\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<div class=\"exchange-item-wrap \">\r\n\t\t\t\t\t\t\t\t\t<div class=\"store\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"store-name ellipsis\">{{item.title}}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex margin-10-t\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-rate v-model=\"item.score\" :size=\"12\" :disabled-color=\"'#ff2d4b'\" disabled />\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"star\">{{item.score}}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"activity flex margin-10-t\"  v-if=\"item.activity\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img src=\"static/img/icon-discount.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"ellipsis\">{{item.activity}}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t¥<span>{{item.discount}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"ellipsis\" v-if=\"item.condition > 0\">满{{item.condition}}元</p>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"ellipsis\" v-else>无门槛</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"exchange\" @click=\"onExchangePopupShow(item.store_id)\"><span>立</span><span>即</span><span>兑</span><span>换</span></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-list>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!--新版-->\r\n\t\t\t\t\t<van-list\r\n\t\t\t\t\t\tv-model=\"exchanges.loading\"\r\n\t\t\t\t\t\t:finished=\"exchanges.finished\"\r\n\t\t\t\t\t\t@load=\"onGetExchanges\"\r\n\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\tclass=\"new-exchange-list padding-10 font-14\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<van-row gutter=\"10\">\r\n\t\t\t\t\t\t\t<van-col span=\"12\" class=\"margin-10-b \" v-for=\"(item, index) in exchanges.data\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<div class=\"new-exchange-item padding-15-tb\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"redpacket-info\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"c-danger\">¥</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"c-danger font-24 font-bold margin-5-r\">{{item.discount}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"c-gray font-12\" v-if=\"item.condition > 0\">满{{item.condition}}元</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"c-gray font-12\" v-else>无门槛</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"upgrade\" @click=\"onExchangePopupShow(item.store_id)\">升级</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"c-gray font-12\">需1张会员红包升级</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<router-link tag=\"div\" :to=\"util.getUrl({path: '/pages/store/goods', query:{sid: item.sid}})\" class=\"store-info\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"store-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img :src=\"item.logo\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"store-title w-100 ellipsis text-center margin-10-t padding-10-lr\">{{item.title}}</div>\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t</van-list>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!--选择红包弹出层-->\r\n\t\t<van-popup class=\"popup-exchange\" v-model=\"popupShow\" position=\"bottom\">\r\n\t\t\t<div class=\"popup-title van-hairline--bottom\">请选择一个可用红包进行兑换</div>\r\n\t\t\t<div class=\"popup-container\">\r\n\t\t\t\t<div class=\"redpacket-list\">\r\n\t\t\t\t\t<van-row gutter=\"10\">\r\n\t\t\t\t\t\t<van-col span=\"12\" class=\"margin-10-b\" v-for=\"(item, index) in redpackets\" :key=\"index\">\r\n\t\t\t\t\t\t\t<div class=\"redpacket-item\" :class=\"{active: item.id == selectedRedpacketId, used: (item.status > 1 || item.sid > 0)}\" @click=\"onSelectRedpacket(item)\">\r\n\t\t\t\t\t\t\t\t<div class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-lr\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"name\">{{item.name}}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"price color-main\">\r\n\t\t\t\t\t\t\t\t\t\t\t¥<span class=\"font-20\">{{item.discount}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-lr margin-10-tb\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"useday-limit\">有效期: {{item.use_days_limit}}天</div>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"color-main\" v-if=\"item.condition > 0\">满{{item.condition}}元</p>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"color-main\" v-else>无门槛</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"bottom\" v-if=\"!canBuy\">{{item.endtime_cn}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"bottom\" v-else>购买后即可享受优惠</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t</van-row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"popup-confirm van-hairline--top text-center c-danger\" @click=\"onExchange()\">立即升级</div>\r\n\t\t</van-popup>\r\n\t\t<agreement :show=\"agreementShow\" title=\"特权说明\" :content=\"agreementContent\" @agreementHide=\"onToggleAgreement\"></agreement>\r\n\t\t<iloading v-show=\"preLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport agreement from '@/components/agreement'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpreLoading: true,\r\n\t\t\t\tcanBuy: true,\r\n\t\t\t\tmealRedpacketId: 0,\r\n\t\t\t\tparams: {},\r\n\t\t\t\tstyle: {},\r\n\t\t\t\tredpackets: [],\r\n\t\t\t\tusefulNum: 0,\r\n\t\t\t\texchanges: {\r\n\t\t\t\t\tpage: 2,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\tislegal: false,\r\n\t\t\t\tpopupShow: false,\r\n\t\t\t\tselectedRedpacketId: 0,\r\n\t\t\t\tselectedSid: 0,\r\n\t\t\t\tagreementShow: false,\r\n\t\t\t\tagreementContent: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tagreement\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'mealRedpacket/meal/index',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.preLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(result.message.mealRedpacket == false) {\r\n\t\t\t\t\t\tthis.util.$toast('暂无套餐红包活动');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.canBuy = result.message.canBuy;\r\n\t\t\t\t\tthis.usefulNum = result.message.useful_num;\r\n\t\t\t\t\tthis.redpackets = [...this.redpackets, ...result.message.redpackets];\r\n\t\t\t\t\tthis.exchanges.data = [...this.exchanges, ...result.message.exchanges];\r\n\t\t\t\t\tif(result.message.exchanges.length < this.exchanges.psize) {\r\n\t\t\t\t\t\tthis.exchanges.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar mealRedpacket = result.message.mealRedpacket;\r\n\t\t\t\t\tthis.agreementContent = mealRedpacket.data.rules;\r\n\t\t\t\t\tthis.mealRedpacketId = mealRedpacket.id;\r\n\t\t\t\t\tthis.params = mealRedpacket.data.params;\r\n\t\t\t\t\tthis.style = mealRedpacket.data.style;\r\n\t\t\t\t\tthis.islegal = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetExchanges() {\r\n\t\t\t\tif(this.exchanges.finished) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'mealRedpacket/meal/exchange',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: this.exchanges.page,\r\n\t\t\t\t\t\tpsize: this.exchanges.psize,\r\n\t\t\t\t\t\tmealRedpacket_id: this.mealRedpacketId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tvar result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.exchanges.loading = false;\r\n\t\t\t\t\tvar exchanges = result.message.exchanges;\r\n\t\t\t\t\tthis.exchanges.data = [...this.exchanges.data, ...exchanges];\r\n\t\t\t\t\tif(exchanges.length < this.exchanges.psize) {\r\n\t\t\t\t\t\tthis.exchanges.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.exchanges.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(!this.islegal) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.islegal = false;\r\n\t\t\t\tif(!this.canBuy) {\r\n\t\t\t\t\tthis.uitl.$toast('本月购买次数已用完');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tmealRedpacket_id: parseInt(this.mealRedpacketId),\r\n\t\t\t\t\tfinal_fee: parseFloat(this.params.price)\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'mealRedpacket/meal/submit',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tvar result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar order_id = result.message;\r\n\t\t\t\t\tthis.$router.replace(this.util.getUrl({path: '/pages/public/pay?order_id=' + order_id + '&order_type=mealRedpacket'}));\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonExchangePopupShow(sid) {\r\n\t\t\t\tif(this.params.exchangeStatus != 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.canBuy) {\r\n\t\t\t\t\tthis.util.$toast('请购买套餐红包后再进行兑换操作');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedSid = sid;\r\n\t\t\t\tthis.onTogglePopup();\r\n\t\t\t},\r\n\t\t\tonTogglePopup() {\r\n\t\t\t\tthis.popupShow = !this.popupShow;\r\n\t\t\t},\r\n\t\t\tonToggleAgreement() {\r\n\t\t\t\tthis.agreementShow = !this.agreementShow;\r\n\t\t\t},\r\n\t\t\tonSelectRedpacket(redpacket) {\r\n\t\t\t\tif(redpacket.status != 1) {\r\n\t\t\t\t\tthis.util.$toast('请选择有效的红包进行兑换');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(redpacket.sid > 0) {\r\n\t\t\t\t\tthis.util.$toast('无法使用已兑换的红包进行兑换');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedRedpacketId = redpacket.id;\r\n\t\t\t},\r\n\t\t\tonExchange() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tredpacket_id: parseInt(this.selectedRedpacketId),\r\n\t\t\t\t\tsid: parseInt(this.selectedSid),\r\n\t\t\t\t\tmealRedpacket_id: parseInt(this.mealRedpacketId)\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'mealRedpacket/meal/do_exchange',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tvar result = res.data.message;\r\n\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#mealRedpacket-plus .popup-exchange{\r\n\t\theight: 400px;\r\n\t\twidth: 100%;\r\n\t}\r\n\t#mealRedpacket-plus .popup-exchange .popup-container{\r\n\t\theight: 300px;\r\n\t\twidth: 100%;\r\n\t\toverflow-y: scroll;\r\n\t\toverflow-x: hidden;\r\n\t\tpadding: 10px 10px 0;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t#mealRedpacket-plus .popup-exchange .popup-title,#mealRedpacket-plus .popup-exchange .popup-confirm{\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 50px;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\t#mealRedpacket-plus .color-main{\r\n\t\tcolor: #ff000f;\r\n\t}\r\n\t#mealRedpacket-plus .info{\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#mealRedpacket-plus .info .city-records{\r\n\t\tpadding: 10px 10px 0 10px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#mealRedpacket-plus .info .city-records .city .img-location{\r\n\t\twidth: 18px;\r\n\t\theight: 18px;\r\n\t\tmargin: 0 5px;\r\n\t}\r\n\t#mealRedpacket-plus .info .city-records .city .img-right{\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\t#mealRedpacket-plus .info .city-records .records {\r\n\t\tcolor: #999;\r\n\t}\r\n\t#mealRedpacket-plus .info .city-records .records img{\r\n\t\twidth: 15px;\r\n\t\theight: 15px;\r\n\t\tmargin-right: 3px;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info{\r\n\t\twidth: 100%;\r\n\t\tbackground: url(\"../../../static/img/meal/meal_title_bg.png\") no-repeat top left/100% 100%;\r\n\t\ttext-align: center;\r\n\t\tpadding-bottom: 15px;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .tip{\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t\tpadding: 60px 20px 20px 0;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .tip img{\r\n\t\twidth: 14px;\r\n\t\thegiht: 14px;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .title{\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #fff;\r\n\t\tfont-family: '黑体';\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .contain{\r\n\t\tmargin: 10px 0 20px;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .btn-buy{\r\n\t\theight: 40px;\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 40px;\r\n\t\tpadding: 0 15px;\r\n\t\tcolor: #ffdee3;\r\n\t\tborder: 1px solid #ffdee3;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .btn-buy.haved{\r\n\t\tbackground-color: #b64d57;\r\n\t\tcolor: #ffdee3;\r\n\t}\r\n\t#mealRedpacket-plus .info .meal-info .btn-buy.disabled{\r\n\t\tbackground-color: #eee!important;\r\n\t\tcolor: #999!important;\r\n\t\tborder-color: #eee;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit{\r\n\t\tpadding: 20px 30px;\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #A99667;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit .limit-item{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmax-width: 33.33%;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit .limit-item img{\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit .limit-item .img{\r\n\t\tposition: relative;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit .limit-item .img span{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#mealRedpacket-plus .info .use-limit .limit-item .text{\r\n\t\tmax-width: 100%;\r\n\t}\r\n\t#mealRedpacket-plus .detail{\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .title{\r\n\t\tcolor: #999;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .title .avail-num span{\r\n\t\tcolor: #333;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t#mealRedpacket-plus .detail .redpacket-list{\r\n\t\tpadding: 10px 10px 0;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\tjustify-content: space-between;\r\n\t\tborder-radius: 5px;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: 2px solid #f5f5f5;\r\n\t\toverflow: hidden;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item .top{\r\n\t\tpadding: 10px 10px 4px 10px;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item .name{\r\n\t\tcolor: #333;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item .bottom{\r\n\t\tpadding: 4px 10px 10px 10px;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item.used{\r\n\t\topacity: 0.6;\r\n\t}\r\n\t#mealRedpacket-plus .redpacket-list .van-col .redpacket-item.active{\r\n\t\tborder-color: #ff2d4b;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item{\r\n\t\tposition: relative;\r\n\t\tbackground: url(\"../../../static/img/meal/meal_exchange.png\") no-repeat top left/100% 100%;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .exchange-item-wrap{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .store{\r\n\t\twidth: 65%;\r\n\t\tpadding: 10px 10px 10px 15px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .store .star{\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #6F6E6B;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .store .activity{\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #6F6E6B;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .store .activity img{\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .price{\r\n\t\twidth: 31%;\r\n\t\tpadding-right: 24px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #ff000f;\r\n\t\tfont-size: 14px;\r\n\t\tpadding-bottom: 10px;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .price span{\r\n\t\tfont-size: 28px;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .price p{\r\n\t\tmargin-top: 20px;\r\n\t\tcolor: #6F6E6B;\r\n\t}\r\n\t#mealRedpacket-plus .detail .exchange-list .exchange-item .exchange{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 24px;\r\n\t\tline-height: 1.5;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 0 5px 5px 0;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #F12845;\r\n\t}\r\n\t/*新版兑换红包列表*/\r\n\t#mealRedpacket-plus .new-exchange-list{\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t#mealRedpacket-plus .new-exchange-list .new-exchange-item{\r\n\t\tborder-radius: 5px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#mealRedpacket-plus .new-exchange-list .new-exchange-item .redpacket-info{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-bottom: 4px;\r\n\t}\r\n\t#mealRedpacket-plus .new-exchange-list .new-exchange-item .redpacket-info .upgrade{\r\n\t\twidth: 60%;\r\n\t\tpadding: 8px 0;\r\n\t\tmargin: 10px 0;\r\n\t\tborder-radius: 100px;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #FF425D;\r\n\t\tcolor: #ffdee3;\r\n\t}\r\n\t#mealRedpacket-plus .new-exchange-list .new-exchange-item .store-logo{\r\n\t\twidth: 100%;\r\n\t\theight: 120px;\r\n\t\tpadding: 4px 10px 0 10px;\r\n\t}\r\n\t#mealRedpacket-plus .new-exchange-list .new-exchange-item .store-logo img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/mealRedpacket/meal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mealRedpacket-plus\"}},[(!_vm.isWeixin)?_c('public-header',{attrs:{\"title\":\"红包套餐\"}}):_vm._e(),_vm._v(\" \"),(_vm.mealRedpacketId > 0)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"city-records flex-lr\"},[_c('div',{staticClass:\"city flex\"},[(0)?[_c('span',[_vm._v(\"使用城市:\")]),_vm._v(\" \"),_c('img',{staticClass:\"img-location\",attrs:{\"src\":\"static/img/meal/location1.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"太原市\")]),_vm._v(\" \"),_c('img',{staticClass:\"img-right\",attrs:{\"src\":\"static/img/meal/right1.png\",\"alt\":\"\"}})]:_vm._e()],2),_vm._v(\" \"),_c('router-link',{staticClass:\"records flex\",attrs:{\"tag\":\"div\",\"to\":_vm.util.getUrl({path: '/package/pages/mealRedpacket/ordermeal'})}},[_c('img',{attrs:{\"src\":\"static/img/meal/meal_time.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"购买记录\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"meal-info\",style:({background: 'url(' + _vm.params.backgroundImage + ') no-repeat top left/100% 100%'})},[_c('div',{staticClass:\"tip flex\",style:({color: _vm.style.rulesColor})},[_c('span',{staticClass:\"icon icon-question1\",on:{\"click\":_vm.onToggleAgreement}}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.onToggleAgreement}},[_vm._v(\"特权说明\")])]),_vm._v(\" \"),_c('div',{staticClass:\"title\",style:({color: _vm.style.titleColor})},[_vm._v(_vm._s(_vm.params.title))]),_vm._v(\" \"),_c('div',{staticClass:\"contain\",style:({color: _vm.style.placeholderColor})},[_vm._v(_vm._s(_vm.params.placeholder))]),_vm._v(\" \"),(!_vm.canBuy)?_c('div',{staticClass:\"btn-buy\"},[_vm._v(\"本月购买次数已用完\")]):_c('div',{staticClass:\"btn-buy haved \",class:{disabled: !_vm.islegal},style:({color: _vm.style.btnColor, background: _vm.style.btnBackground}),on:{\"click\":function($event){return _vm.onSubmit()}}},[_c('span',{staticClass:\"renminbi font-12\"},[_vm._v(\"¥\")]),_vm._v(\" \"),_c('span',{staticClass:\"price font-18 padding-10-r\"},[_vm._v(_vm._s(_vm.params.price))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.params.btnText))])])]),_vm._v(\" \"),(_vm.params.tips)?_c('div',{staticClass:\"use-limit flex-lr\"},_vm._l((_vm.params.tips),function(item,index){return _c('div',{key:index,staticClass:\"limit-item\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":item.imgurl,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"text ellipsis\",style:({color: item.color})},[_vm._v(_vm._s(item.text))])])}),0):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[(_vm.redpackets && _vm.redpackets.length > 0)?[(!_vm.canBuy)?_c('div',{staticClass:\"title flex-lr padding-10-lr padding-10-t\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"flex\"},[_c('span',{staticClass:\"margin-5-r\"},[_vm._v(\"剩余\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-bold font-20 c-default\"},[_vm._v(_vm._s(_vm.usefulNum))]),_vm._v(\" \"),_c('span',[_vm._v(\"/\"+_vm._s(_vm.redpackets.length)+\"张\")])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"redpacket-list\"},[_c('van-row',{attrs:{\"gutter\":\"10\"}},_vm._l((_vm.redpackets),function(item,index){return _c('van-col',{key:index,staticClass:\"margin-10-b\",attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"redpacket-item\",class:{used: item.status > 1}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"flex-lr\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price color-main\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t¥\"),_c('span',{staticClass:\"font-20\"},[_vm._v(_vm._s(item.discount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-lr margin-10-t\"},[_c('div',{staticClass:\"useday-limit\"},[_vm._v(\"有效期: \"+_vm._s(item.use_days_limit)+\"天\")]),_vm._v(\" \"),(item.condition > 0)?_c('p',{staticClass:\"color-main\"},[_vm._v(\"满\"+_vm._s(item.condition)+\"元\")]):_c('p',{staticClass:\"color-main\"},[_vm._v(\"无门槛\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})]),_vm._v(\" \"),(!_vm.canBuy)?_c('div',{staticClass:\"bottom\"},[_vm._v(_vm._s(item.endtime_cn))]):_c('div',{staticClass:\"bottom\"},[_vm._v(\"购买后即可享受优惠\")])])])}),1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.params.exchangeStatus == 1 && _vm.exchanges.data.length > 0)?[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"exchange-list padding-10 hide\"},[_c('van-list',{attrs:{\"finished\":_vm.exchanges.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onGetExchanges},model:{value:(_vm.exchanges.loading),callback:function ($$v) {_vm.$set(_vm.exchanges, \"loading\", $$v)},expression:\"exchanges.loading\"}},_vm._l((_vm.exchanges.data),function(item,index){return _c('div',{key:index,staticClass:\"exchange-item\"},[_c('div',{staticClass:\"exchange-item-wrap \"},[_c('div',{staticClass:\"store\"},[_c('div',{staticClass:\"store-name ellipsis\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"flex margin-10-t\"},[_c('van-rate',{attrs:{\"size\":12,\"disabled-color\":'#ff2d4b',\"disabled\":\"\"},model:{value:(item.score),callback:function ($$v) {_vm.$set(item, \"score\", $$v)},expression:\"item.score\"}}),_vm._v(\" \"),_c('p',{staticClass:\"star\"},[_vm._v(_vm._s(item.score))])],1),_vm._v(\" \"),(item.activity)?_c('div',{staticClass:\"activity flex margin-10-t\"},[_c('img',{attrs:{\"src\":\"static/img/icon-discount.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(item.activity))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t¥\"),_c('span',[_vm._v(_vm._s(item.discount))]),_vm._v(\" \"),(item.condition > 0)?_c('p',{staticClass:\"ellipsis\"},[_vm._v(\"满\"+_vm._s(item.condition)+\"元\")]):_c('p',{staticClass:\"ellipsis\"},[_vm._v(\"无门槛\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"exchange\",on:{\"click\":function($event){return _vm.onExchangePopupShow(item.store_id)}}},[_c('span',[_vm._v(\"立\")]),_c('span',[_vm._v(\"即\")]),_c('span',[_vm._v(\"兑\")]),_c('span',[_vm._v(\"换\")])])])}),0)],1),_vm._v(\" \"),_c('van-list',{staticClass:\"new-exchange-list padding-10 font-14\",attrs:{\"finished\":_vm.exchanges.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onGetExchanges},model:{value:(_vm.exchanges.loading),callback:function ($$v) {_vm.$set(_vm.exchanges, \"loading\", $$v)},expression:\"exchanges.loading\"}},[_c('van-row',{attrs:{\"gutter\":\"10\"}},_vm._l((_vm.exchanges.data),function(item,index){return _c('van-col',{key:index,staticClass:\"margin-10-b \",attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"new-exchange-item padding-15-tb\"},[_c('div',{staticClass:\"redpacket-info\"},[_c('div',{staticClass:\"flex-center\"},[_c('span',{staticClass:\"c-danger\"},[_vm._v(\"¥\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger font-24 font-bold margin-5-r\"},[_vm._v(_vm._s(item.discount))]),_vm._v(\" \"),(item.condition > 0)?_c('span',{staticClass:\"c-gray font-12\"},[_vm._v(\"满\"+_vm._s(item.condition)+\"元\")]):_c('span',{staticClass:\"c-gray font-12\"},[_vm._v(\"无门槛\")])]),_vm._v(\" \"),_c('div',{staticClass:\"upgrade\",on:{\"click\":function($event){return _vm.onExchangePopupShow(item.store_id)}}},[_vm._v(\"升级\")]),_vm._v(\" \"),_c('div',{staticClass:\"c-gray font-12\"},[_vm._v(\"需1张会员红包升级\")])]),_vm._v(\" \"),_c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})]),_vm._v(\" \"),_c('router-link',{staticClass:\"store-info\",attrs:{\"tag\":\"div\",\"to\":_vm.util.getUrl({path: '/pages/store/goods', query:{sid: item.sid}})}},[_c('div',{staticClass:\"store-logo\"},[_c('img',{attrs:{\"src\":item.logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"store-title w-100 ellipsis text-center margin-10-t padding-10-lr\"},[_vm._v(_vm._s(item.title))])])],1)])}),1)],1)]:_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('van-popup',{staticClass:\"popup-exchange\",attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupShow),callback:function ($$v) {_vm.popupShow=$$v},expression:\"popupShow\"}},[_c('div',{staticClass:\"popup-title van-hairline--bottom\"},[_vm._v(\"请选择一个可用红包进行兑换\")]),_vm._v(\" \"),_c('div',{staticClass:\"popup-container\"},[_c('div',{staticClass:\"redpacket-list\"},[_c('van-row',{attrs:{\"gutter\":\"10\"}},_vm._l((_vm.redpackets),function(item,index){return _c('van-col',{key:index,staticClass:\"margin-10-b\",attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"redpacket-item\",class:{active: item.id == _vm.selectedRedpacketId, used: (item.status > 1 || item.sid > 0)},on:{\"click\":function($event){return _vm.onSelectRedpacket(item)}}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"flex-lr\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price color-main\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t¥\"),_c('span',{staticClass:\"font-20\"},[_vm._v(_vm._s(item.discount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-lr margin-10-tb\"},[_c('div',{staticClass:\"useday-limit\"},[_vm._v(\"有效期: \"+_vm._s(item.use_days_limit)+\"天\")]),_vm._v(\" \"),(item.condition > 0)?_c('p',{staticClass:\"color-main\"},[_vm._v(\"满\"+_vm._s(item.condition)+\"元\")]):_c('p',{staticClass:\"color-main\"},[_vm._v(\"无门槛\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})]),_vm._v(\" \"),(!_vm.canBuy)?_c('div',{staticClass:\"bottom\"},[_vm._v(_vm._s(item.endtime_cn))]):_c('div',{staticClass:\"bottom\"},[_vm._v(\"购买后即可享受优惠\")])])])}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"popup-confirm van-hairline--top text-center c-danger\",on:{\"click\":function($event){return _vm.onExchange()}}},[_vm._v(\"立即升级\")])]),_vm._v(\" \"),_c('agreement',{attrs:{\"show\":_vm.agreementShow,\"title\":\"特权说明\",\"content\":_vm.agreementContent},on:{\"agreementHide\":_vm.onToggleAgreement}}),_vm._v(\" \"),_c('iloading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preLoading),expression:\"preLoading\"}]})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avail-num\"},[_c('span',[_vm._v(\"会员红包\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title padding-10-lr margin-5-t\"},[_c('span',{staticClass:\"avail-num\"},[_c('span',[_vm._v(\"会员红包金额升级\")])]),_vm._v(\" \"),_c('span',{staticClass:\"c-gray font-12 margin-5-l\"},[_vm._v(\"以下商家支持红包金额升级\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54756d04\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mealRedpacket/meal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54756d04\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./meal.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./meal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./meal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54756d04\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./meal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mealRedpacket/meal.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}