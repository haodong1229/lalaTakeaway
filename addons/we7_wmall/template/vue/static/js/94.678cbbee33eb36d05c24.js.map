{"version":3,"sources":["webpack:///src/pages/creditshop/goodsDetail.vue","webpack:///./src/pages/creditshop/goodsDetail.vue?2bc1","webpack:///./src/pages/creditshop/goodsDetail.vue"],"names":["goodsDetail","data","id","Number","good","goods","member","records","page","psize","empty","loaded","active","showPreLoading","components","PublicHeader","methods","onLoad","_this","this","util","request","url","then","res","result","message","errno","$toast","console","log","concat","toConsumableArray_default","length","onGetRecords","_this2","watch","$route","to","from","query","created","mounted","creditshop_goodsDetail","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","autoplay","src","thumb","alt","type","_e","_s","chance","records_num","use_credit1","use_credit2","old_price","swipeable","model","value","callback","$$v","expression","domProps","innerHTML","description","_l","item","index","key","avatar","nickname","addtime","on","click","getUrl","path","status","can","credit1","goods_id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/94.678cbbee33eb36d05c24.js","sourcesContent":["<template>\r\n\t<div id=\"creditshop-goodsdetail\">\r\n\t\t<public-header title=\"商品详情\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"main-scroll\">\r\n\t\t\t\t<van-swipe :autoplay=\"3000\" class=\"margin-15\">\r\n\t\t\t\t\t<van-swipe-item>\r\n\t\t\t\t\t\t<img :src=\"good.thumb\" alt=\"\">\r\n\t\t\t\t\t</van-swipe-item>\r\n\t\t\t\t</van-swipe>\r\n\t\t\t\t<div class=\"cell-group\">\r\n\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t<div class=\"cell-text goods-title\">\r\n\t\t\t\t\t\t\t<label v-if=\"good.type == 'goods'\">商品</label>\r\n\t\t\t\t\t\t\t<label v-else-if=\"good.type == 'credit2'\">余额</label>\r\n\t\t\t\t\t\t\t<label v-else-if=\"good.type == 'redpacket'\">红包</label>\r\n\t\t\t\t\t\t\t<span>{{good.title}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cell cell-credit\">\r\n\t\t\t\t\t\t<div class=\"cell-text\">\r\n\t\t\t\t\t\t\t<span>单人仅限兑换: {{good.chance}} 次,该商品目前已累计兑换: {{good.records_num}} 次</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t<div class=\"cell-text\">\r\n\t\t\t\t\t\t\t<div class=\"price\">\r\n\t\t\t\t\t\t\t\t<span class=\"big\">{{good.use_credit1}}</span> 积分\r\n\t\t\t\t\t\t\t\t<template v-if=\"good.use_credit2 > 0\">\r\n\t\t\t\t\t\t\t\t\t+ <span class=\"big\">{{good.use_credit2}}</span> 元\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<span class=\"old-price\">原价: {{good.old_price}}元</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"wui-tab\">\r\n\t\t\t\t\t<van-tabs v-model=\"active\" swipeable>\r\n\t\t\t\t\t\t<van-tab title=\"商品详情\">\r\n\t\t\t\t\t\t\t<div class=\"tab-basic\" v-html=\"good.description\" v-if=\"good.description\"></div>\r\n\t\t\t\t\t\t\t<div class=\"nodata\" v-else>暂无商品详情</div>\r\n\t\t\t\t\t\t</van-tab>\r\n\t\t\t\t\t\t<van-tab title=\"参与记录\">\r\n\t\t\t\t\t\t\t<template v-if=\"!records.empty\">\r\n\t\t\t\t\t\t\t\t<div class=\"list\" v-for=\"(item, index) in records.data\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-media\">\r\n\t\t\t\t\t\t\t\t\t\t<img :src=\"item.avatar\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-inner\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title\">{{item.nickname}}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-media text\"> {{item.addtime}} </div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"more\" v-if=\"!records.loaded\">\r\n\t\t\t\t\t\t\t\t\t<span @click=\"onGetRecords\">查看更多</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"more\" v-else>\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-disabled\">没有更多了</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<div class=\"nodata\" v-else>暂无参与记录</div>\r\n\t\t\t\t\t\t</van-tab>\r\n\t\t\t\t\t</van-tabs>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"list-group\">\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"group-list-inner\">\r\n\t\t\t\t\t\t\t<div class=\"title border-1px-b\">为您推荐</div>\r\n\t\t\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t\t\t<router-link :to=\"util.getUrl({path: '/pages/creditshop/goodsDetail', query: {id: item.id}})\" class=\"item\" v-for=\"(item, index) in goods\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<img :src=\"item.thumb\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"title\">{{item.title}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.use_credit1}}积分\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.use_credit2 > 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t+ {{item.use_credit2}}元\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<template v-if=\"good.status == 1\">\r\n\t\t\t\t<template v-if=\"good.can == 1\">\r\n\t\t\t\t\t<div class=\"bottom-fixed disabled\" v-if=\"member.credit1 < good.use_credit1\">积分不足</div>\r\n\t\t\t\t\t<router-link :to=\"util.getUrl({path: '/pages/creditshop/create', query: {goods_id: good.id}})\" class=\"bottom-fixed\" v-else>立即兑换</router-link>\r\n\t\t\t\t</template>\r\n\t\t\t\t<div class=\"bottom-fixed disabled\" v-else>兑换已达最大次数</div>\r\n\t\t\t</template>\r\n\t\t\t<div class=\"bottom-fixed disabled\" v-else>商品已下架，无法兑换</div>\r\n\t\t</div>\r\n\t\t<div class=\"tips flex\" v-if=\"good.status == 0\">\r\n\t\t\t<div class=\"icon icon-commentfill\"></div>\r\n\t\t\t<div>商品已下架，无法兑换</div>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: Number,\r\n\t\t\t\tgood: {},\r\n\t\t\t\tgoods: {},\r\n\t\t\t\tmember: {},\r\n\t\t\t\trecords: {\r\n\t\t\t\t\tpage: 2,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloaded: false,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t},\r\n\t\t\t\tactive: 0,\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'creditshop/index/detail',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: this.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tthis.good = result.good;\r\n\t\t\t\t\tthis.goods = result.goods;\r\n\t\t\t\t\tconsole.log(this.goods)\r\n\t\t\t\t\tthis.member = result.member;\r\n\t\t\t\t\tthis.records.data = [...this.records.data, ...result.records];\r\n\t\t\t\t\tif(!this.records.data.length) {\r\n\t\t\t\t\t\tthis.records.empty = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetRecords() {\r\n\t\t\t\tif(this.records.loaded) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'creditshop/index/detail',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tpage: this.records.page,\r\n\t\t\t\t\t\tpsize: this.records.psize\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tthis.records.data = [...this.records.data, ...result.records];\r\n\t\t\t\t\tif(result.records.length < this.records.psize) {\r\n\t\t\t\t\t\tthis.records.loaded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.records.data.length) {\r\n\t\t\t\t\t\tthis.records.empty = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.records.page++;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 对路由变化作出响应...\r\n\t\t\t'$route' (to, from) {\r\n\t\t\t\tthis.good = {};\r\n\t\t\t\tthis.goods = {};\r\n\t\t\t\tthis.member = {};\r\n\t\t\t\tthis.records = {\r\n\t\t\t\t\tpage: 2,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloaded: false,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t},\r\n\t\t\t\tthis.active = 0;\r\n\t\t\t\tif(this.$route.query.id) {\r\n\t\t\t\t\tthis.id = this.$route.query.id;\r\n\t\t\t\t}\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query.id) {\r\n\t\t\t\tthis.id = this.$route.query.id;\r\n\t\t\t} else {\r\n\t\t\t\tthis.util.$toast('参数错误')\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#creditshop-goodsdetail .tips{\r\n\t\tposition: fixed;\r\n\t\ttop: 46px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 10000;\r\n\t\theight:30px;\r\n\t\tbackground-color:rgba(0,0,0,0.3);\r\n\t\tline-height:30px;\r\n\t\tfont-size:16px;\r\n\t\tcolor:#ccc;\r\n\t}\r\n\t#creditshop-goodsdetail .tips .icon{\r\n\t\tmargin: 0 5px 0 10px;\r\n\t}\r\n    #creditshop-goodsdetail .content .main-scroll{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbottom: 50px;\r\n\t\tright: 0;\r\n\t\toverflow-y: scroll;\r\n    }\r\n    #creditshop-goodsdetail .content .main-scroll .van-swipe .van-swipe-item img{\r\n\t\tmax-width: 100%;\r\n\t\tmax-height: 300px;\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 auto;\r\n    }\r\n    #creditshop-goodsdetail .content .main-scroll .cell-group{\r\n\t\tbackground-color:#fff;\r\n\t\tline-height:1.4;\r\n\t\tfont-size:17px;\r\n\t\toverflow:hidden;\r\n\t\tposition:relative;\r\n\t\tdisplay:block;\r\n    }\r\n    #creditshop-goodsdetail .content .main-scroll .cell-group .cell{\r\n\t\tposition:relative;\r\n\t\tpadding:16px 13px 14px;\r\n\t\tdisplay:flex;\r\n\t\t-webkit-box-align:center;\r\n\t\talign-items:center;\r\n\t\ttransition-duration:300ms;\r\n\t\ttransition-property:background-color;\r\n\t\tline-height:20px;\r\n    }\r\n    #creditshop-goodsdetail .content .main-scroll .cell-group .cell.cell-credit {\r\n\t\tpadding:4px 11px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text{\r\n\t\tcolor:#7c7c7c;\r\n\t\tfont-size:13px;\r\n\t\t-webkit-box-flex:1;\r\n\t\tflex:1;\r\n\t\tline-height:15px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text.goods-title{\r\n\t\tline-height: 1.8;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text label{\r\n\t\tpadding:1px 4px;\r\n\t\tbackground:#ff2d4b;\r\n\t\tborder-radius: 5px;\r\n\t\tcolor:#fff;\r\n\t\tfont-size:12px;\r\n\t\tmargin-right:4px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text .price{\r\n\t\ttext-align:left;\r\n\t\tmargin-right:3px;\r\n\t\tcolor:#f24749;\r\n\t\tfont-weight:bold;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text .price .big{\r\n\t\tfont-size:17px;\r\n\t\tfont-weight:bold;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .cell-group .cell .cell-text .price .old-price{\r\n\t\tcolor:#7c7c7c;\r\n\t\tfont-size: 14px;\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab{\r\n\t\tmargin-top: 11px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .nodata{\r\n\t\tfont-size: 15px;\r\n\t\tpadding: 10px 15px;\r\n\t\tcolor: #999;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .tab-basic{\r\n\t\tfont-size:15px;\r\n\t\tcolor:#666;\r\n\t\tpadding:11px;\r\n\t\tbox-sizing:border-box;\r\n\t\twidth:100%;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list{\r\n\t\tposition:relative;\r\n\t\tdisplay:flex;\r\n\t\tpadding:8px 13px;\r\n\t\ttransition-duration:300ms;\r\n\t\t-webkit-box-align:center;\r\n\t\talign-items:center;\r\n\t\toverflow:hidden;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list .list-media{\r\n\t\tdisplay:flex;\r\n\t\tflex-shrink:0;\r\n\t\t-webkit-box-lines:single;\r\n\t\tflex-wrap:nowrap;\r\n\t\tbox-sizing:border-box;\r\n\t\t-webkit-box-align:center;\r\n\t\talign-items:center;\r\n\t\tmargin-right:13px;\r\n\t\tposition:relative;\r\n\t\tcolor:#aaa;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list .list-media img{\r\n\t\theight:44px;\r\n\t\twidth:44px;\r\n\t\tborder-radius:100%;\r\n\t\tdisplay:inline-block;\r\n\t\toverflow:hidden;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list .list-media.text{\r\n\t\tfont-size:13px;\r\n\t\tcolor:#666;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list .list-inner{\r\n\t\tposition:relative;\r\n\t\twidth:100%;\r\n\t\toverflow:hidden;\r\n\t\tbox-sizing:border-box;\r\n\t\t-webkit-box-flex:1;\r\n\t\tflex:1;\r\n\t\tdisplay:block;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .list .list-inner .title{\r\n\t\tposition:relative;\r\n\t\tcolor:#000;\r\n\t\twhite-space:nowrap;\r\n\t\toverflow:hidden;\r\n\t\ttext-overflow:ellipsis;\r\n\t\theight:22px;\r\n\t\tline-height:22px;\r\n\t\tfont-size:15px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .more{\r\n\t\ttext-align:center;\r\n\t\tfont-size:15px;\r\n\t\tcolor:#666;\r\n\t\tpadding-bottom:11px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .wui-tab .van-tab__pane .more span{\r\n\t\tcolor: #f60;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group{\r\n\t\tmargin-top:11px;\r\n\t\tbackground-color:#fff;\r\n\t\tposition:relative;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list{\r\n\t\tposition:relative;\r\n\t\tdisplay:flex;\r\n\t\ttransition-duration:300ms;\r\n\t\t-webkit-box-align:center;\r\n\t\talign-items:center;\r\n\t\toverflow:hidden;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .group-list-inner{\r\n\t\tposition:relative;\r\n\t\twidth:100%;\r\n\t\toverflow:hidden;\r\n\t\tbox-sizing:border-box;\r\n\t\tdisplay:-webkit-box;\r\n\t\tdisplay:-webkit-flex;\r\n\t\tdisplay:flex;\r\n\t\t-webkit-box-flex:1;\r\n\t\t-webkit-flex:1;\r\n\t\t-ms-flex:1;\r\n\t\tflex:1;\r\n\t\tdisplay:block;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .title{\r\n\t\tfont-size:17px;\r\n\t\tpadding: 0px 15px;\r\n\t\theight: 44px;\r\n\t\tline-height: 44px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .text{\r\n\t\tposition:relative;\r\n\t\tfont-size:14px;\r\n\t\tcolor:#666;\r\n\t\theight:auto;\r\n\t\tdisplay:flex;\r\n\t\t-webkit-box-align:start;\r\n\t\talign-items:center;\r\n\t\tpadding: 15px 0;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .text .item{\r\n\t\theight:auto;\r\n\t\twidth:33%;\r\n\t\ttext-align:center;\r\n\t\tdisplay:inline-block;\r\n\t\tcolor:#666;\r\n\t\tline-height: 20px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .text .item img{\r\n\t\twidth:88px;\r\n\t\theight:88px;\r\n\t\tvertical-align:middle;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .text .item .title{\r\n\t\tcolor:#666;\r\n\t\tfont-size:14px;\r\n\t\theight:20px;\r\n\t\tline-height:20px;\r\n\t\tposition:relative;\r\n\t\twhite-space:nowrap;\r\n\t\ttext-overflow:ellipsis;\r\n\t\toverflow:hidden;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .main-scroll .list-group .list .text .item .price{\r\n\t\tcolor:#f24749;\r\n\t\tfont-size:12px;\r\n\t}\r\n\t#creditshop-goodsdetail .content .bottom-fixed{\r\n\t\tdisplay: inline-block;\r\n\t\tposition: absolute;\r\n\t\tbottom:0;\r\n\t\twidth:100%;\r\n\t\theight:50px;\r\n\t\ttext-align:center;\r\n\t\tline-height:50px;\r\n\t\tfont-size:16px;\r\n\t\tbackground-color:#f24749;\r\n\t\tcolor:#fff;\r\n\t}\r\n\t#creditshop-goodsdetail .content .bottom-fixed.disabled{\r\n\t\tbackground: #ddd;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/creditshop/goodsDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"creditshop-goodsdetail\"}},[_c('public-header',{attrs:{\"title\":\"商品详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"main-scroll\"},[_c('van-swipe',{staticClass:\"margin-15\",attrs:{\"autoplay\":3000}},[_c('van-swipe-item',[_c('img',{attrs:{\"src\":_vm.good.thumb,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"cell-group\"},[_c('div',{staticClass:\"cell\"},[_c('div',{staticClass:\"cell-text goods-title\"},[(_vm.good.type == 'goods')?_c('label',[_vm._v(\"商品\")]):(_vm.good.type == 'credit2')?_c('label',[_vm._v(\"余额\")]):(_vm.good.type == 'redpacket')?_c('label',[_vm._v(\"红包\")]):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.good.title))])])]),_vm._v(\" \"),_c('div',{staticClass:\"cell cell-credit\"},[_c('div',{staticClass:\"cell-text\"},[_c('span',[_vm._v(\"单人仅限兑换: \"+_vm._s(_vm.good.chance)+\" 次,该商品目前已累计兑换: \"+_vm._s(_vm.good.records_num)+\" 次\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('div',{staticClass:\"cell-text\"},[_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"big\"},[_vm._v(_vm._s(_vm.good.use_credit1))]),_vm._v(\" 积分\\n\\t\\t\\t\\t\\t\\t\\t\"),(_vm.good.use_credit2 > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t+ \"),_c('span',{staticClass:\"big\"},[_vm._v(_vm._s(_vm.good.use_credit2))]),_vm._v(\" 元\\n\\t\\t\\t\\t\\t\\t\\t\")]:_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"old-price\"},[_vm._v(\"原价: \"+_vm._s(_vm.good.old_price)+\"元\")])],2)])])]),_vm._v(\" \"),_c('div',{staticClass:\"wui-tab\"},[_c('van-tabs',{attrs:{\"swipeable\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"商品详情\"}},[(_vm.good.description)?_c('div',{staticClass:\"tab-basic\",domProps:{\"innerHTML\":_vm._s(_vm.good.description)}}):_c('div',{staticClass:\"nodata\"},[_vm._v(\"暂无商品详情\")])]),_vm._v(\" \"),_c('van-tab',{attrs:{\"title\":\"参与记录\"}},[(!_vm.records.empty)?[_vm._l((_vm.records.data),function(item,index){return _c('div',{key:index,staticClass:\"list\"},[_c('div',{staticClass:\"list-media\"},[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"list-inner\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.nickname))])]),_vm._v(\" \"),_c('div',{staticClass:\"list-media text\"},[_vm._v(\" \"+_vm._s(item.addtime)+\" \")])])}),_vm._v(\" \"),(!_vm.records.loaded)?_c('div',{staticClass:\"more\"},[_c('span',{on:{\"click\":_vm.onGetRecords}},[_vm._v(\"查看更多\")])]):_c('div',{staticClass:\"more\"},[_c('span',{staticClass:\"c-disabled\"},[_vm._v(\"没有更多了\")])])]:_c('div',{staticClass:\"nodata\"},[_vm._v(\"暂无参与记录\")])],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"list-group\"},[_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"group-list-inner\"},[_c('div',{staticClass:\"title border-1px-b\"},[_vm._v(\"为您推荐\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},_vm._l((_vm.goods),function(item,index){return _c('router-link',{key:index,staticClass:\"item\",attrs:{\"to\":_vm.util.getUrl({path: '/pages/creditshop/goodsDetail', query: {id: item.id}})}},[_c('img',{attrs:{\"src\":item.thumb,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(item.use_credit1)+\"积分\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"),(item.use_credit2 > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t+ \"+_vm._s(item.use_credit2)+\"元\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]:_vm._e()],2)])}),1)])])])],1),_vm._v(\" \"),(_vm.good.status == 1)?[(_vm.good.can == 1)?[(_vm.member.credit1 < _vm.good.use_credit1)?_c('div',{staticClass:\"bottom-fixed disabled\"},[_vm._v(\"积分不足\")]):_c('router-link',{staticClass:\"bottom-fixed\",attrs:{\"to\":_vm.util.getUrl({path: '/pages/creditshop/create', query: {goods_id: _vm.good.id}})}},[_vm._v(\"立即兑换\")])]:_c('div',{staticClass:\"bottom-fixed disabled\"},[_vm._v(\"兑换已达最大次数\")])]:_c('div',{staticClass:\"bottom-fixed disabled\"},[_vm._v(\"商品已下架，无法兑换\")])],2),_vm._v(\" \"),(_vm.good.status == 0)?_c('div',{staticClass:\"tips flex\"},[_c('div',{staticClass:\"icon icon-commentfill\"}),_vm._v(\" \"),_c('div',[_vm._v(\"商品已下架，无法兑换\")])]):_vm._e(),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dce9838\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/creditshop/goodsDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dce9838\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodsDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dce9838\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodsDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/creditshop/goodsDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}