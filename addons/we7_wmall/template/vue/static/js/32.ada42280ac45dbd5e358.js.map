{"version":3,"sources":["webpack:///src/pages/order/opUpdate.vue","webpack:///./src/pages/order/opUpdate.vue?6178","webpack:///./src/pages/order/opUpdate.vue"],"names":["opUpdate","data","id","order","order_note","type","picknum","columns","islegal","showPreLoading","components","PublicHeader","header","methods","onLoad","that","this","Object","funcCommon","vue","url","success","res","concat","toConsumableArray_default","store","onChangePicknum","onConfirmPersonNum","value","index","person_num","onChooseLabel","note","onSubmit","params","mobile","$toast","util","isValidMobile","getUrl","path","query","fail","mounted","created","$route","order_opUpdate","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","placeholder","model","callback","$$v","$set","expression","length","_l","item","on","click","$event","_s","_e","to","slot","name","label","input-align","size","block","disabled","position","show-toolbar","confirm-button-text","cancel-button-text","confirm","cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.ada42280ac45dbd5e358.js","sourcesContent":["<template>\r\n\t<div id=\"order-opUpdate\">\r\n\t\t<public-header title=\"修改订单信息\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-cell-group class=\"text\" v-if=\"type == 'note'\">\r\n\t\t\t\t<van-field v-model=\"order.note\" type=\"textarea\" placeholder=\"请输入备注，最多50字哦\"/>\r\n\t\t\t\t<div class=\"label-box\" v-if=\"order_note && order_note.length > 0\">\r\n\t\t\t\t\t<div class=\"label\" v-for=\"item in order_note\" @click=\"onChooseLabel(item)\">{{item}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</van-cell-group>\r\n\t\t\t<van-cell-group class=\"margin-15-t\" v-if=\"type == 'person_num'\" @click=\"onChangePicknum\">\r\n\t\t\t\t<van-cell to=\"\" title=\"餐具数量\">\r\n\t\t\t\t\t<div class=\"flex c-gray\" slot=\"right-icon\">\r\n\t\t\t\t\t\t<span v-if=\"order.person_num\">{{order.person_num}}套</span>\r\n\t\t\t\t\t\t<span v-else>未选择</span>\r\n\t\t\t\t\t\t<van-icon name=\"arrow\" class=\"margin-5-l\"></van-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-cell>\r\n\t\t\t</van-cell-group>\r\n\t\t\t<van-cell-group class=\"margin-15-t\" v-if=\"type == 'mobile'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tv-model=\"order.mobile\"\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"请输入收货电话\"\r\n\t\t\t\t\tlabel=\"收货电话\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t/>\r\n\t\t\t</van-cell-group>\r\n\t\t\t<div class=\"padding-15\">\r\n\t\t\t\t<van-button size=\"normal\" block class=\"bg-danger\" :disabled=\"!islegal\" @click=\"onSubmit\">保存</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!--餐具人数选择-->\r\n\t\t<van-popup v-model=\"picknum\" position=\"bottom\">\r\n\t\t\t<div class=\"popup-picknum\">\r\n\t\t\t\t<van-picker :columns=\"columns\" @confirm=\"onConfirmPersonNum\" @cancel=\"onChangePicknum\" show-toolbar confirm-button-text=\"确认\" cancel-button-text=\"取消\"/>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport {getData, setData} from \"@/controller/funcCommon\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: 0,\r\n\t\t\t\torder: {},\r\n\t\t\t\torder_note: [],\r\n\t\t\t\ttype: '',\r\n\t\t\t\tpicknum: false,\r\n\t\t\t\tcolumns: ['1人', '2人', '3人', '4人', '5人'],\r\n\t\t\t\tislegal: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'wmall/order/index/order_info_update',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: that.id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthat.order = res.order;\r\n\t\t\t\t\t\tthat.order_note = [...that.order_note, ...res.store.order_note];\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonChangePicknum() {\r\n\t\t\t\tthis.picknum = !this.picknum;\r\n\t\t\t},\r\n\t\t\tonConfirmPersonNum(value, index) {\r\n\t\t\t\tvar person_num = index + 1;\r\n\t\t\t\tthis.order.person_num = person_num;\r\n\t\t\t\tthis.onChangePicknum();\r\n\t\t\t},\r\n\t\t\tonChooseLabel(note) {\r\n\t\t\t\tthis.order.note = this.order.note + ' ' + note;\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.islegal) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.type == 'note') {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tid: that.id,\r\n\t\t\t\t\t\tnote: that.order.note,\r\n\t\t\t\t\t\ttype: that.type\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(that.type == 'mobile') {\r\n\t\t\t\t\tif(!that.order.mobile) {\r\n\t\t\t\t\t\tthat.$toast('请输入手机号');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!that.util.isValidMobile(that.order.mobile)) {\r\n\t\t\t\t\t\tthat.$toast('手机号格式错误');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tid: that.id,\r\n\t\t\t\t\t\tmobile: that.order.mobile,\r\n\t\t\t\t\t\ttype: that.type\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(that.type == 'person_num') {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tid: that.id,\r\n\t\t\t\t\t\tperson_num: that.order.person_num,\r\n\t\t\t\t\t\ttype: that.type\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.islegal = false;\r\n\t\t\t\tsetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'wmall/order/index/order_info_update',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthat.util.$toast(res, that.util.getUrl({path: '/pages/order/op', query:{id: that.id}}), 1500, 'replace');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tthat.util.$toast(res);\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tthis.onLoad();\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query && this.query.type && this.query.id) {\r\n\t\t\t\tthis.id = this.query.id;\r\n\t\t\t\tthis.type = this.query.type;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#order-opUpdate .content .text .van-field{\r\n\t\tpadding: 15px;\r\n\t}\r\n\t#order-opUpdate .content textarea{\r\n\t\tbackground-color: #f5f5f5;\r\n\t\theight: 140px;\r\n\t\tborder:1px solid #ECECEC;\r\n\t\tpadding:10px;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#order-opUpdate .content .label-box{\r\n\t\tpadding: 10px 15px 5px 15px;\r\n\t}\r\n\t#order-opUpdate .content .label-box .label{\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 4px 10px;\r\n\t\tfont-size:12px;\r\n\t\tborder:1px solid #ECECEC;\r\n\t\tmargin: 0 10px 10px 0;\r\n\t\tcolor: #333;\r\n\t\tline-height: 20px\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/order/opUpdate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order-opUpdate\"}},[_c('public-header',{attrs:{\"title\":\"修改订单信息\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[(_vm.type == 'note')?_c('van-cell-group',{staticClass:\"text\"},[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入备注，最多50字哦\"},model:{value:(_vm.order.note),callback:function ($$v) {_vm.$set(_vm.order, \"note\", $$v)},expression:\"order.note\"}}),_vm._v(\" \"),(_vm.order_note && _vm.order_note.length > 0)?_c('div',{staticClass:\"label-box\"},_vm._l((_vm.order_note),function(item){return _c('div',{staticClass:\"label\",on:{\"click\":function($event){return _vm.onChooseLabel(item)}}},[_vm._v(_vm._s(item))])}),0):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.type == 'person_num')?_c('van-cell-group',{staticClass:\"margin-15-t\",on:{\"click\":_vm.onChangePicknum}},[_c('van-cell',{attrs:{\"to\":\"\",\"title\":\"餐具数量\"}},[_c('div',{staticClass:\"flex c-gray\",attrs:{\"slot\":\"right-icon\"},slot:\"right-icon\"},[(_vm.order.person_num)?_c('span',[_vm._v(_vm._s(_vm.order.person_num)+\"套\")]):_c('span',[_vm._v(\"未选择\")]),_vm._v(\" \"),_c('van-icon',{staticClass:\"margin-5-l\",attrs:{\"name\":\"arrow\"}})],1)])],1):_vm._e(),_vm._v(\" \"),(_vm.type == 'mobile')?_c('van-cell-group',{staticClass:\"margin-15-t\"},[_c('van-field',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入收货电话\",\"label\":\"收货电话\",\"input-align\":\"right\"},model:{value:(_vm.order.mobile),callback:function ($$v) {_vm.$set(_vm.order, \"mobile\", $$v)},expression:\"order.mobile\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"padding-15\"},[_c('van-button',{staticClass:\"bg-danger\",attrs:{\"size\":\"normal\",\"block\":\"\",\"disabled\":!_vm.islegal},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.picknum),callback:function ($$v) {_vm.picknum=$$v},expression:\"picknum\"}},[_c('div',{staticClass:\"popup-picknum\"},[_c('van-picker',{attrs:{\"columns\":_vm.columns,\"show-toolbar\":\"\",\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"取消\"},on:{\"confirm\":_vm.onConfirmPersonNum,\"cancel\":_vm.onChangePicknum}})],1)]),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf59c7e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/opUpdate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf59c7e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./opUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./opUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./opUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf59c7e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./opUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/opUpdate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}