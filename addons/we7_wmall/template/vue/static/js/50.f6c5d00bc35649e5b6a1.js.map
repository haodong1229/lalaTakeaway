{"version":3,"sources":["webpack:///src/pages/gohome/haodian/search.vue","webpack:///./src/pages/gohome/haodian/search.vue?b7f0","webpack:///./src/pages/gohome/haodian/search.vue"],"names":["search","data","hotStores","searchHistorys","keyword","menufooter","this","util","getStorage","showPreLoading","components","PublicHeader","header","PublicFooter","footer","methods","onLoad","_this","request","url","then","res","result","message","errno","$toast","concat","toConsumableArray_default","store","onClearHistory","_this2","$dialog","confirm","catch","onKeyword","onSearch","$router","push","getUrl","path","query","key","mounted","haodian_search","render","_vm","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","name","directives","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","click","length","_m","_l","item","index","to","sid","tag","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.f6c5d00bc35649e5b6a1.js","sourcesContent":["<template>\r\n\t<div id=\"haodian-search\">\r\n\t\t<public-header title=\"好店搜索\"></public-header>\r\n\t\t<public-footer :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class='search-header van-hairline--bottom'>\r\n\t\t\t\t<div class=\"search-content\">\r\n\t\t\t\t\t<van-icon name=\"search\"/>\r\n\t\t\t\t\t<input type=\"text\" class=\"search-input\" placeholder=\"请输入商家\" v-model=\"keyword\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"search-btn\" @click=\"onSearch\">搜索</div>\r\n\t\t\t</div>\r\n\t\t\t<div class='rmd-history' v-if=\"hotStores.length > 0 || searchHistorys.length > 0\">\r\n\t\t\t\t<div class='search-rmd-wrap' v-if=\"hotStores.length > 0\">\r\n\t\t\t\t\t<div class='search-rmd-title '>\r\n\t\t\t\t\t\t<div class=\"van-hairline--bottom\">热门搜索</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class='search-rmd'>\r\n\t\t\t\t\t\t<router-link :to=\"util.getUrl({path: '/gohome/pages/haodian/detail', query: {sid: item.id}})\" tag=\"div\" v-for=\"(item, index) in hotStores\" :key=\"index\">{{item.title}}</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class='search-history-wrap' v-if=\"searchHistorys.length > 0\">\r\n\t\t\t\t\t<div class='search-rmd-title'>\r\n\t\t\t\t\t\t<div class=\"van-hairline--bottom\">历史搜索</div>\r\n\t\t\t\t\t\t<div class='icon icon-delete' @click=\"onClearHistory\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class='search-rmd'>\r\n\t\t\t\t\t\t<div v-for=\"(item, index) in searchHistorys\" @click=\"onKeyword(item)\" :key=\"index\">{{item}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<transition name=\"van-fade\">\r\n\t\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport PublicFooter from '@/components/footer'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thotStores:[],\r\n\t\t\t\tsearchHistorys: [],\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tmenufooter: this.util.getStorage('menufooter'),\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'haodian/hunt/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmenufooter: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.$toast(result.message)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hotStores = [...this.hotStores, ...result.message.hotStores.store];\r\n\t\t\t\t\tthis.searchHistorys = [...this.searchHistorys, ...result.message.searchHistorys];\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonClearHistory() {\r\n\t\t\t\tthis.$dialog.confirm({\r\n\t\t\t\t\tmessage: '确定清除历史记录吗'\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tif (res == 'confirm') {\r\n\t\t\t\t\t\tthis.util.request({\r\n\t\t\t\t\t\t\turl: 'haodian/hunt/truncate',\r\n\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\t\t\tthis.$toast(result.message)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.searchHistorys = [];\r\n\t\t\t\t\t\t}).catch((res) => {\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonKeyword(keyword) {\r\n\t\t\t\tthis.keyword = keyword;\r\n\t\t\t},\r\n\t\t\tonSearch() {\r\n\t\t\t\tif(!this.keyword) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet key = this.keyword;\r\n\t\t\t\tthis.$router.push(this.util.getUrl({\r\n\t\t\t\t\tpath: '/gohome/pages/haodian/searchResult',\r\n\t\t\t\t\tquery:{\r\n\t\t\t\t\t\tkey: this.keyword\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tthis.onLoad();\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#haodian-search .search-header{\r\n\t\tbackground-color: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding:10px;\r\n\t\tdisplay:flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#haodian-search .search-header .search-content{\r\n\t\twidth: 90%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 40px;\r\n\t\tposition: relative;\r\n\t}\r\n\t#haodian-search .search-header .search-content .van-icon{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 30px;\r\n\t\tline-height: 28px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#haodian-search .search-header .search-content .search-input{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tline-height: 28px;\r\n\t\tborder-radius: 40px;\r\n\t\tpadding-left: 25px;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #f2f2f2;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#haodian-search .search-header .search-btn{\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #FF2D4B;\r\n\t}\r\n\t#haodian-search .rmd-history{\r\n\t\tmargin-bottom: 10px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t#haodian-search .rmd-history .search-rmd-title{\r\n\t\tposition: relative;\r\n\t\tpadding-left: 16px;\r\n\t\tfont-size: 15px;\r\n\t\tline-height: 38px;\r\n\t\tcolor: #656565;\r\n\t\tbackground: #fff;\r\n\t}\r\n\t#haodian-search .rmd-history .search-rmd{\r\n\t\tpadding: 8px 9px;\r\n\t\tbackground: #fff;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#haodian-search .rmd-history .search-rmd div{\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: left;\r\n\t\tmax-width: 187px;\r\n\t\tmin-width: 58px;\r\n\t\theight: 31px;\r\n\t\tline-height: 31px;\r\n\t\tmargin: 8px 5px;\r\n\t\tpadding: 0 16px;\r\n\t\t-webkit-box-sizing: border-box;\r\n\t\t-mox-box-sizing: border-box;\r\n\t\tbox-sizing: border-box;\r\n\t\t-webkit-border-radius: 2px;\r\n\t\t-moz-border-radius: 2px;\r\n\t\tborder-radius: 2px;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tcolor: #2f2f2f;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#haodian-search .search-rmd-title .icon{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 15px;\r\n\t}\r\n\t#haodian-search .search-history-wrap{\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t#haodian-search .guess-store .van-cell__title{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t#haodian-search .guess-store .van-cell__title img{\r\n\t\twidth: 28px;\r\n\t\theight: 28px;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/gohome/haodian/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"haodian-search\"}},[_c('public-header',{attrs:{\"title\":\"好店搜索\"}}),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"search-header van-hairline--bottom\"},[_c('div',{staticClass:\"search-content\"},[_c('van-icon',{attrs:{\"name\":\"search\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入商家\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn\",on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")])]),_vm._v(\" \"),(_vm.hotStores.length > 0 || _vm.searchHistorys.length > 0)?_c('div',{staticClass:\"rmd-history\"},[(_vm.hotStores.length > 0)?_c('div',{staticClass:\"search-rmd-wrap\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"search-rmd\"},_vm._l((_vm.hotStores),function(item,index){return _c('router-link',{key:index,attrs:{\"to\":_vm.util.getUrl({path: '/gohome/pages/haodian/detail', query: {sid: item.id}}),\"tag\":\"div\"}},[_vm._v(_vm._s(item.title))])}),1)]):_vm._e(),_vm._v(\" \"),(_vm.searchHistorys.length > 0)?_c('div',{staticClass:\"search-history-wrap\"},[_c('div',{staticClass:\"search-rmd-title\"},[_c('div',{staticClass:\"van-hairline--bottom\"},[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('div',{staticClass:\"icon icon-delete\",on:{\"click\":_vm.onClearHistory}})]),_vm._v(\" \"),_c('div',{staticClass:\"search-rmd\"},_vm._l((_vm.searchHistorys),function(item,index){return _c('div',{key:index,on:{\"click\":function($event){return _vm.onKeyword(item)}}},[_vm._v(_vm._s(item))])}),0)]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"van-fade\"}},[(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-rmd-title \"},[_c('div',{staticClass:\"van-hairline--bottom\"},[_vm._v(\"热门搜索\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ad034f42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gohome/haodian/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ad034f42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad034f42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gohome/haodian/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}