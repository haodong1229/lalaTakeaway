{"version":3,"sources":["webpack:///src/pages/store/shopPage.vue","webpack:///./src/pages/store/shopPage.vue?5b44","webpack:///./src/pages/store/shopPage.vue"],"names":["shopPage","data","preLoading","cart","store","is_rest","status","cart_show","shopPageItem","goods","components","PublicHeader","header","StoreCart","storeCart","GoodsHandle","goodsHandle","methods","extends_default","Object","vuex_esm","onLoad","_this","this","$route","query","sid","shopPageKey","$toast","util","request","url","then","res","result","message","errno","replaceCart","replaceStore","concat","toConsumableArray_default","computed","mounted","store_shopPage","render","_vm","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","src","thumb","_l","goodsItem","to","getUrl","path","_s","discount","max_buy_limit","_e","sailed","comment_good","price","old_price","optionId","from","staticStyle","clear","show","name","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/169.e97ae8c49dc578432b9f.js","sourcesContent":["<template>\r\n\t<div id=\"shop-page\">\r\n\t\t<public-header title=\"活动详情\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"banner\">\r\n\t\t\t\t<img :src=\"shopPageItem.thumb\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"goods-list\">\r\n\t\t\t\t<div class=\"col-50 goods-item van-hairline--right van-hairline--bottom\" v-for=\"goodsItem in goods\">\r\n\t\t\t\t\t<div class=\"goods-info\">\r\n\t\t\t\t\t\t<router-link class=\"avatar\" :to=\"util.getUrl({path: '/pages/store/goodsDetail?id=' + goodsItem.id + '&sid=' + store.id })\">\r\n\t\t\t\t\t\t\t<div class=\"discount\" v-if=\"goodsItem.discount\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"icon icon-tag\"></div> {{goodsItem.discount}}折 限{{goodsItem.max_buy_limit}}份\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img :src=\"goodsItem.thumb\">\r\n\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t<div class=\"goods-name\">{{goodsItem.title}}</div>\r\n\t\t\t\t\t\t<div class=\"solid\">\r\n\t\t\t\t\t\t\t已售{{goodsItem.sailed}} <div>赞{{goodsItem.comment_good}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"price\">\r\n\t\t\t\t\t\t\t¥<div>{{goodsItem.price}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"old-price\" v-if=\"goodsItem.old_price\">￥{{goodsItem.old_price}}</div>\r\n\t\t\t\t\t\t<goods-handle\r\n\t\t\t\t\t\t\t:goods=\"goodsItem\"\r\n\t\t\t\t\t\t\t:optionId=\"0\"\r\n\t\t\t\t\t\t\tfrom=\"shopPageList\">\r\n\t\t\t\t\t\t</goods-handle>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"clear:both\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<store-cart\r\n\t\t\t:show=\"1\"\r\n\t\t\t:store=\"store\"\r\n\t\t\t:cart=\"cart\">\r\n\t\t</store-cart>\r\n\t\t<transition name=\"loading\">\r\n\t\t\t<iloading v-if=\"preLoading\"></iloading>\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicHeader from '@/components/header'\r\n\timport StoreCart from '@/components/storeCart'\r\n\timport GoodsHandle from '@/components/goodsHandle'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpreLoading: true,\r\n\t\t\t\tcart: {},\r\n\t\t\t\tstore: {\r\n\t\t\t\t\tis_rest: 0,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tshopPage: {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\tcart_show: true\r\n\t\t\t\t},\r\n\t\t\t\tshopPageItem: {},\r\n\t\t\t\tgoods: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tStoreCart,\r\n\t\t\tGoodsHandle\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'replaceStore', 'replaceCart'\r\n\t\t\t]),\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tif(!this.$route.query.sid || !this.$route.query.shopPageKey) {\r\n\t\t\t\t\tthis.$toast('参数错误');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.sid = this.$route.query.sid;\r\n\t\t\t\tthis.shopPageKey = this.$route.query.shopPageKey;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/goods/shopPage',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\t\tshopPageKey: this.shopPageKey,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.preLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.cart = result.message.cart.message.cart;\r\n\t\t\t\t\tthis.replaceCart(this.cart);\r\n\t\t\t\t\tthis.store = result.message.store;\r\n\t\t\t\t\tthis.replaceStore(this.store);\r\n\t\t\t\t\tthis.shopPageItem = result.message.store.data.shopPage[this.shopPageKey];\r\n\t\t\t\t\tthis.goods = [...this.goods, ...result.message.goods];\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'istore', 'icart',\r\n\t\t\t])\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#shop-page .content{\r\n\t\tposition: absolute;\r\n\t\ttop: 46px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 50px;\r\n\t\toverflow-y: auto;\r\n\t\t-webkit-box-sizing: border-box;\r\n\t\t-moz-box-sizing: border-box;\r\n\t\tbox-sizing: border-box;\r\n\t\tcolor: #6d6d72;\r\n\t}\r\n\t#shop-page .content::-webkit-scrollbar{\r\n\t\tdisplay: none;\r\n\t}\r\n\t#shop-page .content .foodop{\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t}\r\n\t#shop-page .content  .banner{\r\n\t\twidth: 100%;\r\n\t\theight: 120px;\r\n\t}\r\n\t#shop-page .content  .banner img{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t#shop-page .goods-list{\r\n\t\tbackground: #fff;\r\n\t\tpadding-bottom: 20px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item{\r\n\t\tpadding: 20px;\r\n\t\tfloat: left;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 50%;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .goods-info{\r\n\t\tposition: relative;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .avatar{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\theight: 120px;\r\n\t\tposition: relative;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .goods-info .discount{\r\n\t\tposition:absolute;\r\n\t\tbottom:0;\r\n\t\tleft:0;\r\n\t\tright:0;\r\n\t\tbackground: linear-gradient(to right, rgba(253,111,99,1) , rgba(253,111,99,0.1));\r\n\t\tcolor:#fff!important;\r\n\t\tpadding-left:10px;\r\n\t\tfont-size: 12px;\r\n\t\theight: 22px;\r\n\t\tline-height: 22px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .avatar img{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .goods-name{\r\n\t\tfont-size: 16px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tmargin-top: 5px;\r\n\t\tline-height: 25px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .description{\r\n\t\tfont-size: 14px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tcolor: #606060;\r\n\t\theight: 22px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .solid{\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #B8B8B8;\r\n\t\tline-height: 20px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .solid div{\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .price{\r\n\t\tcolor: #FA4F3F;\r\n\t\tfont-size: 14px;\r\n\t\tmargin-top: 5px;\r\n\t\tline-height: 20px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .price div{\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 20px;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .old-price{\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 12px;\r\n\t\ttext-decoration: line-through;\r\n\t\tcolor: #8C8C8C;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\t#shop-page .goods-list .goods-item .discount{\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #f45044;\r\n\t\theight: 22px;\r\n\t}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/store/shopPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shop-page\"}},[_c('public-header',{attrs:{\"title\":\"活动详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":_vm.shopPageItem.thumb}})]),_vm._v(\" \"),_c('div',{staticClass:\"goods-list\"},[_vm._l((_vm.goods),function(goodsItem){return _c('div',{staticClass:\"col-50 goods-item van-hairline--right van-hairline--bottom\"},[_c('div',{staticClass:\"goods-info\"},[_c('router-link',{staticClass:\"avatar\",attrs:{\"to\":_vm.util.getUrl({path: '/pages/store/goodsDetail?id=' + goodsItem.id + '&sid=' + _vm.store.id })}},[(goodsItem.discount)?_c('div',{staticClass:\"discount\"},[_c('div',[_c('div',{staticClass:\"icon icon-tag\"}),_vm._v(\" \"+_vm._s(goodsItem.discount)+\"折 限\"+_vm._s(goodsItem.max_buy_limit)+\"份\\n\\t\\t\\t\\t\\t\\t\\t\")])]):_vm._e(),_vm._v(\" \"),_c('img',{attrs:{\"src\":goodsItem.thumb}})]),_vm._v(\" \"),_c('div',{staticClass:\"goods-name\"},[_vm._v(_vm._s(goodsItem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"solid\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t已售\"+_vm._s(goodsItem.sailed)+\" \"),_c('div',[_vm._v(\"赞\"+_vm._s(goodsItem.comment_good))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t¥\"),_c('div',[_vm._v(_vm._s(goodsItem.price))])]),_vm._v(\" \"),(goodsItem.old_price)?_c('div',{staticClass:\"old-price\"},[_vm._v(\"￥\"+_vm._s(goodsItem.old_price))]):_vm._e(),_vm._v(\" \"),_c('goods-handle',{attrs:{\"goods\":goodsItem,\"optionId\":0,\"from\":\"shopPageList\"}})],1)])}),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],2)]),_vm._v(\" \"),_c('store-cart',{attrs:{\"show\":1,\"store\":_vm.store,\"cart\":_vm.cart}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"loading\"}},[(_vm.preLoading)?_c('iloading'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-058dfc35\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/store/shopPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-058dfc35\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-058dfc35\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/store/shopPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}