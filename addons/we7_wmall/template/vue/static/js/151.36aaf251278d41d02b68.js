webpackJsonp([151],{UjQO:function(t,e){},rxtO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"vip-index"}},[s("div",{staticClass:"content"},[s("header",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("section",{staticClass:"card-list"},[t._m(1),t._v(" "),s("router-link",{staticClass:"list-bonus",attrs:{to:""}},[t._v("\n\t\t\t\t\t特权说明\n\t\t\t\t\t"),s("van-icon",{attrs:{name:"question1"}})],1),t._v(" "),t._m(2)],1)]),t._v(" "),s("div",{staticClass:"vip-body"},[t._m(3),t._v(" "),s("van-cell-group",[s("van-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),s("div",{staticClass:"vip-checked"},[s("i",{staticClass:"icon",class:{"icon-check":"1"==t.check},on:{click:t.onChecked}}),t._v("\n\t\t\t\t我已阅读并同意以下 "),s("span",{on:{click:t.onChangePopup}},[t._v("《开通会员卡协议》")])])],1),t._v(" "),s("footer",{staticClass:"go-member"},[s("div",{staticClass:"button",on:{click:t.onSubmit}},[s("span",[t._v("开通会员")])])]),t._v(" "),s("van-popup",{staticClass:"agreement-popup",attrs:{position:"bottom"},model:{value:t.agreementShow,callback:function(e){t.agreementShow=e},expression:"agreementShow"}},[s("van-nav-bar",{staticClass:"border-0px",style:{background:"#ff2d4b",color:"#fff"},attrs:{title:"会员卡协议详解"},on:{"click-left":t.onChangePopup}},[s("van-icon",{staticClass:"font-20",style:{color:"#fff"},attrs:{slot:"left",name:"left"},slot:"left"})],1),t._v(" "),s("div",{staticClass:"popup-content margin-10",domProps:{innerHTML:t._s(t.agreement)}})],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-top"},[s("span",[t._v("专享红包")]),t._v(" "),s("img",{attrs:{src:"static/img/svip-head.png",alt:""}}),t._v(" "),s("span",[t._v("下单奖励")])]),t._v(" "),s("h2",{staticClass:"card-title"},[t._v("加入即领20元红包")]),t._v(" "),s("div",{staticClass:"card-description"},[t._v("众多会员特权，平均每年可省785元")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"list-header"},[e("h2",{staticClass:"title-header"},[this._v("会员特权")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list-item"},[s("li",[s("img",{attrs:{src:"static/img/svip-list-bg1.png",alt:""}}),t._v(" "),s("span",[t._v("专享红包")])]),t._v(" "),s("li",[s("img",{attrs:{src:"static/img/svip-list-bg2.png",alt:""}}),t._v(" "),s("span",[t._v("奖励金")])]),t._v(" "),s("li",[s("img",{attrs:{src:"static/img/svip-list-bg3.png",alt:""}}),t._v(" "),s("span",[t._v("专属客服")])]),t._v(" "),s("li",[s("img",{attrs:{src:"static/img/svip-list-bg4.png",alt:""}}),t._v(" "),s("span",[t._v("专属折扣")])]),t._v(" "),s("li",[s("img",{attrs:{src:"static/img/svip-list-bg5.png",alt:""}}),t._v(" "),s("span",[t._v("金币特权")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"member-title"},[e("div",{staticClass:"member-info"},[this._v("请填写会员信息")])])}]};var i=s("VU/8")({data:function(){return{check:1,username:"",mobile:"",agreement:"",agreementShow:!1}},methods:{onLoad:function(){var t=this;this.util.request({url:"vip/vipcard/index"}).then(function(e){var s=e.data.message.message;t.username=s.member.realname,t.mobile=s.member.mobile,t.agreement=s.agreement})},onSubmit:function(){var t=this;return this.check?this.username?this.mobile?this.util.isValidMobile(this.mobile)?void this.util.request({url:"vip/vipcard/post",data:{username:this.username,mobile:this.mobile}}).then(function(e){var s=e.data.message;if(s.errno)return-1e3==s.errno?void t.util.$toast(s.message,t.util.getUrl({path:"/pages/vip/recharge"}),1e3,"replace"):(t.util.$toast(s.message,"",1e3),!1);var a=s.message;t.$router.replace(t.util.getUrl({path:"/pages/public/pay?order_id="+a+"&order_type=vip"}))}):(this.$toast("手机号格式错误"),!1):(this.$toast("手机号不能为空"),!1):(this.$toast("姓名不能为空"),!1):(this.$toast("请先同意协议"),!1)},onChangePopup:function(){this.agreementShow=!this.agreementShow},onChecked:function(){this.check=!this.check}},mounted:function(){this.onLoad()}},a,!1,function(t){s("UjQO")},null,null);e.default=i.exports}});
//# sourceMappingURL=151.36aaf251278d41d02b68.js.map