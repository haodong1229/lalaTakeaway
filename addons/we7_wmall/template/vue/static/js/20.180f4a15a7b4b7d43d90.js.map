{"version":3,"sources":["webpack:///src/pages/creditshop/goods.vue","webpack:///./src/pages/creditshop/goods.vue?7969","webpack:///./src/pages/creditshop/goods.vue"],"names":["goods","data","category_id","Number","page","psize","title","loading","finished","empty","key","showPreLoading","components","PublicHeader","header","Load","load","methods","onLoad","force","_this","this","util","request","url","then","res","result","message","errno","$toast","concat","toConsumableArray_default","length","onSearch","created","$route","query","mounted","creditshop_goods","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","staticClass","show-action","background","placeholder","model","value","callback","$$v","expression","slot","on","click","src","alt","offset","immediate-check","$set","_l","item","index","thumb","_s","use_credit1","use_credit2","_e","tag","to","getUrl","path","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.180f4a15a7b4b7d43d90.js","sourcesContent":["<template>\r\n\t<div id=\"creditshop-goods\">\r\n\t\t<public-header title=\"兑换商品\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-search\r\n\t\t\t\tv-model=\"key\"\r\n\t\t\t\tshow-action\r\n\t\t\t\tbackground=\"#f5f5f5\"\r\n\t\t\t\tplaceholder=\"请输入关键字\"\r\n\t\t\t>\r\n\t\t\t\t<div slot=\"action\" @click=\"onSearch\">搜索</div>\r\n\t\t\t</van-search>\r\n\t\t\t<div class=\"goods-group\">\r\n\t\t\t\t<van-list\r\n\t\t\t\t\t\tv-model=\"goods.loading\"\r\n\t\t\t\t\t\t:finished=\"goods.finished\"\r\n\t\t\t\t\t\t@load=\"onLoad\"\r\n\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\tv-if=\"!goods.empty\"\r\n\t\t\t\t\t\tclass=\"goods-list\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"goods-item\" v-for=\"(item, index) in goods.data\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"thumb\">\r\n\t\t\t\t\t\t\t<img :src=\"item.thumb\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"goods-name ellipsis\">{{item.title}}</div>\r\n\t\t\t\t\t\t<div class=\"price font-12 ellipsis\">\r\n\t\t\t\t\t\t\t<span class=\"c-danger font-15\">{{item.use_credit1}}</span>\r\n\t\t\t\t\t\t\t<span>积分</span>\r\n\t\t\t\t\t\t\t<span class=\"c-danger\" v-if=\"item.use_credit2 > 0\">+<span class=\"font-15\">￥{{item.use_credit2}}</span></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"exchange\">\r\n\t\t\t\t\t\t\t<router-link tag=\"span\" :to=\"util.getUrl({path: '/pages/creditshop/goodsDetail', query: {id: item.id}})\" class=\"exchange-btn c-danger\">立即兑换</router-link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"loaded-group\">\r\n\t\t\t\t\t\t<div class=\"loaded\" v-if=\"goods.finished\">\r\n\t\t\t\t\t\t\t<div class=\"loaded-tips\">没有更多了</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-list>\r\n\t\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t\t<img src=\"static/img/goods_no_con.png\" alt=\"\">\r\n\t\t\t\t\t<p>暂无符合条件的商品!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport Load from '@/components/load'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcategory_id: Number,\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 12,\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\tkey: '',\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tLoad\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad(force) {\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthis.goods = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 4,\r\n\t\t\t\t\t\ttitle: this.key,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif(this.goods.finished) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'creditshop/index/goods',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: this.goods.page,\r\n\t\t\t\t\t\tpsize: this.goods.psize,\r\n\t\t\t\t\t\tcategory_id: this.category_id,\r\n\t\t\t\t\t\ttitle: this.goods.title\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = result.message.goods;\r\n\t\t\t\t\tthis.goods.data = [...this.goods.data, ...result];\r\n\t\t\t\t\tif(result.length < this.goods.psize ) {\r\n\t\t\t\t\t\tthis.goods.finished = true;\r\n\t\t\t\t\t\tif(!this.goods.data.length) {\r\n\t\t\t\t\t\t\tthis.goods.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goods.loading = false;\r\n\t\t\t\t\tthis.goods.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSearch() {\r\n\t\t\t\tif(this.key) {\r\n\t\t\t\t\tthis.onLoad(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query.category_id) {\r\n\t\t\t\tthis.category_id = this.$route.query.category_id;\r\n\t\t\t} else {\r\n\t\t\t\tthis.util.$toast('参数错误')\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#creditshop-goods .content{\r\n\t\tbottom: 0;\r\n\t\tbackground: #f9f9f9;\r\n\t}\r\n\t#creditshop-goods .content #load .loaded .loaded-tips{\r\n\t\tbackground: #f5f5f5;\r\n\t}\r\n\t#creditshop-goods .content .van-search__action{\r\n\t\tcolor:#5f646e;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\t#creditshop-goods .content .van-search .van-icon-clear{\r\n\t\tdisplay: none;\r\n\t}\r\n\t#creditshop-goods .content .goods-group{\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\t#creditshop-goods .goods-list{\r\n\t\tpadding: 7.5px;\r\n\t\tbackground-color: #fff;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item{\r\n\t\twidth: 33.33%;\r\n\t\tpadding: 7.5px;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .thumb{\r\n\t\twidth: 90px;\r\n\t\theight: 90px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .thumb img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .goods-name{\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 1.2;\r\n\t\tmargin: 5px 0;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .price{\r\n\t\ttext-align: center;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .exchange{\r\n\t\tmargin-top: 8px;\r\n\t\ttext-align: center;\r\n\t\theight: 20px;\r\n\t}\r\n\t#creditshop-goods .goods-list .goods-item .exchange .exchange-btn{\r\n\t\tpadding: 1px 10px;\r\n\t\tfont-size: 12px;\r\n\t\tborder: 1px solid #ff2d4b;\r\n\t\tborder-radius: 20px;\r\n\t}\r\n\t#creditshop-goods .goods-list .loaded-group{\r\n\t\twidth: 100%;\r\n\t}\r\n\t#creditshop-goods .goods-list .loaded-group .loaded-tips{\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#creditshop-goods .no-data{\r\n\t\tpadding: 40px 0;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/creditshop/goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"creditshop-goods\"}},[_c('public-header',{attrs:{\"title\":\"兑换商品\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('van-search',{attrs:{\"show-action\":\"\",\"background\":\"#f5f5f5\",\"placeholder\":\"请输入关键字\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}},[_c('div',{attrs:{\"slot\":\"action\"},on:{\"click\":_vm.onSearch},slot:\"action\"},[_vm._v(\"搜索\")])]),_vm._v(\" \"),_c('div',{staticClass:\"goods-group\"},[(!_vm.goods.empty)?_c('van-list',{staticClass:\"goods-list\",attrs:{\"finished\":_vm.goods.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.goods.loading),callback:function ($$v) {_vm.$set(_vm.goods, \"loading\", $$v)},expression:\"goods.loading\"}},[_vm._l((_vm.goods.data),function(item,index){return _c('div',{key:index,staticClass:\"goods-item\"},[_c('div',{staticClass:\"thumb\"},[_c('img',{attrs:{\"src\":item.thumb,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"goods-name ellipsis\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"price font-12 ellipsis\"},[_c('span',{staticClass:\"c-danger font-15\"},[_vm._v(_vm._s(item.use_credit1))]),_vm._v(\" \"),_c('span',[_vm._v(\"积分\")]),_vm._v(\" \"),(item.use_credit2 > 0)?_c('span',{staticClass:\"c-danger\"},[_vm._v(\"+\"),_c('span',{staticClass:\"font-15\"},[_vm._v(\"￥\"+_vm._s(item.use_credit2))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"exchange\"},[_c('router-link',{staticClass:\"exchange-btn c-danger\",attrs:{\"tag\":\"span\",\"to\":_vm.util.getUrl({path: '/pages/creditshop/goodsDetail', query: {id: item.id}})}},[_vm._v(\"立即兑换\")])],1)])}),_vm._v(\" \"),_c('div',{staticClass:\"loaded-group\"},[(_vm.goods.finished)?_c('div',{staticClass:\"loaded\"},[_c('div',{staticClass:\"loaded-tips\"},[_vm._v(\"没有更多了\")])]):_vm._e()])],2):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/goods_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无符合条件的商品!\")])])],1)],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d32b613e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/creditshop/goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d32b613e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d32b613e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/creditshop/goods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}