{"version":3,"sources":["webpack:///src/pages/member/addressPost.vue","webpack:///./src/pages/member/addressPost.vue?6e8d","webpack:///./src/pages/member/addressPost.vue"],"names":["addressPost","data","address","sexName","submiting","value","components","PublicHeader","header","Uploader","uploader","computed","extends_default","Object","vuex_esm","methods","onLoad","_this","this","that","id","util","request","url","sid","then","res","result","message","from","editAddress","lat","lng","assign_default","replaceAddress","sex","getLocation","successLocation","successAddress","location_x","location_y","fail","onSubmit","_this2","$toast","realname","mobile","isValidMobile","params","channel","flag","number","method","errno","getUrl","path","$dialog","confirm","title","confirmButtonText","cancelButtonText","catch","force","setOrderExtra","key","val","$router","push","input","setState","type","query","erranderId","onSelectSex","onDel","_this3","created","$route","mounted","member_addressPost","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","to","staticStyle","color","_s","directives","name","rawName","expression","placeholder","domProps","on","$event","target","composing","$set","click","class","icon-check","size","block","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/164.d232685783ab7ae460e4.js","sourcesContent":["<template>\r\n\t<div id=\"address-post\">\r\n\t\t<public-header title=\"编辑地址\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"list\">\r\n\t\t\t\t<div class=\"list-item flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t<div class=\"item-title ellipsis\">小区/大厦/学校</div>\r\n\t\t\t\t\t<div class=\"item-input flex-lr\">\r\n\t\t\t\t\t\t<i class=\"icon icon-location\"></i>\r\n\t\t\t\t\t\t<div class=\"location\">\r\n\t\t\t\t\t\t\t<router-link class=\"flex-lr\" :to=\"util.getUrl({path: '/pages/member/addressLocation', query: {id: id, sid: sid, channel: channel, erranderId: erranderId, input: input}})\">\r\n\t\t\t\t\t\t\t\t<div v-if=\"address.address\" style=\"color: #333\">{{address.address}}</div>\r\n\t\t\t\t\t\t\t\t<span v-else>点击添加地址(必填)</span>\r\n\t\t\t\t\t\t\t\t<i class=\"icon icon-right\"></i>\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"list-item flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t<div class=\"item-title ellipsis\">楼号-门牌号</div>\r\n\t\t\t\t\t<div class=\"item-input \">\r\n\t\t\t\t\t\t<input name='number' v-model=\"address.number\" type=\"text\" class=\"\" placeholder=\"例:16号楼427室\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"list-item flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t<div class=\"item-title ellipsis \">联系人</div>\r\n\t\t\t\t\t<div class=\"item-input\">\r\n\t\t\t\t\t\t<div class=\"username van-hairline--bottom\">\r\n\t\t\t\t\t\t\t<input type=\"text\" name='realname' v-model=\"address.realname\" placeholder=\"您的姓名\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"sex flex\">\r\n\t\t\t\t\t\t\t<div class=\"sex-item flex\" @click=\"onSelectSex('先生')\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon\" :class=\"{'icon-check': sexName == '先生'}\"></i>先生\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"sex-item flex\" @click=\"onSelectSex('女士')\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon\" :class=\"{'icon-check': sexName == '女士'}\"></i>女士\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"list-item flex-lr van-hairline--bottom\">\r\n\t\t\t\t\t<div class=\"item-title ellipsis\">手机号</div>\r\n\t\t\t\t\t<div class=\"item-input \">\r\n\t\t\t\t\t\t<input type=\"text\" name='mobile' v-model=\"address.mobile\" class=\"\" placeholder=\"请填写收货手机号码\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"save-btn\" @click=\"onSubmit\">\r\n\t\t\t\t<van-button type=\"danger\" size=\"normal\" :block=\"true\">保存</van-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"save-btn\" v-if=\"address && address.id > 0\" @click=\"onDel\">\r\n\t\t\t\t<van-button type=\"default\" size=\"normal\" :block=\"true\">删除</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState, mapMutations } from \"vuex\"\r\n\timport PublicHeader from '@/components/header'\r\n\timport Uploader from '@/components/uploader'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\taddress: {\r\n\t\t\t\t\taddress: ''\r\n\t\t\t\t},\r\n\t\t\t\tsexName: '先生',\r\n\t\t\t\tsubmiting: 0,\r\n\t\t\t\tvalue: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tUploader\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['editAddress'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['replaceAddress', 'setOrderExtra', 'setState']),\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(this.id > 0) {\r\n\t\t\t\t\tthis.util.request({\r\n\t\t\t\t\t\turl: 'wmall/member/address/post',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\t\t\tid: this.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\t\tthis.address = result.message;\r\n\t\t\t\t\t\tif(this.from == 'location' && this.editAddress.address && this.editAddress.lat && this.editAddress.lng) {\r\n\t\t\t\t\t\t\tthis.address = Object.assign(this.address, this.editAddress);\r\n\t\t\t\t\t\t\tthis.replaceAddress({});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.sexName = !this.address.sex ? this.sexName : this.address.sex;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(this.from == 'location' && this.editAddress.address && this.editAddress.lat && this.editAddress.lng) {\r\n\t\t\t\t\t\tthis.address = Object.assign(this.address, this.editAddress);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.editAddress.address) {\r\n\t\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\t\tthat.address.address = res.address;\r\n\t\t\t\t\t\t\t\tthat.address.location_x = res.location_x;\r\n\t\t\t\t\t\t\t\tthat.address.location_y = res.location_y;\r\n\t\t\t\t\t\t\t\tthat.address = Object.assign({}, that.address);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.from == 'location') {\r\n\t\t\t\t\t\tthis.replaceAddress({});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(this.submiting == 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.address.address) {\r\n\t\t\t\t\tthis.$toast('收货地址不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n/*\r\n\t\t\t\tif(!this.address.number) {\r\n\t\t\t\t\tthis.$toast('门牌号不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n*/\r\n\t\t\t\tif(!this.address.realname) {\r\n\t\t\t\t\tthis.$toast('联系人不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.address.mobile) {\r\n\t\t\t\t\tthis.$toast('手机号不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.util.isValidMobile(this.address.mobile)) {\r\n\t\t\t\t\tthis.$toast('手机号格式错误');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.submiting = 1;\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\tchannel: this.channel,\r\n\t\t\t\t\tflag: 1,\r\n\t\t\t\t\tsex: this.sexName,\r\n\t\t\t\t\tnumber: this.address.number,\r\n\t\t\t\t\trealname: this.address.realname,\r\n\t\t\t\t\tmobile: this.address.mobile,\r\n\t\t\t\t\taddress:  this.address.address,\r\n\t\t\t\t\tlocation_x:  this.address.location_x || this.address.lat,\r\n\t\t\t\t\tlocation_y:  this.address.location_y || this.address.lng,\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/member/address/post',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.submiting = 0;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(!this.channel || this.channel == '' || this.channel == 'undefined') {\r\n\t\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.replaceAddress({});\r\n\t\t\t\t\t\tthis.util.$toast('保存地址成功', this.util.getUrl({path: '/pages/member/address'}));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if(this.channel == 'takeout') {\r\n\t\t\t\t\t\tif(result.errno == -1000) {\r\n\t\t\t\t\t\t\tthis.$dialog.confirm({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tmessage: '亲,您的地址已超出商家的配送范围了!',\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '调整地址',\r\n\t\t\t\t\t\t\t\tcancelButtonText: '仍然保存',\r\n\t\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\t\tparams.force = 1;\r\n\t\t\t\t\t\t\t\tthis.util.request({\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\turl: \"wmall/member/address/post\",\r\n\t\t\t\t\t\t\t\t\tdata: params,\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.replaceAddress({});\r\n\t\t\t\t\t\t\t\t\tthis.setOrderExtra({key: 'address_id', val: 0});\r\n\t\t\t\t\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/order/create?sid=' + this.sid}));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.setOrderExtra({key: 'address_id', val: result.message});\r\n\t\t\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/order/create?sid=' + this.sid}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if(this.channel == 'errander') {\r\n\t\t\t\t\t\tif(result.errno == -1000) {\r\n\t\t\t\t\t\t\tthis.$dialog.confirm({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tmessage: '亲,您的地址已超出跑腿的服务范围了!',\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '调整地址',\r\n\t\t\t\t\t\t\t\tcancelButtonText: '仍然保存',\r\n\t\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\t\tparams.force = 1;\r\n\t\t\t\t\t\t\t\tthis.util.request({\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\turl: \"wmall/member/address/post\",\r\n\t\t\t\t\t\t\t\t\tdata: params,\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.replaceAddress({});\r\n\t\t\t\t\t\t\t\t\tif(this.input == 'accept') {\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({type: 'erranderExtra', key: 'acceptaddress_id', val: 0});\r\n\t\t\t\t\t\t\t\t\t} else if(this.input == 'buy') {\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({type: 'erranderExtra', key: 'buyaddress_id', val: 0});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/paotui/diy', query:{id: this.erranderId}}));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(this.input == 'accept') {\r\n\t\t\t\t\t\t\t\tthis.setState({type: 'erranderExtra', key: 'acceptaddress_id', val: result.message});\r\n\t\t\t\t\t\t\t} else if(this.input == 'buy') {\r\n\t\t\t\t\t\t\t\tthis.setState({type: 'erranderExtra', key: 'buyaddress_id', val: result.message});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/paotui/diy', query:{id: this.erranderId}}));\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSelectSex(sexName) {\r\n\t\t\t\tthis.sexName = sexName;\r\n\t\t\t},\r\n\t\t\tonDel() {\r\n\t\t\t\tthis.$dialog.confirm({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\tmessage: '删除后将不可恢复,确定删除吗?'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.util.request({\r\n\t\t\t\t\t\turl: 'wmall/member/address/del',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: this.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\t\tif(!result.errno) {\r\n\t\t\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/member/address'}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tcreated(){\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query) {\r\n\t\t\t\tthis.id = this.query.id;\r\n\t\t\t\tthis.sid = this.query.sid;\r\n\t\t\t\tthis.channel = this.query.channel;\r\n\t\t\t\tthis.input = this.query.input;\r\n\t\t\t\tthis.erranderId = this.query.erranderId;\r\n\t\t\t\tthis.from = this.query.from;\r\n\t\t\t\tif(this.sid > 0) {\r\n\t\t\t\t\tthis.channel = 'takeout';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#address-post .content .list{\r\n\t\tbackground-color: #fff;\r\n\t\tpadding-left: 15px;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t#address-post .content .list .list-item{\r\n\t\tpadding: 10px 15px 10px 0;\r\n\t\tline-height: 30px;\r\n\t}\r\n\t#address-post .content .list .list-item:nth-child(3) .item-title{\r\n\t\talign-self: flex-start;\r\n\t}\r\n\t#address-post .content .list .list-item .item-title{\r\n\t\twidth: 25%;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input{\r\n\t\twidth: 75%;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input input{\r\n\t\twidth: 100%;\r\n\t\tpadding-left: 5px;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .icon-location{\r\n\t\tfont-size: 18px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .location{\r\n\t\twidth: 90%;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .location span{\r\n\t\tcolor: #c6c6c8;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .location .icon{\r\n\t\tcolor: #e0e0e0;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .username{\r\n\t\tpadding-bottom: 10px;\r\n\t}\r\n\t#address-post .content .list .list-item .item-input .sex{\r\n\t\tpadding-top: 10px;\r\n\t}\r\n\t#address-post .content .list .list-item .sex-item{\r\n\t\tmargin-right: 20px;\r\n\t}\r\n\t#address-post .content .list .list-item .sex-item .icon{\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 1px solid #ccc;\r\n\t\ttext-align: center;\r\n\t\tline-height: 18px;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\t#address-post .content .list .list-item .sex-item .icon.icon-check{\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tborder-color: #ff2d4b;\r\n\t}\r\n\t#address-post .content .save-btn{\r\n\t\tmargin: 15px;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/member/addressPost.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"address-post\"}},[_c('public-header',{attrs:{\"title\":\"编辑地址\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"list-item flex-lr van-hairline--bottom\"},[_c('div',{staticClass:\"item-title ellipsis\"},[_vm._v(\"小区/大厦/学校\")]),_vm._v(\" \"),_c('div',{staticClass:\"item-input flex-lr\"},[_c('i',{staticClass:\"icon icon-location\"}),_vm._v(\" \"),_c('div',{staticClass:\"location\"},[_c('router-link',{staticClass:\"flex-lr\",attrs:{\"to\":_vm.util.getUrl({path: '/pages/member/addressLocation', query: {id: _vm.id, sid: _vm.sid, channel: _vm.channel, erranderId: _vm.erranderId, input: _vm.input}})}},[(_vm.address.address)?_c('div',{staticStyle:{\"color\":\"#333\"}},[_vm._v(_vm._s(_vm.address.address))]):_c('span',[_vm._v(\"点击添加地址(必填)\")]),_vm._v(\" \"),_c('i',{staticClass:\"icon icon-right\"})])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"list-item flex-lr van-hairline--bottom\"},[_c('div',{staticClass:\"item-title ellipsis\"},[_vm._v(\"楼号-门牌号\")]),_vm._v(\" \"),_c('div',{staticClass:\"item-input \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.number),expression:\"address.number\"}],attrs:{\"name\":\"number\",\"type\":\"text\",\"placeholder\":\"例:16号楼427室\"},domProps:{\"value\":(_vm.address.number)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"number\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"list-item flex-lr van-hairline--bottom\"},[_c('div',{staticClass:\"item-title ellipsis \"},[_vm._v(\"联系人\")]),_vm._v(\" \"),_c('div',{staticClass:\"item-input\"},[_c('div',{staticClass:\"username van-hairline--bottom\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.realname),expression:\"address.realname\"}],attrs:{\"type\":\"text\",\"name\":\"realname\",\"placeholder\":\"您的姓名\"},domProps:{\"value\":(_vm.address.realname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"realname\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"sex flex\"},[_c('div',{staticClass:\"sex-item flex\",on:{\"click\":function($event){_vm.onSelectSex('先生')}}},[_c('i',{staticClass:\"icon\",class:{'icon-check': _vm.sexName == '先生'}}),_vm._v(\"先生\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"sex-item flex\",on:{\"click\":function($event){_vm.onSelectSex('女士')}}},[_c('i',{staticClass:\"icon\",class:{'icon-check': _vm.sexName == '女士'}}),_vm._v(\"女士\\n\\t\\t\\t\\t\\t\\t\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"list-item flex-lr van-hairline--bottom\"},[_c('div',{staticClass:\"item-title ellipsis\"},[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('div',{staticClass:\"item-input \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.mobile),expression:\"address.mobile\"}],attrs:{\"type\":\"text\",\"name\":\"mobile\",\"placeholder\":\"请填写收货手机号码\"},domProps:{\"value\":(_vm.address.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"mobile\", $event.target.value)}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"save-btn\",on:{\"click\":_vm.onSubmit}},[_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"normal\",\"block\":true}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),(_vm.address && _vm.address.id > 0)?_c('div',{staticClass:\"save-btn\",on:{\"click\":_vm.onDel}},[_c('van-button',{attrs:{\"type\":\"default\",\"size\":\"normal\",\"block\":true}},[_vm._v(\"删除\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f4300da\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/member/addressPost.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f4300da\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addressPost.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressPost.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressPost.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f4300da\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addressPost.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/member/addressPost.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}