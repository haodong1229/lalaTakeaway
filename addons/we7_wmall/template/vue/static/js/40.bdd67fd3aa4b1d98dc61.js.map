{"version":3,"sources":["webpack:///src/pages/reserve/create.vue","webpack:///./src/pages/reserve/create.vue?0ba9","webpack:///./src/pages/reserve/create.vue"],"names":["create","data","reserve_type","username","mobile","contentHeight","popup","coupon","table","person_num","store","cart","category","coupons","order","activityed","tables","columns","islegal","showPreLoading","components","PublicHeader","Load","load","computed","extends_default","Object","vuex_esm","watch","this","length","setState","type","key","val","methods","onSelectTable","is_reserved","id","title","onChangePopup","$toast","onConfirmPersonNum","value","index","onSelectCoupon","onCalculate","onChangeOrderType","$router","push","util","getUrl","path","sid","reserveExtra","cid","_this","params","extra","request","url","then","res","result","message","onSubmit","_this2","time","day","errno","order_id","onLoad","_this3","query","table_title","created","$route","mounted","bodyHeight","document","documentElement","clientHeight","navHeight","getElementsByClassName","reserve_create","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","style","height","_s","label","placeholder","model","callback","$$v","expression","reservation_price","on","click","$event","slot","class","checked","van-icon-check","limit_price","_l","item","option","goods_id","thumb","bargain_id","src","alt","_e","total_discount_price","num","total_price","_m","list","activity","name","text","discount","final_fee","discount_fee","total_fee","is-link","to","note","position","$set","value-key","show-toolbar","confirm","cancel","confirm-button-text","cancel-button-text","bgcolor","logo","endtime_cn","condition","disabled","price","button-text","submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/40.bdd67fd3aa4b1d98dc61.js","sourcesContent":["<template>\r\n\t<div id=\"reserve-submit\">\r\n\t\t<public-header title=\"订单确认\"></public-header>\r\n\t\t<div class=\"content\" :style=\"{height: contentHeight + 'px'}\">\r\n\t\t\t<div class=\"content-block-title\">{{category.title}}桌 <span>|</span>{{reserveExtra.day}}~{{reserveExtra.time}}</div>\r\n\t\t\t<div class=\"list-block\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tlabel=\"预定人\"\r\n\t\t\t\t\t\tplaceholder=\"您的姓名\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"mobile\"\r\n\t\t\t\t\t\ttype=\"mobile\"\r\n\t\t\t\t\t\tlabel=\"手机号\"\r\n\t\t\t\t\t\tplaceholder=\"您的手机号\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"content-type-title\">预定类型</div>\r\n\t\t\t<div class=\"content-scroll\">\r\n\t\t\t\t<!-- 平台配送 -->\r\n\t\t\t\t<div class=\"plateform-box\">\r\n\t\t\t\t\t<van-cell-group class=\"border-0px\">\r\n\t\t\t\t\t\t<van-cell :value=\"'只定座 预付￥' + category.reservation_price\" @click=\"onChangeOrderType('table')\">\r\n\t\t\t\t\t\t\t<div slot=\"right-icon\" class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<div class=\"van-icon\" :class=\"{checked: reserve_type == 'table', 'van-icon-check': reserve_type == 'table'}\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 到店自取 -->\r\n\t\t\t\t<div class=\"instore-box\">\r\n\t\t\t\t\t<van-cell-group class=\"border-0px\">\r\n\t\t\t\t\t\t<van-cell :value=\"'提前下单' + category.limit_price + '元起订'\" class=\"border-0px\" @click=\"onChangeOrderType('order')\">\r\n\t\t\t\t\t\t\t<div slot=\"right-icon\" class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<div class=\"van-icon\" :class=\"{checked: reserve_type == 'order', 'van-icon-check': reserve_type == 'order'}\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"order-food\" v-if=\"reserve_type=='order'\">\r\n\t\t\t\t\t<div class='order-food-title'>\r\n\t\t\t\t\t\t<div class='food-shop'>{{store.title}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"food-list\">\r\n\t\t\t\t\t\t<template v-for=\"item in cart.data\">\r\n\t\t\t\t\t\t\t<template v-for=\"option in item\">\r\n\t\t\t\t\t\t\t\t<van-card :thumb=\"option.thumb\" v-if=\"option.goods_id != '88888'\">\r\n\t\t\t\t\t\t\t\t\t<div slot=\"title\" class=\"food-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img class=\"activity-img\" src=\"static/img/bargain_b.png\" alt=\"\" v-if=\"option.bargain_id > 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{option.title}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"right\">¥{{option.total_discount_price}}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div slot=\"desc\" class=\"food-desc\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"left\">x{{option.num}}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"right\">¥{{option.total_price}}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</van-card>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<van-cell-group class=\"discount-box border-0px\">\r\n\t\t\t\t\t\t<template v-if=\"order.activityed && order.activityed.list\">\r\n\t\t\t\t\t\t\t<template v-for=\"activity in order.activityed.list\" >\r\n\t\t\t\t\t\t\t\t<template v-if=\"activity.type != 'couponCollect' && activity.type != 'redPacket'\">\r\n\t\t\t\t\t\t\t\t\t<van-cell class=\"border-0px\">\r\n\t\t\t\t\t\t\t\t\t\t<div slot=\"title\" class=\"discount-item flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img :src=\"'static/img/' + activity.type + '_b.png'\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{activity.name}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<template slot=\"right-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"c-danger\">{{activity.text}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<van-cell title=\"商家代金券\" class=\"border-0px\">\r\n\t\t\t\t\t\t\t<template slot=\"right-icon\" v-if=\"order.coupon && order.coupon.id > 0\">\r\n\t\t\t\t\t\t\t\t<span class=\"c-danger\" @click=\"onChangePopup('coupon')\">-￥{{order.coupon.discount}}</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template slot=\"right-icon\" v-else>\r\n\t\t\t\t\t\t\t\t<span class=\"c-danger\" v-if=\"coupons && coupons.length > 0\" @click=\"onChangePopup('coupon')\">\r\n\t\t\t\t\t\t\t\t\t{{coupons.length}}张可用代金券\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span class=\"c-disabled\" v-else>\r\n\t\t\t\t\t\t\t\t\t暂无可用代金券\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<i class=\"van-icon van-icon-arrow van-cell__right-icon\"></i>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</van-cell>\r\n\r\n\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t<div class=\"divide\">\r\n\t\t\t\t\t\t<div class=\"divide-line\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<van-cell-group class=\"border-0px\">\r\n\t\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t\t<div slot=\"title\" class=\"order-pay-info\">\r\n\t\t\t\t\t\t\t\t<div class='pay-price'>\r\n\t\t\t\t\t\t\t\t\t实付\r\n\t\t\t\t\t\t\t\t\t<div>¥{{order.final_fee}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class='discount-fee'>优惠￥{{order.discount_fee}}</div>\r\n\t\t\t\t\t\t\t\t<div class='total-original'>\r\n\t\t\t\t\t\t\t\t\t共计￥{{order.total_fee}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"instore-box\" v-if=\"tables && tables.length > 0\">\r\n\t\t\t\t\t<van-cell title=\"包厢/桌号\" :value=\"reserveExtra.table_title\" is-link @click=\"onChangePopup('table')\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"order-region\">\r\n\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t<van-cell title=\"支付方式\" value=\"在线支付\" />\r\n\t\t\t\t\t\t<van-cell title=\"来客人数\" @click=\"onChangePopup('person_num')\">\r\n\t\t\t\t\t\t\t<template slot=\"right-icon\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"reserveExtra.person_num\">\r\n\t\t\t\t\t\t\t\t\t{{reserveExtra.person_num}}人\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<span v-else>选择来客人数</span>\r\n\t\t\t\t\t\t\t\t<i class=\"van-icon van-icon-arrow van-cell__right-icon\"></i>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t<van-cell title=\"备注\" :to=\"util.getUrl({path: '/tangshi/pages/reserve/note', query: { sid: sid}})\">\r\n\t\t\t\t\t\t\t<template slot=\"right-icon\">\r\n\t\t\t\t\t\t\t\t{{reserveExtra.note || order.note || '口味、偏好等要求'}}\r\n\t\t\t\t\t\t\t\t<i class=\"van-icon van-icon-arrow van-cell__right-icon\"></i>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- 桌号弹出层 -->\r\n\t\t<van-popup v-model=\"popup.table\" position=\"bottom\">\r\n\t\t\t<van-picker :columns=\"tables\" value-key=\"title\" title=\"桌号选择\" @confirm=\"onSelectTable\" @cancel=\"onChangePopup('table')\" show-toolbar/>\r\n\t\t</van-popup>\r\n\t\t<!--人数选择-->\r\n\t\t<van-popup v-model=\"popup.person_num\" position=\"bottom\">\r\n\t\t\t<div class=\"popup-picknum\">\r\n\t\t\t\t<van-picker :columns=\"columns\" @confirm=\"onConfirmPersonNum\" @cancel=\"onChangePopup('picknum')\" show-toolbar confirm-button-text=\"确认\" cancel-button-text=\"取消\"/>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t<!-- 代金券弹出层 -->\r\n\t\t<van-popup v-model=\"popup.coupon\" position=\"bottom\" v-if=\"coupons && coupons.length > 0\">\r\n\t\t\t<div class=\"popup-coupon\">\r\n\t\t\t\t<div class=\"popup-title van-hairline--bottom\">商家代金券</div>\r\n\t\t\t\t<div class=\"popup-container\">\r\n\t\t\t\t\t<load type=\"loaded\" :text=\"'可用代金券(' + coupons.length + '张)'\" bgcolor=\"#f5f5f5\"></load>\r\n\t\t\t\t\t<div class=\"coupon-list\">\r\n\t\t\t\t\t\t<div class=\"content-padded\">\r\n\t\t\t\t\t\t\t<div class=\"coupon-item\" v-for=\"item in coupons\">\r\n\t\t\t\t\t\t\t\t<div class=\"clearfix\" @click=\"onSelectCoupon(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"circle circle-left\"></span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"circle circle-right\"></span>\r\n\t\t\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"store-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img :src=\"item.logo\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"coupon-detail\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"coupon-title\">{{item.title}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"use-time\">有效期至:{{item.endtime_cn}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>￥</span>{{item.discount}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"condition\">满{{item.condition}}元可用</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"selected-status\" v-if=\"order.coupon && item.id == order.coupon.id\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"static/img/success.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"popup-cancle van-hairline--top\" @click=\"onSelectCoupon(0)\">不使用代金券</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\r\n\t\t<van-submit-bar :disabled=\"!islegal\" :price=\"order.final_fee * 100\" label=\"待支付\" button-text=\"提交订单\" @submit=\"onSubmit\">\r\n\t\t\t<div slot=\"default\" class=\"order-benefit\">\r\n\t\t\t\t已优惠 ¥{{order.discount_fee}}\r\n\t\t\t</div>\r\n\t\t</van-submit-bar>\r\n\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport Load from '@/components/load'\r\n\timport PublicHeader from '@/components/header'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\treserve_type: 'table',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tmobile: '',\r\n\t\t\t\tcontentHeight: 0,\r\n\t\t\t\tpopup:{\r\n\t\t\t\t\tcoupon: false,\r\n\t\t\t\t\ttable: false,\r\n\t\t\t\t\tperson_num: false\r\n\t\t\t\t},\r\n\t\t\t\tstore:{},\r\n\t\t\t\tcart:{},\r\n\t\t\t\tcategory: {},\r\n\t\t\t\tcoupons: [],\r\n\t\t\t\torder: {},\r\n\t\t\t\tactivityed: {},\r\n\t\t\t\ttables: [],\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tislegal: false,\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tLoad\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'reserveExtra'\r\n\t\t\t]),\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmobile() {\r\n\t\t\t\tif(this.mobile && this.mobile.length == 11) {\r\n\t\t\t\t\tthis.setState({type: 'reserveExtra', key: 'mobile', val: this.mobile});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tusername() {\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'username', val: this.username});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setState' \r\n\t\t\t]),\r\n\t\t\tonSelectTable(table) {\r\n\t\t\t\tif(table.is_reserved == 1) {\r\n\t\t\t\t\tthis.$toast('该桌位已被他人提前预定, 请选择其他桌号');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'table_id', val: table.id});\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'table_title', val: table.title});\r\n\t\t\t\tthis.onChangePopup('table');\r\n\t\t\t},\r\n\t\t\tonConfirmPersonNum(value, index) {\r\n\t\t\t\tvar person_num = index + 1;\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'person_num', val: person_num});\r\n\t\t\t\tthis.popup.person_num = false;\r\n\t\t\t},\r\n\t\t\tonSelectCoupon(id) {\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'coupon_id', val: id});\r\n\t\t\t\tthis.onChangePopup('coupon');\r\n\t\t\t\tthis.onCalculate();\r\n\t\t\t},\r\n\t\t\tonChangeOrderType(type) {\r\n\t\t\t\tthis.reserve_type = type;\r\n\t\t\t\tthis.setState({type: 'reserveExtra', key: 'reserve_type', val: type});\r\n\t\t\t\tif(type == 'order') {\r\n\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/tangshi/pages/reserve/goods?sid=' + this.sid + '&table_cid=' + this.reserveExtra.cid}));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonChangePopup(key) {\r\n\t\t\t\tthis.popup[key] = !this.popup[key];\r\n\t\t\t},\r\n\r\n\t\t\tonCalculate() {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\textra: this.reserveExtra\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/reserve/post',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tthis.activityed = result.activityed;\r\n\t\t\t\t\tthis.order = result.order;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(!this.mobile || !this.username) {\r\n\t\t\t\t\tthis.$toast('请完善预订信息');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.reserveExtra.cid) {\r\n\t\t\t\t\tthis.$toast('请先选择预定桌台');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.reserveExtra.time || !this.reserveExtra.day) {\r\n\t\t\t\t\tthis.$toast('请先选择预定时间');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.islegal) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.reserveExtra.reserve_type) {\r\n\t\t\t\t\tthis.reserveExtra.reserve_type = 'table';\r\n\t\t\t\t}\r\n\t\t\t\tthis.islegal = false;\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\textra: this.reserveExtra,\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/reserve/submit',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar order_id = result.message;\r\n\t\t\t\t\tthis.$router.push(this.util.getUrl({path: '/pages/public/pay?order_id=' + order_id + '&order_type=takeout'}));\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\textra: this.reserveExtra\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/reserve/post',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message, this.util.getUrl({path: 'tangshi/pages/reserve/index', query: {sid: this.sid}}), 1000, 'replace');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.mobile = this.reserveExtra.mobile;\r\n\t\t\t\t\tthis.username = this.reserveExtra.username;\r\n\t\t\t\t\tif(this.reserveExtra.reserve_type) {\r\n\t\t\t\t\t\tthis.reserve_type = this.reserveExtra.reserve_type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tthis.store = result.store;\r\n\t\t\t\t\tthis.cart = result.cart;\r\n\t\t\t\t\tthis.category = result.category;\r\n\t\t\t\t\tthis.coupons = result.coupons;\r\n\t\t\t\t\tthis.order = result.order;\r\n\t\t\t\t\tthis.tables = result.tables;\r\n\t\t\t\t\tthis.columns = result.columns;\r\n\t\t\t\t\tif(!this.reserveExtra.table_title) {\r\n\t\t\t\t\t\tthis.reserveExtra.table_title = '请选择桌号';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.islegal = result.islegal;\r\n\t\t\t\t\tif(!this.mobile) {\r\n\t\t\t\t\t\tthis.mobile = this.order.mobile;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.username) {\r\n\t\t\t\t\t\tthis.username = this.order.username;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query) {\r\n\t\t\t\tthis.sid = this.query.sid;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tthis.onLoad();\r\n\t\t\tlet bodyHeight = document.documentElement.clientHeight;\r\n\t\t\tlet navHeight = document.getElementsByClassName('van-nav-bar')[0].clientHeight;\r\n\t\t\tthis.contentHeight = bodyHeight-navHeight-50;\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n\t/*整体结构*/\r\n\t#reserve-submit .content{\r\n\t\tpadding: 0 10px 10px;\r\n\t}\r\n\t#reserve-submit .content .content-block-title{\r\n\t\tmargin: 15px 0;\r\n\t\ttext-align: center;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 1;\r\n\t\tcolor: #6d6d72;\r\n\t\ttext-overflow: ellipsis;\r\n\t\ttext-transform: uppercase;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t#reserve-submit .content .content-block-title span{\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 0 5px;\r\n\t}\r\n\t#reserve-submit .content .content-type-title{\r\n\t\tmargin: 14px 15px;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 1;\r\n\t\tcolor: #6d6d72;\r\n\t\ttext-overflow: ellipsis;\r\n\t\ttext-transform: uppercase;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t/*详情*/\r\n\t#reserve-submit .order-food{\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title{\r\n\t\tposition: relative;\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\r\n\t\tpadding: 0 15px;\r\n\t\tcolor: #898989;\r\n\t\tfont-size: 14px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title .food-shop{\r\n\t\tfloat: left;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-right: 75px;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title .order-tips-thirpart{\r\n\t\tposition: absolute;\r\n\t\tright: 15px;\r\n\t\theight: 15px;\r\n\t\tline-height: 15px;\r\n\t\tmargin-top: 17px;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 0 5px;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 10px;\r\n\t\tbackground-color: #ff2d4b;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title .order-tips-thirpart::before,#reserve-submit .order-food .order-food-title .order-tips-thirpart::after{\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\tborder: 2px solid #fff;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title .order-tips-thirpart::before{\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tborder-color: #fff #ff2d4b #ff2d4b #fff;\r\n\t}\r\n\t#reserve-submit .order-food .order-food-title .order-tips-thirpart::after{\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tborder-color: #ff2d4b #fff #fff #ff2d4b;\r\n\t}\r\n\t#reserve-submit .food-list .van-card{\r\n\t\theight: 75px;\r\n\t\tpadding: 10px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .van-card__header .van-card__content{\r\n\t\theight: auto;\r\n\t}\r\n\t#reserve-submit .food-list .van-card:last-child{\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .van-card__thumb{\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\twidth: 55px;\r\n\t\theight: 55px;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .food-title,#reserve-submit .food-list .van-card .food-desc{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-item: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .food-title .left{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-item: center;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .food-title .activity-img{\r\n\t\twidth: 15px;\r\n\t\theight: 15px;\r\n\t\tmargin-right: 4px;\r\n\t\tmargin-top: 1px;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .food-desc{\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\t#reserve-submit .food-list .van-card .food-desc .right{\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\t#reserve-submit .discount-box .van-cell__value{\r\n\t\tcolor: #F95339;\r\n\t}\r\n\t#reserve-submit .order-pay-info{\r\n\t\tfont-size: 14px;\r\n\t\tposition: relative;\r\n\t}\r\n\t#reserve-submit .order-pay-info .pay-price{\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: right;\r\n\t\tline-height: 24px;\r\n\t}\r\n\t#reserve-submit .order-pay-info .pay-price div{\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #F95339;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#reserve-submit .order-pay-info .total-original{\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: right;\r\n\t\tline-height: 24px;\r\n\t\tmargin-right: 10px;\r\n\t\tcolor: #898989;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#reserve-submit .order-pay-info .discount-fee{\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: right;\r\n\t\tline-height: 24px;\r\n\t\tmargin-right: 10px;\r\n\t\tcolor: #898989;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#reserve-submit .order-region{\r\n\t\tmargin-top: 10px;\r\n\t\tbackground: #fff;\r\n\t}\r\n\t#reserve-submit .checkbox .van-icon{\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tborder-radius: 50%;\r\n\t\tborder:1px solid #ccc;\r\n\t\tvertical-align: middle;\r\n\t\ttext-align: center;\r\n\t\tline-height: 16px;\r\n\t}\r\n\t#reserve-submit .checkbox .van-icon.checked{\r\n\t\tborder: 1px solid #ff2d4b;\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#reserve-submit .plateform-box .van-cell__value span, #reserve-submit .instore-box .van-cell__value span{\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#reserve-submit .plateform-box .van-cell__left-icon,#reserve-submit .instore-box .van-cell__left-icon{\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#reserve-submit .plateform-inner .van-icon-plus{\r\n\t\twidth: 13px;\r\n\t\theight: 13px;\r\n\t\tborder-radius: 50%;\r\n\t\tline-height: 13px;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 5px;\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#reserve-submit .plateform-inner .addrress-select .van-cell__title{\r\n\t\tcolor: #ff2d4b;\r\n\t}\r\n\t#reserve-submit .instore-box{\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t#reserve-submit .store-title{\r\n\t\tfont-size:12px;\r\n\t\tcolor: #999;\r\n\t}\r\n\t#reserve-submit .store-address .van-icon{\r\n\t\tline-height: 48px;\r\n\t}\r\n\t/*代金券弹出层*/\r\n\t#reserve-submit .popup-coupon .popup-title,#reserve-submit .popup-redpacket .popup-title{\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 50px;\r\n\t}\r\n\t#reserve-submit .popup-coupon .popup-container,#reserve-submit .popup-redpacket .popup-container{\r\n\t\twidth: 100%;\r\n\t\theight: 300px;\r\n\t\toverflow-y: auto;\r\n\t\tbackground: #f5f5f5;\r\n\t}\r\n\t#reserve-submit .popup-coupon .popup-container::-webkit-scrollbar,#reserve-submit .popup-redpacket .popup-container::-webkit-scrollbar{\r\n\t\twidth: 0px;\r\n\t\theight: 0px;\r\n\t}\r\n\t#reserve-submit .coupon-list{\r\n\t\tpadding: 0px 10px 10px;\r\n\t}\r\n\t#reserve-submit .coupon-list .content-padded{\r\n\t\tmargin: 10px;\r\n\t}\r\n\t#reserve-submit .coupon-list .content-padded .coupon-item{\r\n\t\tbackground: #fff;\r\n\t\tmargin-top: 12px;\r\n\t\toverflow: hidden;\r\n\t\tpadding: 16px;\r\n\t\tposition: relative;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix{\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix .circle{\r\n\t\tdisplay: block;\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tbackground: #f5f5f5;\r\n\t\tposition: absolute;\r\n\t\tborder-radius: 16px;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: -8px;\r\n\t\tz-index: 20;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix .circle-left{\r\n\t\tleft: -8px;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix .circle-right{\r\n\t\tright: -8px;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix .overdue{\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 70px;\r\n\t\theight: 70px;\r\n\t\ttop: 10px;\r\n\t\tright: 10px;\r\n\t\tz-index: 100;\r\n\t\tbackground: url(../../../static/img/ws.png);\r\n\t\tbackground-size: 100%;\r\n\t}\r\n\t#reserve-submit .coupon-item .clearfix .use{\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 70px;\r\n\t\theight: 70px;\r\n\t\ttop: 10px;\r\n\t\tright: 10px;\r\n\t\tz-index: 100;\r\n\t\tbackground: url(../../../static/img/wu.png);\r\n\t\tbackground-size: 100%;\r\n\t}\r\n\t#reserve-submit .coupon-item .left{\r\n\t\twidth: 70%;\r\n\t\tfloat: left;\r\n\t}\r\n\t#reserve-submit .coupon-item .left .store-logo{\r\n\t\tdisplay: inline-block;\r\n\tfloat: left;\r\n\twidth: 32%;\r\n\t}\r\n\t#reserve-submit .coupon-item .left .store-logo img{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 56px;\r\n\t\theight: 56px;\r\n\t\tmargin-top: 4px;\r\n\t}\r\n\t#reserve-submit .coupon-item .left .coupon-detail{\r\n\t\tdisplay: inline-block;\r\n\tfloat: left;\r\n\twidth: 60%;\r\n\t}\r\n\t#reserve-submit .coupon-item .left .coupon-detail .coupon-title{\r\n\t\tfont-weight: bold;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tcolor: #ff2d4b;\r\n\tmargin-top: 3px;\r\n\t}\r\n\t#reserve-submit .coupon-item .left .coupon-detail .use-time{\r\n\t\tfont-size: 12px;\r\n\t\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tcolor: #808080;\r\n\tmargin-top: 16px;\r\n\t}\r\n\t#reserve-submit .coupon-item .right{\r\n\t\twidth: 29%;\r\n\t\tborder-left: 1px dashed #ccc;\r\n\t\ttext-align: center;\r\n\t\tfloat: right;\r\n\t}\r\n\t#reserve-submit .coupon-item .right .price{\r\n\t\tcolor: #ff2d4b;\r\n\tfont-size: 24px;\r\n\t}\r\n\t#reserve-submit .coupon-item .right .price span{\r\n\t\tfont-size: 14px;\r\n\t\tmargin-right: 2px;\r\n\t}\r\n\t#reserve-submit .coupon-item .right .condition{\r\n\t\tmargin-top: 8px;\r\n\tfont-size: 12px;\r\n\tdisplay: -webkit-box;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tword-wrap: break-word;\r\n\twhite-space: normal !important;\r\n\t-webkit-line-clamp: 2;\r\n\t-webkit-box-orient: vertical;\r\n\tpadding: 2px;\r\n\tcolor: #808080;\r\n\t}\r\n\t#reserve-submit .coupon-item .selected-status,#reserve-submit .redPacket-list-item .selected-status{\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 31px;\r\n\t\theight: 24px;\r\n\t}\r\n\t#reserve-submit .coupon-item .selected-status img,#reserve-submit .redPacket-list-item .selected-status img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t/*红包弹出层*/\r\n\t#reserve-submit .redPacket-list.content-padded{\r\n\t\tmargin: 10px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .row{\r\n\t\tmargin-left: -4%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#reserve-submit .redPacket-list .text-right{\r\n\t\ttext-align: right;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item{\r\n\t\tbackground: #fff;\r\n\t\tmargin-bottom: 12px;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .redPacket-list-item-container{\r\n\t\tpadding: 25px 16px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .redPacket-list-item-container.superredpacket-meal{\r\n\t\tborder: 2px solid #ff2d4b;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-info .col-50{\r\n\t\twidth: 46%;\r\n\t\tmargin-left: 4%;\r\n\t\tfloat: left;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-info .col-50 .redPacket-title{\r\n\t\tcolor: #ff2d4b;\r\n\t\tmargin: 0;\r\n\t\tfont-size: 18px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-info .col-50 .price{\r\n\t\tcolor: #ff2d4b;\r\n\t\tposition: relative;\r\n\t\tmargin-top: -4px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-info .col-50 .price .price-num{\r\n\t\tfont-size: 22px;\r\n\t\tline-height: 26px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .redPacket-list-item-container .redPacket-use-limit{\r\n\t\tmargin-top: 10px;\r\n\t\tcolor: #666;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .row .col-60{\r\n\t\twidth: 55.99999999999999%;\r\n\t\tmargin-left: 4%;\r\n\t\tfloat: left;\r\n\t\twhite-space:nowrap\r\n\t}\r\n\t#reserve-submit .redPacket-list .row .col-40{\r\n\t\twidth: 36%;\r\n\t\tmargin-left: 4%;\r\n\t\tfloat: left;\r\n\t}\r\n\t#reserve-submit .redPacket-list .row .col-40 .use-condition{\r\n\t\tmargin: 0;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .redPacket-list-item-container .other-limit{\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999;\r\n\t\tborder-top: 1px dashed #e0e0e0;\r\n\t\tpadding-top: 4px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .circle{\r\n\t\tdisplay: block;\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tbackground: #f5f5f5;\r\n\t\tposition: absolute;\r\n\t\tborder-radius: 16px;\r\n\t\ttop:50%;\r\n\t\tmargin-top: -8px;\r\n\t\tz-index: 20;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .circle.superredpacket-meal{\r\n\t\tborder: 2px solid #ff2d4b;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .circle-left{\r\n\t\tleft: -8px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .circle-right{\r\n\t\tright: -8px;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .overdue{\r\n\t\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 70px;\r\n\theight: 70px;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: url(../../../static/img/ws.png);\r\n\tbackground-size: 100%;\r\n\tz-index: 100;\r\n\t}\r\n\t#reserve-submit .redPacket-list .redPacket-list-item .use{\r\n\t\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 70px;\r\n\theight: 70px;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: url(../../../static/img/wu.png);\r\n\tbackground-size: 100%;\r\n\tz-index: 100;\r\n\t}\r\n\t/*提交订单栏*/\r\n\t#reserve-submit .order-benefit{\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\r\n\t\tfont-size: 14px;\r\n\t\tpadding-left: 15px;\r\n\t}\r\n\t#reserve-submit .van-submit-bar .van-button{\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tborder-color: #ff2d4b;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#reserve-submit .extre-fee .van-cell,#reserve-submit .discount-box .van-cell{\r\n\t\tpadding: 2px 15px;\r\n\t}\r\n\t#reserve-submit .discount-box .discount-item img{\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/reserve/create.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"reserve-submit\"}},[_c('public-header',{attrs:{\"title\":\"订单确认\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\",style:({height: _vm.contentHeight + 'px'})},[_c('div',{staticClass:\"content-block-title\"},[_vm._v(_vm._s(_vm.category.title)+\"桌 \"),_c('span',[_vm._v(\"|\")]),_vm._v(_vm._s(_vm.reserveExtra.day)+\"~\"+_vm._s(_vm.reserveExtra.time))]),_vm._v(\" \"),_c('div',{staticClass:\"list-block\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"预定人\",\"placeholder\":\"您的姓名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"您的手机号\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"content-type-title\"},[_vm._v(\"预定类型\")]),_vm._v(\" \"),_c('div',{staticClass:\"content-scroll\"},[_c('div',{staticClass:\"plateform-box\"},[_c('van-cell-group',{staticClass:\"border-0px\"},[_c('van-cell',{attrs:{\"value\":'只定座 预付￥' + _vm.category.reservation_price},on:{\"click\":function($event){return _vm.onChangeOrderType('table')}}},[_c('div',{staticClass:\"checkbox\",attrs:{\"slot\":\"right-icon\"},slot:\"right-icon\"},[_c('div',{staticClass:\"van-icon\",class:{checked: _vm.reserve_type == 'table', 'van-icon-check': _vm.reserve_type == 'table'}})])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"instore-box\"},[_c('van-cell-group',{staticClass:\"border-0px\"},[_c('van-cell',{staticClass:\"border-0px\",attrs:{\"value\":'提前下单' + _vm.category.limit_price + '元起订'},on:{\"click\":function($event){return _vm.onChangeOrderType('order')}}},[_c('div',{staticClass:\"checkbox\",attrs:{\"slot\":\"right-icon\"},slot:\"right-icon\"},[_c('div',{staticClass:\"van-icon\",class:{checked: _vm.reserve_type == 'order', 'van-icon-check': _vm.reserve_type == 'order'}})])])],1)],1),_vm._v(\" \"),(_vm.reserve_type=='order')?_c('div',{staticClass:\"order-food\"},[_c('div',{staticClass:\"order-food-title\"},[_c('div',{staticClass:\"food-shop\"},[_vm._v(_vm._s(_vm.store.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"food-list\"},[_vm._l((_vm.cart.data),function(item){return [_vm._l((item),function(option){return [(option.goods_id != '88888')?_c('van-card',{attrs:{\"thumb\":option.thumb}},[_c('div',{staticClass:\"food-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"left\"},[(option.bargain_id > 0)?_c('img',{staticClass:\"activity-img\",attrs:{\"src\":\"static/img/bargain_b.png\",\"alt\":\"\"}}):_vm._e(),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.title)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(\"¥\"+_vm._s(option.total_discount_price))])]),_vm._v(\" \"),_c('div',{staticClass:\"food-desc\",attrs:{\"slot\":\"desc\"},slot:\"desc\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"x\"+_vm._s(option.num))]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(\"¥\"+_vm._s(option.total_price))])])]):_vm._e()]})]})],2),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('van-cell-group',{staticClass:\"discount-box border-0px\"},[(_vm.order.activityed && _vm.order.activityed.list)?[_vm._l((_vm.order.activityed.list),function(activity){return [(activity.type != 'couponCollect' && activity.type != 'redPacket')?[_c('van-cell',{staticClass:\"border-0px\"},[_c('div',{staticClass:\"discount-item flex\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('img',{attrs:{\"src\":'static/img/' + activity.type + '_b.png',\"alt\":\"\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(activity.name)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('template',{slot:\"right-icon\"},[_c('span',{staticClass:\"c-danger\"},[_vm._v(_vm._s(activity.text))])])],2)]:_vm._e()]})]:_vm._e(),_vm._v(\" \"),_c('van-cell',{staticClass:\"border-0px\",attrs:{\"title\":\"商家代金券\"}},[(_vm.order.coupon && _vm.order.coupon.id > 0)?_c('template',{slot:\"right-icon\"},[_c('span',{staticClass:\"c-danger\",on:{\"click\":function($event){return _vm.onChangePopup('coupon')}}},[_vm._v(\"-￥\"+_vm._s(_vm.order.coupon.discount))])]):_c('template',{slot:\"right-icon\"},[(_vm.coupons && _vm.coupons.length > 0)?_c('span',{staticClass:\"c-danger\",on:{\"click\":function($event){return _vm.onChangePopup('coupon')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.coupons.length)+\"张可用代金券\\n\\t\\t\\t\\t\\t\\t\\t\")]):_c('span',{staticClass:\"c-disabled\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t暂无可用代金券\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('i',{staticClass:\"van-icon van-icon-arrow van-cell__right-icon\"})])],2)],2),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('van-cell-group',{staticClass:\"border-0px\"},[_c('van-cell',[_c('div',{staticClass:\"order-pay-info\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"pay-price\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t实付\\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('div',[_vm._v(\"¥\"+_vm._s(_vm.order.final_fee))])]),_vm._v(\" \"),_c('div',{staticClass:\"discount-fee\"},[_vm._v(\"优惠￥\"+_vm._s(_vm.order.discount_fee))]),_vm._v(\" \"),_c('div',{staticClass:\"total-original\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t共计￥\"+_vm._s(_vm.order.total_fee)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])])])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.tables && _vm.tables.length > 0)?_c('div',{staticClass:\"instore-box\"},[_c('van-cell',{attrs:{\"title\":\"包厢/桌号\",\"value\":_vm.reserveExtra.table_title,\"is-link\":\"\"},on:{\"click\":function($event){return _vm.onChangePopup('table')}}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"order-region\"},[_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"支付方式\",\"value\":\"在线支付\"}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"来客人数\"},on:{\"click\":function($event){return _vm.onChangePopup('person_num')}}},[_c('template',{slot:\"right-icon\"},[(_vm.reserveExtra.person_num)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.reserveExtra.person_num)+\"人\\n\\t\\t\\t\\t\\t\\t\\t\")]:_c('span',[_vm._v(\"选择来客人数\")]),_vm._v(\" \"),_c('i',{staticClass:\"van-icon van-icon-arrow van-cell__right-icon\"})],2)],2),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"备注\",\"to\":_vm.util.getUrl({path: '/tangshi/pages/reserve/note', query: { sid: _vm.sid}})}},[_c('template',{slot:\"right-icon\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.reserveExtra.note || _vm.order.note || '口味、偏好等要求')+\"\\n\\t\\t\\t\\t\\t\\t\\t\"),_c('i',{staticClass:\"van-icon van-icon-arrow van-cell__right-icon\"})])],2)],1)],1)])]),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popup.table),callback:function ($$v) {_vm.$set(_vm.popup, \"table\", $$v)},expression:\"popup.table\"}},[_c('van-picker',{attrs:{\"columns\":_vm.tables,\"value-key\":\"title\",\"title\":\"桌号选择\",\"show-toolbar\":\"\"},on:{\"confirm\":_vm.onSelectTable,\"cancel\":function($event){return _vm.onChangePopup('table')}}})],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popup.person_num),callback:function ($$v) {_vm.$set(_vm.popup, \"person_num\", $$v)},expression:\"popup.person_num\"}},[_c('div',{staticClass:\"popup-picknum\"},[_c('van-picker',{attrs:{\"columns\":_vm.columns,\"show-toolbar\":\"\",\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"取消\"},on:{\"confirm\":_vm.onConfirmPersonNum,\"cancel\":function($event){return _vm.onChangePopup('picknum')}}})],1)]),_vm._v(\" \"),(_vm.coupons && _vm.coupons.length > 0)?_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popup.coupon),callback:function ($$v) {_vm.$set(_vm.popup, \"coupon\", $$v)},expression:\"popup.coupon\"}},[_c('div',{staticClass:\"popup-coupon\"},[_c('div',{staticClass:\"popup-title van-hairline--bottom\"},[_vm._v(\"商家代金券\")]),_vm._v(\" \"),_c('div',{staticClass:\"popup-container\"},[_c('load',{attrs:{\"type\":\"loaded\",\"text\":'可用代金券(' + _vm.coupons.length + '张)',\"bgcolor\":\"#f5f5f5\"}}),_vm._v(\" \"),_c('div',{staticClass:\"coupon-list\"},[_c('div',{staticClass:\"content-padded\"},_vm._l((_vm.coupons),function(item){return _c('div',{staticClass:\"coupon-item\"},[_c('div',{staticClass:\"clearfix\",on:{\"click\":function($event){return _vm.onSelectCoupon(item.id)}}},[_c('span',{staticClass:\"circle circle-left\"}),_vm._v(\" \"),_c('span',{staticClass:\"circle circle-right\"}),_vm._v(\" \"),_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"store-logo\"},[_c('img',{attrs:{\"src\":item.logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_c('div',{staticClass:\"coupon-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"use-time\"},[_vm._v(\"有效期至:\"+_vm._s(item.endtime_cn))])])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(_vm._s(item.discount)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"condition\"},[_vm._v(\"满\"+_vm._s(item.condition)+\"元可用\")])])]),_vm._v(\" \"),(_vm.order.coupon && item.id == _vm.order.coupon.id)?_c('div',{staticClass:\"selected-status\"},[_c('img',{attrs:{\"src\":\"static/img/success.png\",\"alt\":\"\"}})]):_vm._e()])}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"popup-cancle van-hairline--top\",on:{\"click\":function($event){return _vm.onSelectCoupon(0)}}},[_vm._v(\"不使用代金券\")])])]):_vm._e(),_vm._v(\" \"),_c('van-submit-bar',{attrs:{\"disabled\":!_vm.islegal,\"price\":_vm.order.final_fee * 100,\"label\":\"待支付\",\"button-text\":\"提交订单\"},on:{\"submit\":_vm.onSubmit}},[_c('div',{staticClass:\"order-benefit\",attrs:{\"slot\":\"default\"},slot:\"default\"},[_vm._v(\"\\n\\t\\t\\t已优惠 ¥\"+_vm._s(_vm.order.discount_fee)+\"\\n\\t\\t\")])]),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"divide\"},[_c('div',{staticClass:\"divide-line\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba012a42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/reserve/create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba012a42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./create.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba012a42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/reserve/create.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}