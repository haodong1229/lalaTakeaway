webpackJsonp([25],{GXhf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Gu7T"),i=a.n(s),r=a("Dd8w"),n=a.n(r),d=a("NYxO"),l={data:function(){return{preLoading:!0,list:[],available:[],dis_available:[]}},components:{PublicHeader:a("Cz8s").a},methods:n()({},Object(d.b)(["setOrderExtra","setState"]),{onLoad:function(){var e=this,t={sid:this.sid,erranderId:this.erranderId};this.erranderExtra&&this.erranderExtra.agentid&&(t.agentid=this.erranderExtra.agentid),this.util.request({url:"wmall/member/address",data:t}).then(function(t){e.preLoading=!1;var a=t.data.message;a.errno||(e.sid>0||e.erranderId>0?(e.available=[].concat(i()(e.available),i()(a.message.available)),e.dis_available=[].concat(i()(e.dis_available),i()(a.message.dis_available))):e.list=[].concat(i()(e.list),i()(a.message)))})},onSelectAddress:function(e){return!(!this.sid&&!this.erranderId)&&(e.available?"errander"==this.channel?("accept"==this.input?this.setState({type:"erranderExtra",key:"acceptaddress_id",val:e.id}):"buy"==this.input&&this.setState({type:"erranderExtra",key:"buyaddress_id",val:e.id}),this.$router.replace(this.util.getUrl({path:"/pages/paotui/diy",query:{id:this.erranderId}})),!1):(this.setOrderExtra({key:"address_id",val:e.id}),void this.$router.replace(this.util.getUrl({path:"/pages/order/create",query:{sid:this.sid}}))):(this.$toast("该地址不在商家配送范围内"),!1))}}),computed:n()({},Object(d.c)(["orderExtra","erranderExtra"])),created:function(){this.query=this.$route.query,this.query&&(this.sid=this.query.sid,this.channel=this.query.channel,this.input=this.query.input,this.erranderId=this.query.erranderId)},mounted:function(){this.onLoad()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"address"}},[a("public-header",{attrs:{title:"我的地址"}}),e._v(" "),a("div",{staticClass:"content"},[(e.sid>0||e.erranderId>0)&&(e.available.length>0||e.dis_available.length>0)||!e.sid&&!e.erranderId&&e.list.length>0?[e.sid>0||e.erranderId>0?[a("div",{staticClass:"list"},[e.available.length>0?[a("div",{staticClass:"block-title"},[e._v("可选收货地址")]),e._v(" "),a("div",{staticClass:"list-container van-hairline--bottom"},e._l(e.available,function(t,s){return a("div",{staticClass:"item  flex-lr",class:{"van-hairline--bottom":s<e.available.length-1}},[a("div",{staticClass:"item-content",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.onSelectAddress(t)}}},[a("div",{staticClass:"user"},[a("span",[e._v(e._s(t.realname))]),e._v(" "),a("span",[e._v(e._s(t.sex))]),e._v(" "),a("span",[e._v(e._s(t.mobile))])]),e._v(" "),a("div",{staticClass:"address"},[e._v(e._s(t.address))])]),e._v(" "),a("div",{on:{click:function(a){return e.util.jsUrl("/pages/member/addressPost",{id:t.id,sid:e.sid,channel:e.channel,erranderId:e.erranderId,input:e.input},"replace")}}},[a("van-icon",{attrs:{name:"edit"}})],1)])}),0)]:e._e(),e._v(" "),e.dis_available.length>0?[a("div",{staticClass:"block-title"},[e._v("不在配送范围内或地址不完善")]),e._v(" "),a("div",{staticClass:"list-container van-hairline--bottom"},e._l(e.dis_available,function(t,s){return a("div",{staticClass:"item  flex-lr c-disabled",class:{"van-hairline--bottom":s<e.dis_available.length-1}},[a("div",{staticClass:"item-content ",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.onSelectAddress(t)}}},[a("div",{staticClass:"user"},[a("span",[e._v(e._s(t.realname))]),e._v(" "),a("span",[e._v(e._s(t.sex))]),e._v(" "),a("span",[e._v(e._s(t.mobile))])]),e._v(" "),a("div",{staticClass:"address c-disabled"},[e._v(e._s(t.address))])]),e._v(" "),a("div",{on:{click:function(a){return e.util.jsUrl("/pages/member/addressPost",{id:t.id,sid:e.sid,channel:e.channel,erranderId:e.erranderId,input:e.input},"replace")}}},[a("van-icon",{attrs:{name:"edit"}})],1)])}),0)]:e._e()],2)]:[a("div",{staticClass:"list"},[a("div",{staticClass:"list-container van-hairline--bottom"},e._l(e.list,function(t,s){return a("div",{staticClass:"item  flex-lr",class:{"van-hairline--bottom":s<e.list.length-1}},[a("div",{staticClass:"item-content",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.onSelectAddress(t)}}},[a("div",{staticClass:"user"},[a("span",[e._v(e._s(t.realname))]),e._v(" "),a("span",[e._v(e._s(t.sex))]),e._v(" "),a("span",[e._v(e._s(t.mobile))])]),e._v(" "),a("div",{staticClass:"address"},[e._v(e._s(t.address))])]),e._v(" "),a("div",{on:{click:function(a){return e.util.jsUrl("/pages/member/addressPost",{id:t.id,sid:e.sid,channel:e.channel,erranderId:e.erranderId,input:e.input})}}},[a("van-icon",{attrs:{name:"edit"}})],1)])}),0)])]]:a("div",{staticClass:"no-data"},[a("img",{attrs:{src:"static/img/store_no_con.png",alt:""}}),e._v(" "),a("p",[e._v("您还没有收货地址")])]),e._v(" "),a("div",{staticClass:"add",on:{click:function(t){return e.util.jsUrl("/pages/member/addressPost",{id:0,sid:e.sid,channel:e.channel,erranderId:e.erranderId,input:e.input},"replace")}}},[a("van-cell",{staticClass:"border-1px-t",attrs:{title:"新增收货地址",icon:"add","is-link":""}})],1)],2),e._v(" "),a("transition",{attrs:{name:"loading"}},[e.preLoading?a("iloading"):e._e()],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,c,!1,function(e){a("d2Dd")},null,null);t.default=o.exports},d2Dd:function(e,t){}});