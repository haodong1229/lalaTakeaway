webpackJsonp([127],{LNHc:function(t,s){},roYg:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("Gu7T"),e=i.n(a),o={components:{PublicHeader:i("Cz8s").a},data:function(){return{showPreLoading:!0,status:1,orders:{page:1,psize:15,loading:!1,loaded:!1,empty:!1,data:[]}}},methods:{onLoad:function(){var t=this;if(this.orders.loaded)return!1;this.util.request({url:"seckill/seckill/list",data:{status:this.status,page:this.orders.page,psize:this.orders.psize}}).then(function(s){t.showPreLoading=!1;var i=s.data.message;i.errno?t.$toast(i.message):(t.orders.page++,t.orders.data=[].concat(e()(t.orders.data),e()(i.message.orders)),t.orders.data.length||(t.orders.empty=!0),i.message.orders.length<t.orders.psize&&(t.orders.loaded=!0),t.orders.loading=!1)})},onToggleStatus:function(t){this.status=t,this.orders={page:1,psize:15,loading:!0,loaded:!1,empty:!1,data:[]},this.onLoad()},onReceive:function(t){this.$dialog.alert({message:"您的兑换码是"+t+", 请将此兑换码出示给店员核销取货"})}},mounted:function(){this.onLoad()}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"seckill-orderList"}},[i("public-header",{attrs:{title:"我的抢购"}}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"navs flex-lr van-hairline--bottom"},[i("div",{staticClass:"nav-item",class:{active:0==t.status},on:{click:function(s){t.onToggleStatus(0)}}},[i("div",{staticClass:"nav-title"},[t._v("未支付")])]),t._v(" "),i("div",{staticClass:"nav-item",class:{active:1==t.status},on:{click:function(s){t.onToggleStatus(1)}}},[i("div",{staticClass:"nav-title"},[t._v("待核销")])]),t._v(" "),i("div",{staticClass:"nav-item",class:{active:2==t.status},on:{click:function(s){t.onToggleStatus(2)}}},[i("div",{staticClass:"nav-title"},[t._v("已核销")])]),t._v(" "),i("div",{staticClass:"nav-item",class:{active:3==t.status},on:{click:function(s){t.onToggleStatus(3)}}},[i("div",{staticClass:"nav-title"},[t._v("已取消")])])]),t._v(" "),t.orders.empty?i("div",{staticClass:"common-no-con"},[i("img",{attrs:{src:"/static/img/order_no_con.png",alt:""}}),t._v(" "),i("p",[t._v("您暂无相关订单哦")])]):i("van-list",{attrs:{finished:t.orders.loaded,offset:100,"immediate-check":!1},on:{load:t.onLoad},model:{value:t.orders.loading,callback:function(s){t.$set(t.orders,"loading",s)},expression:"orders.loading"}},[t._l(t.orders.data,function(s,a){return i("div",{key:a,staticClass:"order-tiem"},[i("div",{staticClass:"store-info van-hairline--bottom"},[i("img",{attrs:{src:s.logo,alt:""}}),t._v(" "),i("div",{staticClass:"title-time"},[i("div",{staticClass:"store-title"},[t._v(t._s(s.store_title))]),t._v(" "),i("div",{staticClass:"order-time"},[t._v("下单时间："+t._s(s.addtime_cn))])]),t._v(" "),i("van-icon",{attrs:{name:"right"}})],1),t._v(" "),i("div",{staticClass:"order-info"},[i("img",{attrs:{src:s.thumb,alt:""}}),t._v(" "),i("div",{staticClass:"info-inner"},[i("div",{staticClass:"title-price"},[i("div",{staticClass:"goods-title"},[t._v(t._s(s.goods_title))]),t._v(" "),i("div",{staticClass:"order-price"},[t._v(t._s(s.is_pay>0?"实付":"待付")+"：¥"+t._s(s.final_fee))])]),t._v(" "),i("div",{staticClass:"other-info"},[i("div",[t._v("支付方式:")]),t._v(" "),i("div",[t._v(t._s(s.pay_type_cn))])]),t._v(" "),i("div",{staticClass:"other-info"},[i("div",[t._v("联系方式:")]),t._v(" "),i("div",[t._v(t._s(s.username)+"("+t._s(s.mobile)+")")])]),t._v(" "),1==s.is_pay?i("div",{staticClass:"other-info"},[i("div",[t._v("兑换码:")]),t._v(" "),i("div",[t._v(t._s(s.code))])]):t._e(),t._v(" "),1==s.is_pay?i("div",{staticClass:"other-info"},[i("div",[t._v("到期时间:")]),t._v(" "),i("div",[t._v(t._s(s.expire_cn))])]):t._e(),t._v(" "),1==s.status&&1==s.is_pay?i("div",{staticClass:"btn-group"},[i("div",{staticClass:"btn-item",on:{click:function(i){t.onReceive(s.code)}}},[t._v("核销取货")]),t._v(" "),i("a",{staticClass:"btn-item",attrs:{href:"tel:"+s.telephone}},[t._v("联系商家")])]):t._e(),t._v(" "),1==s.status&&0==s.is_pay?i("div",{staticClass:"btn-group"},[i("router-link",{staticClass:"btn-item",attrs:{tag:"div",to:t.util.getUrl({path:"/pages/public/pay",query:{order_id:s.id,order_type:"seckill"}})}},[t._v("立即支付")])],1):t._e()])])])}),t._v(" "),t.orders.loaded?i("div",{staticClass:"loaded"},[i("div",{staticClass:"loaded-tips"},[t._v("我是有底线的")])]):t._e()],2)],1),t._v(" "),i("transition",{attrs:{name:"loading"}},[t.showPreLoading?i("iloading"):t._e()],1)],1)},staticRenderFns:[]};var d=i("VU/8")(o,n,!1,function(t){i("LNHc")},null,null);s.default=d.exports}});
//# sourceMappingURL=127.dee834ff511a6e87b0bf.js.map