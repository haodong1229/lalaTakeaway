webpackJsonp([162],{cV5v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Gu7T"),r=n.n(i),o=n("Dd8w"),s=n.n(o),a=n("NYxO"),d={name:"orderNote",components:{PublicHeader:n("Cz8s").a},data:function(){return{note:"",order_note:[]}},methods:s()({},Object(a.b)(["setOrderExtra"]),{onLoad:function(){var t=this;this.util.request({url:"wmall/store/table/note",data:{sid:this.sid}}).then(function(e){var n=e.data.message;n.errno?t.$toast(n.message):t.order_note=[].concat(r()(t.order_note),r()(n.message.store.order_note))})},onChooseLabel:function(t){this.note=this.note+" "+t},onSubmit:function(){this.setOrderExtra({key:"note",val:this.note}),this.$router.replace(this.util.getUrl({path:"/tangshi/pages/table/create",query:{sid:this.$route.query.sid,table_id:this.orderExtra.table_id,is_pindan:this.is_pindan,pindan_id:this.pindan_id}}))}}),computed:s()({},Object(a.c)(["orderExtra"])),created:function(){this.query=this.$route.query,this.query&&(this.sid=this.query.sid,this.is_pindan=this.query.is_pindan,this.pindan_id=this.query.pindan_id)},mounted:function(){this.note=this.orderExtra.note||"",this.onLoad()}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"order-note"}},[n("public-header",{attrs:{title:"添加备注",bgcolor:"#f5f5f5",textcolor:"#000"}}),t._v(" "),n("div",{staticClass:"content"},[n("van-cell-group",{staticClass:"text"},[n("van-field",{attrs:{type:"textarea",placeholder:"请输入备注，最多50字哦"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),t._v(" "),t.order_note&&t.order_note.length>0?n("div",{staticClass:"label-box"},t._l(t.order_note,function(e){return n("div",{staticClass:"label",on:{click:function(n){return t.onChooseLabel(e)}}},[t._v(t._s(e))])}),0):t._e()],1),t._v(" "),n("div",{staticClass:"save-btn"},[n("van-button",{attrs:{type:"danger",size:"large"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(d,l,!1,function(t){n("egFK")},null,null);e.default=c.exports},egFK:function(t,e){}});