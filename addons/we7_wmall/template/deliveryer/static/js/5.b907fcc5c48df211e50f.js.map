{"version":3,"sources":["webpack:///src/pages/order/detail.vue","webpack:///./src/pages/order/detail.vue?fecd","webpack:///./src/pages/order/detail.vue","webpack:///./src/pages/order/controller/order.js"],"names":["components","publicHeader","header","countDown","data","showPreLoading","order","deliveryer","config","map","location_x","location_y","methods","onLoad","that","this","Object","funcCommon","vue","url","id","success","res","onLoadMap","onChangeOrderStatus","type","from","AMap","then","Map","resizeEnable","center","zoom","plugin","driving","Driving","policy","DrivingPolicy","LEAST_TIME","hideMarkers","marker","markers","startLngLat","passLngLat","store","endLngLat","Marker","position","offset","Pixel","content","push","search","waypoints","status","result","console","log","add","setFitView","onSetMapZoom","getZoom","setZoomAndCenter","created","query","$route","mounted","order_detail","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","_s","serial_sn","delivery_overtime","endTime","delivery_overtime_start","startTime","_e","delivery_collect_type_cn","delivery_day","delivery_time","margin-15-t","address","on","click","$event","util","jsLocation","lat","lng","name","username","mobile","jsTel","telephone","_m","note","_l","goodsItem","key","goods_id","span","goods_title","goods_num","goods_price","delivery_fee","box_price","pack_fee","delivery_type","pay_type","final_fee","extra_fee","extraFeeItem","extraFeeIndex","fee","discount_fee","total_fee","is_pay","ordersn","addtime_cn","paytype_cn","plateform_deliveryer_fee","invoice","recognition","delivery_assign_time_cn","day","time","delivery_instore_time_cn","delivery_takegoods_time_cn","delivery_success_time_cn","gutter","transfer_deliveryer_id","transfer_delivery_status","deliveryer_id","delivery_status","deliveryer_transfer_status","deliveryer_cancel_status","staticRenderFns","src","alt","Component","__webpack_require__","normalizeComponent","detail","ssrContext","__webpack_exports__","changeOrderStatus","options","typeInfo","delivery_assign","tip","success_status","direct_transfer_refuse","reply","direct_transfer_agree","delivery_instore","delivery_takegoods","delivery_success","wx_notice","orderStatusChangeTips","params","confirm","message","__WEBPACK_IMPORTED_MODULE_1__config_util_js__","$toast","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","records","index","splice","indexOf","jspost","__WEBPACK_IMPORTED_MODULE_2__router__","getUrl","path","order_id","order_status"],"mappings":"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","file":"static/js/5.b907fcc5c48df211e50f.js","sourcesContent":["<template>\r\n\t<div id=\"takeout-detail\">\r\n\t\t<public-header title=\"订单详情\"></public-header>\r\n\t\t<div class=\"content font-14\">\r\n\t\t\t<div id=\"map-container\"></div>\r\n\t\t\t<div class=\"tip\">订单配送</div>\r\n\t\t\t<div class=\"bg-default\">\r\n\t\t\t\t<div class=\"flex-lr padding-10-lr padding-15-tb van-hairline--bottom\">\r\n\t\t\t\t\t<div class=\"c-primary font-500\">#{{order.serial_sn}}</div>\r\n\t\t\t\t\t<div class=\"c-danger flex\" v-if=\"order.status == 4\">\r\n\t\t\t\t\t\t<template v-if=\"order.delivery_overtime > 0\">\r\n\t\t\t\t\t\t\t距超时<count-down :endTime=\"order.delivery_overtime\" class=\"c-danger\"></count-down>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else-if=\"order.delivery_overtime_start > 0\">\r\n\t\t\t\t\t\t\t已超时<count-down :startTime=\"order.delivery_overtime_start\" class=\"c-danger\"></count-down>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"padding-10-lr margin-15-t flex\">\r\n\t\t\t\t\t<span class=\"handle-type\">{{order.delivery_collect_type_cn}}</span>\r\n\t\t\t\t\t<span class=\"delivery-time\">配送 {{order.delivery_day}} {{order.delivery_time}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"address padding-10-lr\" margin-15-t>\r\n\t\t\t\t\t<li class=\"flex-lr margin-15-t\" v-if=\"order.store\">\r\n\t\t\t\t\t\t<span class=\"c-info font-15\">取:</span>\r\n\t\t\t\t\t\t<ul class=\"address-text\">\r\n\t\t\t\t\t\t\t<li class=\"font-15 font-500\">{{order.store.title}}</li>\r\n\t\t\t\t\t\t\t<li class=\"c-gray margin-5-t font-13\">{{order.store.address}}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<i class=\"icon icon-locationfill\" v-if=\"order.store.location_x && order.store.location_y\" @click=\"util.jsLocation({lat: order.store.location_x, lng: order.store.location_y, name: order.store.title, address: order.store.address, type: 'app'})\"></i>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"flex-lr margin-15-t\">\r\n\t\t\t\t\t\t<span class=\"c-primary font-15\">送:</span>\r\n\t\t\t\t\t\t<ul class=\"address-text\">\r\n\t\t\t\t\t\t\t<li class=\"font-15 font-500 \">{{order.address}}</li>\r\n\t\t\t\t\t\t\t<li class=\"c-gray margin-5-t font-13\">{{order.username}} {{order.mobile}}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<i class=\"icon icon-locationfill\" v-if=\"order.location_x && order.location_y\" @click=\"util.jsLocation({lat: order.location_x, lng: order.location_y, address: order.address, type: 'app'})\"></i>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div class=\"tel-group padding-10-lr padding-15-tb van-hairline--top margin-15-t flex-lr\">\r\n\t\t\t\t\t<div class=\"tel-item flex van-hairline--right\" v-if=\"order.store\" @click=\"util.jsTel(order.store.telephone)\">\r\n\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t<img class=\"w-100\" src=\"static/img/store.png\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span>{{order.store.telephone}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tel-item flex\" @click=\"util.jsTel(order.mobile)\">\r\n\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t<img class=\"w-100\" src=\"static/img/customer.png\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span>{{order.mobile}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"tip\">货品信息</div>\r\n\t\t\t<div class=\"goods-info bg-default\">\r\n\t\t\t\t<div class=\"note\" v-if=\"order.note\">\r\n\t\t\t\t\t<div class=\"note-title\">备注:</div>\r\n\t\t\t\t\t<div class=\"note-text\">{{order.note}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"padding-15-b padding-5-t padding-10-lr van-hairline--bottom\">\r\n\t\t\t\t\t<van-row class=\"margin-10-t\" v-for=\"goodsItem in order.goods\" :key=\"goodsItem.goods_id\">\r\n\t\t\t\t\t\t<van-col span=\"12\" class=\"ellipsis\">{{goodsItem.goods_title}}</van-col>\r\n\t\t\t\t\t\t<van-col span=\"3\" class=\"text-right\">x{{goodsItem.goods_num}}</van-col>\r\n\t\t\t\t\t\t<van-col span=\"9\" class=\"text-right\">¥{{goodsItem.goods_price}}</van-col>\r\n\t\t\t\t\t</van-row>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"padding-15-b padding-5-t padding-10-lr van-hairline--bottom\">\r\n\t\t\t\t\t<ul class=\"margin-10-t c-gray flex-lr\">\r\n\t\t\t\t\t\t<li>配送费</li>\r\n\t\t\t\t\t\t<li>¥{{order.delivery_fee}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul class=\"margin-10-t c-gray flex-lr\" v-if=\"order.box_price > 0\">\r\n\t\t\t\t\t\t<li>餐盒费</li>\r\n\t\t\t\t\t\t<li>¥{{order.box_price}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul class=\"margin-10-t c-gray flex-lr\">\r\n\t\t\t\t\t\t<li>包装费</li>\r\n\t\t\t\t\t\t<li>¥{{order.pack_fee}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul class=\"margin-10-t c-gray flex-lr\" v-if=\"order.delivery_type == 2 && order.pay_type == 'delivery'\">\r\n\t\t\t\t\t\t<li>本单需收取顾客</li>\r\n\t\t\t\t\t\t<li>¥{{order.final_fee}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<template v-if=\"order.data && order.data.extra_fee\" >\r\n\t\t\t\t\t\t<ul class=\"margin-10-t c-gray flex-lr\" v-for=\"(extraFeeItem, extraFeeIndex) in order.data.extra_fee\" :key=\"extraFeeIndex\">\r\n\t\t\t\t\t\t\t<li>{{extraFeeItem.name}}</li>\r\n\t\t\t\t\t\t\t<li>¥{{extraFeeItem.fee}}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"padding-15-tb padding-10-lr text-right\">\r\n\t\t\t\t\t<span class=\"c-gray font-13 margin-10-r\">优惠¥{{order.discount_fee}}</span>\r\n\t\t\t\t\t<span class=\"c-gray font-13 margin-10-r\">共计¥{{order.total_fee}}</span>\r\n\t\t\t\t\t<span class=\"font-15\">\r\n\t\t\t\t\t\t<span>顾客实际支付</span>\r\n\t\t\t\t\t\t<span class=\"c-danger font-500\">¥{{order.final_fee}}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"order.is_pay == 1\">\r\n\t\t\t\t\t<div class=\"have-pay\" v-if=\"order.pay_type != 'delivery'\"></div>\r\n\t\t\t\t\t<div class=\"delivery-pay\" v-else-if=\"order.pay_type == 'delivery'\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"tip\">订单信息</div>\r\n\t\t\t<div class=\"bg-default padding-10-lr padding-5-t padding-15-b\">\r\n\t\t\t\t<ul class=\"margin-10-t flex-lr\">\r\n\t\t\t\t\t<li>订单号</li>\r\n\t\t\t\t\t<li>{{order.ordersn}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul class=\"margin-10-t flex-lr\">\r\n\t\t\t\t\t<li>下单时间</li>\r\n\t\t\t\t\t<li>{{order.addtime_cn}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul class=\"margin-10-t flex-lr\">\r\n\t\t\t\t\t<li>付款方式</li>\r\n\t\t\t\t\t<li>{{order.paytype_cn}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul class=\"margin-10-t flex-lr\">\r\n\t\t\t\t\t<li>收入</li>\r\n\t\t\t\t\t<li>¥{{order.plateform_deliveryer_fee}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<template v-if=\"order.invoice\">\r\n\t\t\t\t\t<ul class=\"margin-10-t flex-lr\" v-if=\"order.invoice.title\">\r\n\t\t\t\t\t\t<li>发票抬头</li>\r\n\t\t\t\t\t\t<li>{{order.invoice.title}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul class=\"margin-10-t flex-lr\" v-if=\"order.invoice.recognition\">\r\n\t\t\t\t\t\t<li>纳税人识别号</li>\r\n\t\t\t\t\t\t<li>¥{{order.invoice.recognition}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"times van-hairline--bottom bg-default margin-10-t padding-15 flex-lr font-14 text-center\">\r\n\t\t\t\t<div class=\"time-item\">\r\n\t\t\t\t\t<div class=\"time-title margin-10-b\">接单</div>\r\n\t\t\t\t\t<div class=\"day\">{{order.delivery_assign_time_cn.day}}</div>\r\n\t\t\t\t\t<div class=\"time margin-5-t\">{{order.delivery_assign_time_cn.time}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"time-item\">\r\n\t\t\t\t\t<div class=\"time-title margin-10-b\">到店</div>\r\n\t\t\t\t\t<div class=\"day\">{{order.delivery_instore_time_cn.day}}</div>\r\n\t\t\t\t\t<div class=\"time margin-5-t\">{{order.delivery_instore_time_cn.time}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"time-item\">\r\n\t\t\t\t\t<div class=\"time-title margin-10-b\">取货</div>\r\n\t\t\t\t\t<div class=\"day\">{{order.delivery_takegoods_time_cn.day}}</div>\r\n\t\t\t\t\t<div class=\"time margin-5-t\">{{order.delivery_takegoods_time_cn.time}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"time-item\">\r\n\t\t\t\t\t<div class=\"time-title margin-10-b\">送达</div>\r\n\t\t\t\t\t<div class=\"day\">{{order.delivery_success_time_cn.day}}</div>\r\n\t\t\t\t\t<div class=\"time margin-5-t\">{{order.delivery_success_time_cn.time}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"btn-group padding-10-lr padding-15-t padding-5-b bg-default\">\r\n\t\t\t\t<van-row gutter=\"10\">\r\n\t\t\t\t\t<template v-if=\"order.transfer_deliveryer_id == deliveryer.id && order.transfer_delivery_status == 1\">\r\n\t\t\t\t\t\t<van-col span=\"8\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeOrderStatus('direct_transfer_refuse')\">拒绝转单</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('direct_transfer_agree')\">接受转单</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"deliveryer.id == order.deliveryer_id\">\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.delivery_status == 4\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('wx_notice')\">微信通知</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.delivery_status == 4\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('delivery_success')\">确认送达</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.delivery_status == 7\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('delivery_instore')\">上报到店</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.delivery_status == 8 || order.delivery_status == 7\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('delivery_takegoods')\">确认取货</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.deliveryer_transfer_status == 1\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus('delivery_transfer')\">申请转单</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.deliveryer_transfer_status == 1\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeOrderStatus('direct_transfer')\">定向转单</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t<van-col span=\"8\" v-if=\"order.deliveryer_cancel_status == 1\">\r\n\t\t\t\t\t\t\t<div class=\"btn-item bg-danger\" @click=\"onChangeOrderStatus('delivery_cancel')\">取消订单</div>\r\n\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</van-row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport countDown from \"@/components/countDown\"\r\n\timport {getData} from \"../../controller/funcCommon\"\r\n\timport {changeOrderStatus} from \"./controller/order.js\"\r\n\timport {Amap} from '@/config/AMap'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t\tcountDown\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\torder: {},\r\n\t\t\t\tdeliveryer: {},\r\n\t\t\t\tconfig: {\r\n\t\t\t\t\tmap: {\r\n\t\t\t\t\t\tlocation_x: '',\r\n\t\t\t\t\t\tlocation_y: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'delivery/order/takeout/detail',\r\n\t\t\t\t\tdata: {id: that.id},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.order = res.order;\r\n\t\t\t\t\t\tthat.deliveryer = res.deliveryer;\r\n\t\t\t\t\t\tthat.config = res.config;\r\n\t\t\t\t\t\tthat.onLoadMap();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonChangeOrderStatus(type) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tchangeOrderStatus({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tfrom: 'detail',\r\n\t\t\t\t\torder: that.order,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonLoadMap() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tAmap().then(function(AMap){\r\n\t\t\t\t\t//基本地图加载\r\n\t\t\t\t\tthat.map = new AMap.Map('map-container', {\r\n\t\t\t\t\t\tresizeEnable: true,\r\n\t\t\t\t\t\tcenter: [that.config.map.location_y, that.config.map.location_x],//地图中心点\r\n\t\t\t\t\t\tzoom: 13 //地图显示的缩放级别\r\n\t\t\t\t\t});\r\n\t\t\t\t\tAMap.plugin('AMap.Driving', function() {\r\n\t\t\t\t\t\tvar driving = new AMap.Driving({\r\n\t\t\t\t\t\t\t// 驾车路线规划策略，AMap.DrivingPolicy.LEAST_TIME是最快捷模式\r\n\t\t\t\t\t\t\tpolicy: AMap.DrivingPolicy.LEAST_TIME,\r\n\t\t\t\t\t\t\tmap: that.map,\r\n\t\t\t\t\t\t\thideMarkers: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet marker = {};\r\n\t\t\t\t\t\tlet markers = [];\r\n\t\t\t\t\t\tvar startLngLat = [that.deliveryer.location_y, that.deliveryer.location_x];\r\n\t\t\t\t\t\tvar passLngLat = [that.order.store.location_y, that.order.store.location_x];\r\n\t\t\t\t\t\tvar endLngLat = [that.order.location_y, that.order.location_x];\r\n\t\t\t\t\t\tmarker = new AMap.Marker({\r\n\t\t\t\t\t\t\tposition: startLngLat,\r\n\t\t\t\t\t\t\toffset: new AMap.Pixel(-13, -31),\r\n\t\t\t\t\t\t\tcontent: '<div class=\"marker-start-route\"></div>'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tmarkers.push(marker);\r\n\t\t\t\t\t\tmarker = new AMap.Marker({\r\n\t\t\t\t\t\t\tposition: endLngLat,\r\n\t\t\t\t\t\t\toffset: new AMap.Pixel(-13, -31),\r\n\t\t\t\t\t\t\tcontent: '<div class=\"marker-end-route\"></div>'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tmarkers.push(marker);\r\n\t\t\t\t\t\tmarker = new AMap.Marker({\r\n\t\t\t\t\t\t\tposition: passLngLat,\r\n\t\t\t\t\t\t\toffset: new AMap.Pixel(-13, -31),\r\n\t\t\t\t\t\t\tcontent: '<div class=\"marker-pass-route\"></div>'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tmarkers.push(marker);\r\n\t\t\t\t\t\tdriving.search(startLngLat, endLngLat, {waypoints: [passLngLat]}, function (status, result) {\r\n\t\t\t\t\t\t\t// 未出错时，result即是对应的路线规划方案\r\n\t\t\t\t\t\t\tif (status === 'complete') {\r\n\t\t\t\t\t\t\t\tconsole.log('绘制驾车路线完成')\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log('获取驾车数据失败：' + result)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.map.add(markers);\r\n\t\t\t\t\t\tthat.map.setFitView();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonSetMapZoom() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//zoom的范围值3-18\r\n\t\t\t\tvar zoom = that.map.getZoom();\r\n\t\t\t\tzoom++;\r\n\t\t\t\tthat.map.setZoomAndCenter(zoom);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.query = this.$route.query;\r\n\t\t\tif(this.query && this.query.id) {\r\n\t\t\t\tthis.id = this.query.id;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#takeout-detail #map-container{\r\n\t\twidth: 100%;\r\n\t\theight: 200px;\r\n\t}\r\n\t#takeout-detail .tip{\r\n\t\tpadding: 10px 10px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #7a7a7a;\r\n\t}\r\n\t#takeout-detail .handle-type{\r\n\t\tbackground-color: #FF931E;\r\n\t\tcolor: #fff;\r\n\t\tfont-style: italic;\r\n\t\tpadding: 3px 7px 3px 3px;\r\n\t\tfont-size: 12px;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\t#takeout-detail .delivery-time{\r\n\t\tcolor: #1AB5F5;\r\n\t\tborder: 1px solid #1AB5F5;\r\n\t\tfont-size: 12px;\r\n\t\tpadding: 2px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t#takeout-detail .address .icon-locationfill{\r\n\t\twidth: 30px;\r\n\t\theight: 30px;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 1px solid #999;\r\n\t\tfont-size: 16px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t#takeout-detail .address .address-text{\r\n\t\tflex: 1;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\t#takeout-detail .tel-group .tel-item{\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\t#takeout-detail .tel-group .tel-item .img-wrap{\r\n\t\tfont-size: 0px;\r\n\t\twidth: 25px;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\t#takeout-detail .note{\r\n\t\tpadding: 10px;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground-color: #DFFBF9;\r\n\t\tcolor: #16C5B6;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#takeout-detail .note .note-text{\r\n\t\tflex: 1;\r\n\t\tpadding-left: 10px;\r\n\t\tline-height: 1.2;\r\n\t}\r\n\t#takeout-detail .btn-group .btn-item{\r\n\t\tmargin-bottom: 10px;\r\n\t\tpadding: 12px 0;\r\n\t\tborder-radius: 5px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#takeout-detail .marker-end-route{\r\n\t\tposition: relative;\r\n\t\twidth: 26px;\r\n\t\theight: 31px;\r\n\t\tcolor: #e90000;\r\n\t\tbackground: url(../../../static/img/end.png) no-repeat 0 0;\r\n\t\tbackground-size: cover;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#takeout-detail .marker-start-route{\r\n\t\tposition: relative;\r\n\t\twidth: 26px;\r\n\t\theight: 31px;\r\n\t\tcolor: #e90000;\r\n\t\tbackground: url(../../../static/img/start.png) no-repeat 0 0;\r\n\t\tbackground-size: cover;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#takeout-detail .marker-pass-route{\r\n\t\tposition: relative;\r\n\t\twidth: 26px;\r\n\t\theight: 31px;\r\n\t\tcolor: #e90000;\r\n\t\tbackground: url(../../../static/img/ds.png) no-repeat 0 0;\r\n\t\tbackground-size: cover;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#takeout-detail .goods-info{\r\n\t\tposition: relative;\r\n\t}\r\n\t#takeout-detail .goods-info .have-pay{\r\n\t\tposition: absolute;\r\n\t\twidth: 100px;\r\n\t\theight: 50px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -50px;\r\n\t\ttop: 100px;\r\n\t\tbackground: url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/have-pay.png\") no-repeat center center;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\t#takeout-detail .goods-info .delivery-pay{\r\n\t\tposition: absolute;\r\n\t\twidth: 110px;\r\n\t\theight: 70px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -50px;\r\n\t\ttop: 100px;\r\n\t\tbackground: url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/delivery-pay.png\") no-repeat center center;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/order/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"takeout-detail\"}},[_c('public-header',{attrs:{\"title\":\"订单详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content font-14\"},[_c('div',{attrs:{\"id\":\"map-container\"}}),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_vm._v(\"订单配送\")]),_vm._v(\" \"),_c('div',{staticClass:\"bg-default\"},[_c('div',{staticClass:\"flex-lr padding-10-lr padding-15-tb van-hairline--bottom\"},[_c('div',{staticClass:\"c-primary font-500\"},[_vm._v(\"#\"+_vm._s(_vm.order.serial_sn))]),_vm._v(\" \"),(_vm.order.status == 4)?_c('div',{staticClass:\"c-danger flex\"},[(_vm.order.delivery_overtime > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t距超时\"),_c('count-down',{staticClass:\"c-danger\",attrs:{\"endTime\":_vm.order.delivery_overtime}})]:(_vm.order.delivery_overtime_start > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t已超时\"),_c('count-down',{staticClass:\"c-danger\",attrs:{\"startTime\":_vm.order.delivery_overtime_start}})]:_vm._e()],2):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"padding-10-lr margin-15-t flex\"},[_c('span',{staticClass:\"handle-type\"},[_vm._v(_vm._s(_vm.order.delivery_collect_type_cn))]),_vm._v(\" \"),_c('span',{staticClass:\"delivery-time\"},[_vm._v(\"配送 \"+_vm._s(_vm.order.delivery_day)+\" \"+_vm._s(_vm.order.delivery_time))])]),_vm._v(\" \"),_c('ul',{staticClass:\"address padding-10-lr\",attrs:{\"margin-15-t\":\"\"}},[(_vm.order.store)?_c('li',{staticClass:\"flex-lr margin-15-t\"},[_c('span',{staticClass:\"c-info font-15\"},[_vm._v(\"取:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"address-text\"},[_c('li',{staticClass:\"font-15 font-500\"},[_vm._v(_vm._s(_vm.order.store.title))]),_vm._v(\" \"),_c('li',{staticClass:\"c-gray margin-5-t font-13\"},[_vm._v(_vm._s(_vm.order.store.address))])]),_vm._v(\" \"),(_vm.order.store.location_x && _vm.order.store.location_y)?_c('i',{staticClass:\"icon icon-locationfill\",on:{\"click\":function($event){_vm.util.jsLocation({lat: _vm.order.store.location_x, lng: _vm.order.store.location_y, name: _vm.order.store.title, address: _vm.order.store.address, type: 'app'})}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"flex-lr margin-15-t\"},[_c('span',{staticClass:\"c-primary font-15\"},[_vm._v(\"送:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"address-text\"},[_c('li',{staticClass:\"font-15 font-500 \"},[_vm._v(_vm._s(_vm.order.address))]),_vm._v(\" \"),_c('li',{staticClass:\"c-gray margin-5-t font-13\"},[_vm._v(_vm._s(_vm.order.username)+\" \"+_vm._s(_vm.order.mobile))])]),_vm._v(\" \"),(_vm.order.location_x && _vm.order.location_y)?_c('i',{staticClass:\"icon icon-locationfill\",on:{\"click\":function($event){_vm.util.jsLocation({lat: _vm.order.location_x, lng: _vm.order.location_y, address: _vm.order.address, type: 'app'})}}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tel-group padding-10-lr padding-15-tb van-hairline--top margin-15-t flex-lr\"},[(_vm.order.store)?_c('div',{staticClass:\"tel-item flex van-hairline--right\",on:{\"click\":function($event){_vm.util.jsTel(_vm.order.store.telephone)}}},[_vm._m(0),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.store.telephone))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tel-item flex\",on:{\"click\":function($event){_vm.util.jsTel(_vm.order.mobile)}}},[_vm._m(1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.mobile))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_vm._v(\"货品信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"goods-info bg-default\"},[(_vm.order.note)?_c('div',{staticClass:\"note\"},[_c('div',{staticClass:\"note-title\"},[_vm._v(\"备注:\")]),_vm._v(\" \"),_c('div',{staticClass:\"note-text\"},[_vm._v(_vm._s(_vm.order.note))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"padding-15-b padding-5-t padding-10-lr van-hairline--bottom\"},_vm._l((_vm.order.goods),function(goodsItem){return _c('van-row',{key:goodsItem.goods_id,staticClass:\"margin-10-t\"},[_c('van-col',{staticClass:\"ellipsis\",attrs:{\"span\":\"12\"}},[_vm._v(_vm._s(goodsItem.goods_title))]),_vm._v(\" \"),_c('van-col',{staticClass:\"text-right\",attrs:{\"span\":\"3\"}},[_vm._v(\"x\"+_vm._s(goodsItem.goods_num))]),_vm._v(\" \"),_c('van-col',{staticClass:\"text-right\",attrs:{\"span\":\"9\"}},[_vm._v(\"¥\"+_vm._s(goodsItem.goods_price))])],1)})),_vm._v(\" \"),_c('div',{staticClass:\"padding-15-b padding-5-t padding-10-lr van-hairline--bottom\"},[_c('ul',{staticClass:\"margin-10-t c-gray flex-lr\"},[_c('li',[_vm._v(\"配送费\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.delivery_fee))])]),_vm._v(\" \"),(_vm.order.box_price > 0)?_c('ul',{staticClass:\"margin-10-t c-gray flex-lr\"},[_c('li',[_vm._v(\"餐盒费\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.box_price))])]):_vm._e(),_vm._v(\" \"),_c('ul',{staticClass:\"margin-10-t c-gray flex-lr\"},[_c('li',[_vm._v(\"包装费\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.pack_fee))])]),_vm._v(\" \"),(_vm.order.delivery_type == 2 && _vm.order.pay_type == 'delivery')?_c('ul',{staticClass:\"margin-10-t c-gray flex-lr\"},[_c('li',[_vm._v(\"本单需收取顾客\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.final_fee))])]):_vm._e(),_vm._v(\" \"),(_vm.order.data && _vm.order.data.extra_fee)?_vm._l((_vm.order.data.extra_fee),function(extraFeeItem,extraFeeIndex){return _c('ul',{key:extraFeeIndex,staticClass:\"margin-10-t c-gray flex-lr\"},[_c('li',[_vm._v(_vm._s(extraFeeItem.name))]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(extraFeeItem.fee))])])}):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"padding-15-tb padding-10-lr text-right\"},[_c('span',{staticClass:\"c-gray font-13 margin-10-r\"},[_vm._v(\"优惠¥\"+_vm._s(_vm.order.discount_fee))]),_vm._v(\" \"),_c('span',{staticClass:\"c-gray font-13 margin-10-r\"},[_vm._v(\"共计¥\"+_vm._s(_vm.order.total_fee))]),_vm._v(\" \"),_c('span',{staticClass:\"font-15\"},[_c('span',[_vm._v(\"顾客实际支付\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger font-500\"},[_vm._v(\"¥\"+_vm._s(_vm.order.final_fee))])])]),_vm._v(\" \"),(_vm.order.is_pay == 1)?_c('div',[(_vm.order.pay_type != 'delivery')?_c('div',{staticClass:\"have-pay\"}):(_vm.order.pay_type == 'delivery')?_c('div',{staticClass:\"delivery-pay\"}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_vm._v(\"订单信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"bg-default padding-10-lr padding-5-t padding-15-b\"},[_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm.order.ordersn))])]),_vm._v(\" \"),_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"下单时间\")]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm.order.addtime_cn))])]),_vm._v(\" \"),_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"付款方式\")]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm.order.paytype_cn))])]),_vm._v(\" \"),_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"收入\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.plateform_deliveryer_fee))])]),_vm._v(\" \"),(_vm.order.invoice)?[(_vm.order.invoice.title)?_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"发票抬头\")]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm.order.invoice.title))])]):_vm._e(),_vm._v(\" \"),(_vm.order.invoice.recognition)?_c('ul',{staticClass:\"margin-10-t flex-lr\"},[_c('li',[_vm._v(\"纳税人识别号\")]),_vm._v(\" \"),_c('li',[_vm._v(\"¥\"+_vm._s(_vm.order.invoice.recognition))])]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"times van-hairline--bottom bg-default margin-10-t padding-15 flex-lr font-14 text-center\"},[_c('div',{staticClass:\"time-item\"},[_c('div',{staticClass:\"time-title margin-10-b\"},[_vm._v(\"接单\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.order.delivery_assign_time_cn.day))]),_vm._v(\" \"),_c('div',{staticClass:\"time margin-5-t\"},[_vm._v(_vm._s(_vm.order.delivery_assign_time_cn.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"time-item\"},[_c('div',{staticClass:\"time-title margin-10-b\"},[_vm._v(\"到店\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.order.delivery_instore_time_cn.day))]),_vm._v(\" \"),_c('div',{staticClass:\"time margin-5-t\"},[_vm._v(_vm._s(_vm.order.delivery_instore_time_cn.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"time-item\"},[_c('div',{staticClass:\"time-title margin-10-b\"},[_vm._v(\"取货\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.order.delivery_takegoods_time_cn.day))]),_vm._v(\" \"),_c('div',{staticClass:\"time margin-5-t\"},[_vm._v(_vm._s(_vm.order.delivery_takegoods_time_cn.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"time-item\"},[_c('div',{staticClass:\"time-title margin-10-b\"},[_vm._v(\"送达\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.order.delivery_success_time_cn.day))]),_vm._v(\" \"),_c('div',{staticClass:\"time margin-5-t\"},[_vm._v(_vm._s(_vm.order.delivery_success_time_cn.time))])])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group padding-10-lr padding-15-t padding-5-b bg-default\"},[_c('van-row',{attrs:{\"gutter\":\"10\"}},[(_vm.order.transfer_deliveryer_id == _vm.deliveryer.id && _vm.order.transfer_delivery_status == 1)?[_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeOrderStatus('direct_transfer_refuse')}}},[_vm._v(\"拒绝转单\")])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('direct_transfer_agree')}}},[_vm._v(\"接受转单\")])])]:(_vm.deliveryer.id == _vm.order.deliveryer_id)?[(_vm.order.delivery_status == 4)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('wx_notice')}}},[_vm._v(\"微信通知\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.delivery_status == 4)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('delivery_success')}}},[_vm._v(\"确认送达\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.delivery_status == 7)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('delivery_instore')}}},[_vm._v(\"上报到店\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.delivery_status == 8 || _vm.order.delivery_status == 7)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('delivery_takegoods')}}},[_vm._v(\"确认取货\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.deliveryer_transfer_status == 1)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus('delivery_transfer')}}},[_vm._v(\"申请转单\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.deliveryer_transfer_status == 1)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeOrderStatus('direct_transfer')}}},[_vm._v(\"定向转单\")])]):_vm._e(),_vm._v(\" \"),(_vm.order.deliveryer_cancel_status == 1)?_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeOrderStatus('delivery_cancel')}}},[_vm._v(\"取消订单\")])]):_vm._e()]:_vm._e()],2)],1)]),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"static/img/store.png\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"static/img/customer.png\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8ad48b42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8ad48b42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8ad48b42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/detail.vue\n// module id = null\n// module chunks = ","import util from '@/config/util.js'\r\nimport router from '@/router'\r\n\r\nfunction orderStatusChangeTips(type) {\r\n\tvar types = {\r\n\t\tdelivery_assign: {\r\n\t\t\ttip: '确定抢单吗',\r\n\t\t\tsuccess_status: 4\r\n\t\t},\r\n\t\tdirect_transfer_refuse: {\r\n\t\t\ttip: '确定拒绝转单吗',\r\n\t\t\tsuccess_status: 3,\r\n\t\t\treply: 'refuse'\r\n\t\t},\r\n\t\tdirect_transfer_agree: {\r\n\t\t\ttip: '确定接受转单吗',\r\n\t\t\tsuccess_status: 2,\r\n\t\t\treply: 'agree'\r\n\t\t},\r\n\t\tdelivery_instore: {\r\n\t\t\ttip: '确定已到店吗',\r\n\t\t\tsuccess_status: 8\r\n\t\t},\r\n\t\tdelivery_takegoods: {\r\n\t\t\ttip: '确定已取货吗',\r\n\t\t\tsuccess_status: 4\r\n\t\t},\r\n\t\tdelivery_success: {\r\n\t\t\ttip: '确认已送达吗',\r\n\t\t\tsuccess_status: 5\r\n\t\t},\r\n\t\twx_notice: {\r\n\t\t\ttip: '确定通知下单人你已到达送餐地址吗',\r\n\t\t\tsuccess_status: 0\r\n\t\t}\r\n\t}\r\n\treturn types[type];\r\n};\r\n\r\nfunction changeOrderStatus(options) {\r\n\tvar type = options.type;\r\n\tif(type == 'delivery_transfer' || type == 'direct_transfer' || type == 'delivery_cancel') {\r\n\t\trouter.push(util.getUrl({path: '/pages/order/op', query: {order_id: options.order.id, type: type, order_status: options.order.delivery_status}}));\r\n\t\treturn;\r\n\t}\r\n\tvar typeInfo = orderStatusChangeTips(type);\r\n\tvar success_status = typeInfo.success_status;\r\n\tif(type == 'direct_transfer_refuse' || type == 'direct_transfer_agree') {\r\n\t\ttype = 'direct_transfer_reply';\r\n\t}\r\n\tvar url = 'delivery/order/takeout/status';\r\n\tif(type == 'wx_notice') {\r\n\t\turl = 'delivery/order/takeout/notice';\r\n\t}\r\n\tvar params = {\r\n\t\turl: url,\r\n\t\tdata: {\r\n\t\t\tid: options.order.id,\r\n\t\t\ttype: type,\r\n\t\t\treply: typeInfo.reply || ''\r\n\t\t},\r\n\t\tconfirm: typeInfo.tip,\r\n\t\tsuccess: function(message) {\r\n\t\t\tutil.$toast(message);\r\n\t\t\tif(type == 'wx_notice') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(options.from == 'detail') {\r\n\t\t\t\tif(type == 'direct_transfer_reply') {\r\n\t\t\t\t\toptions.vue.order.transfer_delivery_status = success_status;\r\n\t\t\t\t\tif(typeInfo.reply == 'agree') {\r\n\t\t\t\t\t\toptions.vue.order.deliveryer_id = options.vue.order.transfer_deliveryer_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.vue.order.delivery_status = success_status;\r\n\t\t\t\t}\r\n\t\t\t\toptions.vue.order = Object.assign({}, options.vue.order);\r\n\t\t\t} else {\r\n\t\t\t\tif(typeInfo.reply == 'agree') {\r\n\t\t\t\t\toptions.vue.records.data[options.index].transfer_delivery_status = success_status;\r\n\t\t\t\t} else if(typeInfo.reply == 'refuse') {\r\n\t\t\t\t\toptions.vue.records.data.splice(options.index, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar types = ['delivery_assign', 'delivery_takegoods', 'delivery_success'];\r\n\t\t\t\t\tif(types.indexOf(type) != -1) {\r\n\t\t\t\t\t\toptions.vue.records.data.splice(options.index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tutil.jspost(params);\r\n};\r\n\r\nexport {\r\n\torderStatusChangeTips,\r\n\tchangeOrderStatus,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order/controller/order.js"],"sourceRoot":""}